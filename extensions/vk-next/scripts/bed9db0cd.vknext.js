"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1600,5633],{7646:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(74848),s=n(39107),c=n(42335);const r=({className:e,children:t,getRootRef:n,useScrollView:r,...a})=>r?(0,o.jsx)(s.guY,{getRootRef:n,className:(0,s.xWm)(c.A.ActionsMenu,e),children:t}):(0,o.jsx)("div",{ref:n,...a,className:(0,s.xWm)(c.A.ActionsMenu,e),children:t})},14408:(e,t,n)=>{n.d(t,{A:()=>o});const o={SwitchBlock:"QdxhbiMOyXDPk9Vj"}},21690:(e,t,n)=>{n.d(t,{r:()=>o});var o=(0,n(78414).mT)("Icon20HistoryBackwardOutline","history_backward_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="history_backward_outline_20"><path fill-rule="evenodd" d="M10 5.75a.75.75 0 0 1 .75.75v2.837c0 .129 0 .2.003.255a.24.24 0 0 0 .067.164c.037.04.088.09.18.182l1.533 1.531a.75.75 0 1 1-1.06 1.062q-.783-.784-1.568-1.566a2.6 2.6 0 0 1-.397-.464 1.8 1.8 0 0 1-.21-.507c-.049-.204-.048-.414-.048-.61q.002-1.44 0-2.884a.75.75 0 0 1 .75-.75M8.106 3.261a7 7 0 1 1-2.847 11.89.75.75 0 0 0-1.015 1.103A8.5 8.5 0 1 0 4 3.98v-.976a.75.75 0 0 0-1.5 0v2.36c0 .058 0 .139.006.212.007.088.027.229.103.379a1 1 0 0 0 .437.437c.15.076.29.096.379.103.073.006.154.006.212.006H6A.75.75 0 0 0 6 5h-.899a7 7 0 0 1 3.005-1.739" /></symbol>',20,20,!1,void 0)},21751:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(74848),s=n(96540),c=n(74225),r=n.n(c),a=n(47875);const i=()=>a.A.call("extension.getThemeEditorConfig");var l=n(93537);const d=({children:e})=>{const[t,n]=(0,s.useState)(null);return r()(async e=>{const t=await i();e()&&n(t)},[]),(0,o.jsx)(l.A.Provider,{value:t,children:e})}},22860:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(74848),s=n(75623),c=n(39107),r=n(7646);const a=({children:e,actions:t,actionsMenuClassName:n,hideOnClick:a=!0,disabled:i=!1,useScrollView:l=!1,...d})=>i?e:(0,o.jsx)(s.A,{content:(0,o.jsx)(r.A,{useScrollView:l,className:(0,c.xWm)(n),children:t}),noBackground:!0,hideOnClick:a,...d,children:e})},24676:(e,t,n)=>{n.d(t,{A:()=>o});const o={InputBlock:"Dm31rrjQpSZvxGFu"}},28457:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>u});var s=n(74848),c=n(39107),r=n(96540),a=n(87675),i=n(67194),l=n(24676),d=e([a]);a=(d.then?(await d)():d)[0];const u=({id:e,storageKey:t,placeholder:n,top:o,defaultValue:d})=>{const u=(0,a.A)(),[A,h]=(0,i.A)(),[m,g]=(0,r.useState)(A[t]||d);(0,r.useEffect)(()=>{A[t]!==m&&h({...A,[t]:m})},[m]);return(0,s.jsx)(c.eIh,{top:u.use(`vkcom_theme_editor_settings_${e}`)||o,className:l.A.InputBlock,children:(0,s.jsx)(c.pde,{value:m,onChange:e=>{const t=e.currentTarget.value;g(t||d)},placeholder:u.use(`vkcom_theme_editor_settings_placeholder_${e}`)||n})})};o()}catch(e){o(e)}})},30595:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>u});var s=n(74848),c=n(90275),r=n(94311),a=n(96957),i=n(28457),l=n(57333),d=e([r,a,i,l]);[r,a,i,l]=d.then?(await d)():d;const u=({blocks:e})=>(0,s.jsx)(s.Fragment,{children:e.map((e,t)=>"Color"===e.kind?(0,s.jsx)(r.A,{...e},e.id):"Separator"===e.kind?(0,s.jsx)(c.AS,{},"separator"+t):"Header"===e.kind?(0,s.jsx)(a.A,{...e},e.id):"Input"===e.kind?(0,s.jsx)(i.A,{...e},e.id):"Switch"===e.kind?(0,s.jsx)(l.A,{...e},e.id):(0,s.jsx)(c.vH,{disabled:!0,subtitle:JSON.stringify(e),children:"Unknown block"},t))});o()}catch(e){o(e)}})},32255:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(74848),s=n(39107),c=n(96540);const r="j9jxP1hiR90TDxYK";const a=e=>`${e.hex}${function(e){if(void 0===e.a)return"";const t=Math.round(255*e.a).toString(16);return 1===t.length?"0"+t:t}(e.rgb)}`,i=(0,c.lazy)(()=>Promise.all([n.e(3096),n.e(5189)]).then(n.bind(n,65189)).then(e=>({default:e.ChromePicker}))),l=({color:e,onChange:t,onChangeComplete:n})=>(0,o.jsx)(c.Suspense,{fallback:(0,o.jsx)(s.y$y,{}),children:(0,o.jsx)(i,{className:r,color:e||"",onChange:e=>{t?.(a(e))},onChangeComplete:e=>{n?.(a(e))}})})},40337:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(96540),s=n(93537);const c=()=>(0,o.useContext)(s.A)},42335:(e,t,n)=>{n.d(t,{A:()=>o});const o={ActionsMenu:"oXPVlZtlcjoi6d8e"}},44511:(e,t,n)=>{n.d(t,{A:()=>o});const o={ActionsMenuActionSeparator:"JUUAV9aJuLWPapUx"}},45633:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var o=n(44181);class s extends o.A{constructor(){super("Themes")}getTheme(e){return this.getStorage()[e]}setTheme(e,t){const n=this.getStorage();n[e]=t,this.saveStorage(n)}getThemes(){return this.getStorage()}setThemes(e){this.saveStorage(e)}removeTheme(e){const t=this.getStorage();delete t[e],this.saveStorage(t)}}const c=new s},48779:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>g});var s=n(74848),c=n(39107),r=n(88486),a=n(30595),i=n(62229),l=n(91937),d=n(21751),u=n(40337),A=n(81550),h=e([a,i,l]);[a,i,l]=h.then?(await h)():h;const m=()=>{const[e]=(0,r.Mj)("themeEditorPanel","colors"),t=(0,u.A)();return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,c.xWm)(A.A.Viewer__panel,"colors"===e&&A.A["Viewer__panel--active"]),children:(0,s.jsx)(a.A,{blocks:t.colors})},"colors"),(0,s.jsx)("div",{className:(0,c.xWm)(A.A.Viewer__panel,"settings"===e&&A.A["Viewer__panel--active"]),children:(0,s.jsx)(a.A,{blocks:t.settings})},"settings")]}):(0,s.jsx)("div",{className:A.A.Center,children:(0,s.jsx)(c.qBl,{})})},g=()=>(0,s.jsx)(d.A,{children:(0,s.jsxs)("div",{className:A.A.ThemeEditorPanel,children:[(0,s.jsx)(l.A,{}),(0,s.jsx)(m,{}),(0,s.jsx)(i.A,{})]})});o()}catch(e){o(e)}})},53339:(e,t,n)=>{n.d(t,{A:()=>o});const o={ActionsMenuAction:"Qz12flm1ckhwWMRi","ActionsMenuAction--clickable":"zqSAHhp0mZkpJyJv","ActionsMenuAction--loading":"maWKomPpZn38CGdY",ActionsMenuAction__title:"f5DiFbY0HMzfonGH","ActionsMenuAction--hover":"eArigbMXC9scSDcE","ActionsMenuAction--active":"dKO8yhdsvq5OQaLB","ActionsMenuAction--size-mini":"_RpwxXrwB9cHW9y9","ActionsMenuAction--size-regular":"JSPJNQnfc0rmrUKc","ActionsMenuAction--size-large":"Kz6XOr7wirTW6rZ_","ActionsMenuAction--size-max":"I5pyzjxjokMaCjf_",ActionsMenuAction__icon:"CIshpRBaU1ScuMSN","ActionsMenuAction--primary":"shY5I45XLLb2peEz","ActionsMenuAction--secondary":"CHnF5e3RJGJOddfX","ActionsMenuAction--danger":"bdbcNwBFv_xx4hSf","ActionsMenuAction--warning":"dIPqyT74MfEGnvhg",ActionsMenuAction__subtitle:"Z9G_cg7qHFwNychh","ActionsMenuAction--multiline":"rdni9aRD2DN3OfDv"}},55697:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.r(t);var s=n(74848),c=n(57580),r=n(36585),a=n(22707),i=n(48779),l=n(3068),d=n(43024),u=n(81550),A=e([c,i]);[c,i]=A.then?(await A)():A;const h=document.createElement("div"),m=document.createElement("div");m.className=u.A.ThemeEditor_portal;let g=null;const v=async()=>{g&&(g(),g=null),await(0,r.v)(),await(0,a.t)(),document.body.append(h,m);const{unmount:e}=await(0,l.A)({root:h,portal:m,content:(0,s.jsx)(i.A,{}),disableParentTransformForPositionFixedElements:!0});g=e},x=()=>{g&&(g(),g=null),h.remove(),m.remove()},f=()=>d.default.getValue("currentTheme")===d.default.getValue("themeEditor");0,(async()=>{await v(),d.default.addListener(async(e,t)=>{const n=e.currentTheme!==t.currentTheme,o=e.themeEditor!==t.themeEditor;if(n||o){f()?await v():x()}})})(),o()}catch(e){o(e)}})},57333:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>A});var s=n(74848),c=n(90275),r=n(95974),a=n(96540),i=n(87675),l=n(67194),d=n(14408),u=e([i]);i=(u.then?(await u)():u)[0];const A=({id:e,title:t,storageKey:n})=>{const o=(0,i.A)(),[u,A]=(0,l.A)(),[h,m]=(0,a.useState)(u[n]);return(0,a.useEffect)(()=>{u[n]!==h&&A({...u,[n]:h})},[h]),(0,s.jsx)(c.vH,{className:d.A.SwitchBlock,Component:"label",rightIcon:(0,s.jsx)(r.A,{onChange:()=>{m(!h)},checked:h}),children:o.use(`vkcom_theme_editor_settings_${e}`)||t})};o()}catch(e){o(e)}})},61166:(e,t,n)=>{n.d(t,{A:()=>o});const o={PopoverReforged:"V5vFILKwsuTAoDXp","reforged-anim-fade-in":"aKnVnnmt_OsWj600","reforged-anim-fade-out":"uvPWUxQQgpV6cgFC","PopoverReforged--noBackground":"h4DVtB6f3FyJCExI"}},62229:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>d});var s=n(74848),c=n(39107),r=n(87675),a=n(43024),i=n(63864),l=e([r]);r=(l.then?(await l)():l)[0];const d=()=>{const e=(0,r.A)();return(0,s.jsx)("footer",{className:i.A.Footer,children:(0,s.jsx)(c.$nd,{stretched:!0,onClick:()=>a.default.setValue("themeEditor",!1),children:e.use("global_save")})})};o()}catch(e){o(e)}})},62882:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(74848),s=n(39107),c=n(53339);const r={mini:c.A["ActionsMenuAction--size-mini"],large:c.A["ActionsMenuAction--size-large"],regular:c.A["ActionsMenuAction--size-regular"],max:c.A["ActionsMenuAction--size-max"]},a={primary:c.A["ActionsMenuAction--primary"],secondary:c.A["ActionsMenuAction--secondary"],danger:c.A["ActionsMenuAction--danger"],warning:c.A["ActionsMenuAction--warning"]},i=({leftIcon:e,rightIcon:t,title:n,subtitle:i,type:l="secondary",size:d="regular",isActive:u=!1,hasHover:A=!0,isLoading:h,className:m,onClick:g,titleClassName:v,getRootRef:x,href:f,Component:_=(f?"a":"button"),children:j,multiline:k=!1,...p})=>(0,o.jsxs)(_,{className:(0,s.xWm)(c.A.ActionsMenuAction,A&&c.A["ActionsMenuAction--hover"],(g||A||f)&&c.A["ActionsMenuAction--clickable"],a[l],h&&c.A["ActionsMenuAction--loading"],u&&c.A["ActionsMenuAction--active"],k&&c.A["ActionsMenuAction--multiline"],r[d],m),onClick:h?void 0:g,ref:x,href:f,...p,children:[e&&(0,o.jsx)("i",{className:c.A.ActionsMenuAction__icon,children:e}),(0,o.jsxs)("span",{title:n,className:(0,s.xWm)(c.A.ActionsMenuAction__title,v),children:[j,i&&(0,o.jsx)("span",{className:c.A.ActionsMenuAction__subtitle,children:i})]}),t&&(0,o.jsx)("i",{className:c.A.ActionsMenuAction__icon,children:t})]})},63864:(e,t,n)=>{n.d(t,{A:()=>o});const o={Footer:"MOKkrfJZpx1MqTRj"}},67194:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(96540),s=n(79705),c=n(45633);const r=()=>{const[e]=(0,s.A)("currentTheme"),[t,n]=(0,o.useState)(c.default.getTheme(e)),r=(0,o.useRef)();return(0,o.useEffect)(()=>{n(c.default.getTheme(e))},[e]),(0,o.useEffect)(()=>{const{remove:o}=c.default.addListener((o,s)=>{const c=s[e];JSON.stringify(t)!==JSON.stringify(c)&&n(c)});return()=>o()},[]),[t,t=>{n(t),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{c.default.setTheme(e,t)},500)}]}},74225:(e,t,n)=>{var o=n(96540);function s(e,t,n){var s="function"==typeof t;o.useEffect(function(){var n,o=!0,c=e(function(){return o});return Promise.resolve(c).then(function(e){n=e}),function(){o=!1,s&&t(n)}},s?n:t)}e.exports=s,e.exports.useAsyncEffect=s},75623:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(74848),s=n(39107),c=n(96540),r=n(61166);const a=({hideOnClick:e=!1,noBackground:t=!1,mode:n,onClick:a,onShownChange:i,className:l,contentWrapperClassName:d,shown:u,content:A,...h})=>{const[m,g]=(0,c.useState)(!1),v=(0,c.useRef)(null),x=(0,c.useRef)(null),f=(0,c.useCallback)(e=>{e?g(!0):v.current=setTimeout(()=>{g(!1)},100),i?.(e)},[n,i,g]);return(0,c.useEffect)(()=>{"boolean"==typeof u&&f(u)},[u,f]),(0,o.jsx)(s.AMh,{shown:m,className:(0,s.xWm)(r.A.PopoverReforged,t&&r.A["PopoverReforged--noBackground"],l),onShownChange:f,onClick:e=>{if("side"===n&&v.current)clearTimeout(v.current);else try{a?.(e)}catch(e){console.error(e)}},content:(0,o.jsx)("div",{ref:x,className:(0,s.xWm)(d),onClick:t=>{e&&x.current?.contains(t.target)&&g(!1)},children:A}),...h})}},79705:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(96540),s=n(43024);const c=function(e){const[t,n]=(0,o.useState)(s.default.getValue(e));return(0,o.useEffect)(()=>{const t=s.default.addChangeKeyListener(e,(e,t)=>n(t));return()=>t.remove()},[e]),[t,t=>{s.default.setValue(e,t)}]}},81550:(e,t,n)=>{n.d(t,{A:()=>o});const o={ThemeEditorPanel:"y78m7BT9zAFa5GDk",Center:"hHWKbHQWpLPhLBse",ThemeEditor_portal:"TrGQmfpAYK10wYz8",Viewer__panel:"lzeNzsPTXGZgl1Sr","Viewer__panel--active":"TEmxaiW4mHWLWFSq"}},83558:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(74848),s=n(39107),c=n(44511);const r=({getRootRef:e,className:t,...n})=>(0,o.jsx)("div",{role:"separator",className:(0,s.xWm)(c.A.ActionsMenuActionSeparator,t),ref:e,...n})},86262:(e,t,n)=>{n.d(t,{A:()=>o});const o={ColorBlock__item:"iAbxsOuH3PsjSctD",ColorBlock__itemColor:"_qgbcGmHD5cUTPTg",ChromePicker:"j9y1A4zpynWrSIzJ",ColorBlock__buttons:"k6A2ud7MFrKjrhyg",ColorBlock_backButton:"ncsJI4LVytOlFn8n"}},87675:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>c});var s=n(93819);const e=await s.A,c=()=>e;o()}catch(e){o(e)}},1)},90275:(e,t,n)=>{n.d(t,{AS:()=>s.A,Ku:()=>c.A,vH:()=>o.A});n(7646);var o=n(62882),s=n(83558),c=n(22860)},91937:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>l});var s=n(74848),c=n(39107),r=n(88486),a=n(87675),i=e([a]);a=(i.then?(await i)():i)[0];const l=()=>{const e=(0,a.A)(),[t,n]=(0,r.Mj)("themeEditorPanel","colors");return(0,s.jsx)(c.tUM,{mode:"accent",children:(0,s.jsxs)(c.ox2,{children:[(0,s.jsx)(c.ORv,{onClick:()=>n("colors"),selected:"colors"===t,children:e.use("vkcom_theme_editor_colors")}),(0,s.jsx)(c.ORv,{onClick:()=>n("settings"),selected:"settings"===t,children:e.use("vkcom_theme_editor_settings")})]})})};o()}catch(e){o(e)}})},93537:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(96540).createContext)(null)},94311:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>g});var s=n(74848),c=n(90275),r=n(75623),a=n(32255),i=n(21690),l=n(39107),d=n(96540),u=n(87675),A=n(67194),h=n(86262),m=e([u]);u=(m.then?(await m)():m)[0];const g=({id:e,title:t,target:n,alternatives:o})=>{const m=(0,u.A)(),[g,v]=(0,A.A)(),x=(0,d.useRef)(g.variables[n]||window.getComputedStyle(document.body).getPropertyValue(n)),[f,_]=(0,d.useState)(x.current),j=e=>{_(e);const t={...g.variables,[n]:e};if(Array.isArray(o))for(const n of o)t[n]=e;v({...g,variables:t})},k=m.use(`vkcom_theme_editor_color_${e}`)||t;return(0,s.jsx)(c.vH,{title:k.length>30?k:void 0,hasHover:!1,rightIcon:(0,s.jsxs)("div",{className:h.A.ColorBlock__buttons,children:[x.current!==f&&(0,s.jsx)(l.K0,{className:h.A.ColorBlock_backButton,onClick:()=>j(x.current),children:(0,s.jsx)(i.r,{})}),(0,s.jsx)(r.A,{trigger:"hover",content:(0,s.jsx)(a.A,{color:f||"",onChange:j,onChangeComplete:j}),children:(0,s.jsx)(l.K0,{className:h.A.ColorBlock__item,children:(0,s.jsx)("div",{style:{backgroundColor:f},className:h.A.ColorBlock__itemColor})})})]}),children:k})};o()}catch(e){o(e)}})},95974:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(74848),s=n(39107);const c="_ME21DoLEVJUlnQU",r=({className:e,...t})=>(0,o.jsx)(s.V9m,{value:s.ODD.ANDROID,children:(0,o.jsx)(s.dOG,{className:(0,s.xWm)(c,e),...t})})},96957:(e,t,n)=>{n.a(e,async(e,o)=>{try{n.d(t,{A:()=>i});var s=n(74848),c=n(39107),r=n(87675),a=e([r]);r=(a.then?(await a)():a)[0];const i=({title:e,id:t,size:n="m"})=>{const o=(0,r.A)();return(0,s.jsx)(c.Y9Y,{size:n,children:o.use(`vkcom_theme_editor_${t}`)||e})};o()}catch(e){o(e)}})}}]);