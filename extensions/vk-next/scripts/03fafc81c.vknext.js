"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1941],{71941:(t,e,n)=>{n.d(e,{downloadZip:()=>x}),"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(t,e,n){const i=Number(0xffffffffn&e),o=Number(e>>32n);this.setUint32(t+(n?0:4),i,n),this.setUint32(t+(n?4:0),o,n)}});var i=t=>new DataView(new ArrayBuffer(t)),o=t=>new Uint8Array(t.buffer||t),r=t=>(new TextEncoder).encode(String(t)),s=t=>Math.min(4294967295,Number(t)),f=t=>Math.min(65535,Number(t));function a(t,e,n){void 0===e||e instanceof Date||(e=new Date(e));const i=void 0!==t;if(n||(n=i?436:509),t instanceof File)return{isFile:i,t:e||new Date(t.lastModified),bytes:t.stream(),mode:n};if(t instanceof Response)return{isFile:i,t:e||new Date(t.headers.get("Last-Modified")||Date.now()),bytes:t.body,mode:n};if(void 0===e)e=new Date;else if(isNaN(e))throw new Error("Invalid modification date.");if(!i)return{isFile:i,t:e,mode:n};if("string"==typeof t)return{isFile:i,t:e,bytes:r(t),mode:n};if(t instanceof Blob)return{isFile:i,t:e,bytes:t.stream(),mode:n};if(t instanceof Uint8Array||t instanceof ReadableStream)return{isFile:i,t:e,bytes:t,mode:n};if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return{isFile:i,t:e,bytes:o(t),mode:n};if(Symbol.asyncIterator in t)return{isFile:i,t:e,bytes:u(t[Symbol.asyncIterator]()),mode:n};throw new TypeError("Unsupported input format.")}function u(t,e=t){return new ReadableStream({async pull(e){let n=0;for(;e.desiredSize>n;){const i=await t.next();if(!i.value){e.close();break}{const t=l(i.value);e.enqueue(t),n+=t.byteLength}}},cancel(t){e.throw?.(t)}})}function l(t){return"string"==typeof t?r(t):t instanceof Uint8Array?t:o(t)}function c(t,e,n){let[i,s]=function(t){return t?t instanceof Uint8Array?[t,1]:ArrayBuffer.isView(t)||t instanceof ArrayBuffer?[o(t),1]:[r(t),0]:[void 0,0]}(e);if(t instanceof File)return{i:g(i||r(t.name)),o:BigInt(t.size),u:s};if(t instanceof Response){const e=t.headers.get("content-disposition"),o=e&&e.match(/;\s*filename\*?\s*=\s*(?:UTF-\d+''|)["']?([^;"'\r\n]*)["']?(?:;|$)/i),f=o&&o[1]||t.url&&new URL(t.url).pathname.split("/").findLast(Boolean),a=f&&decodeURIComponent(f),u=n||+t.headers.get("content-length");return{i:g(i||r(a)),o:BigInt(u),u:s}}return i=g(i,void 0!==t||void 0!==n),"string"==typeof t?{i,o:BigInt(r(t).length),u:s}:t instanceof Blob?{i,o:BigInt(t.size),u:s}:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?{i,o:BigInt(t.byteLength),u:s}:{i,o:d(t,n),u:s}}function d(t,e){return e>-1?BigInt(e):t?void 0:0n}function g(t,e=1){if(!t||t.every(t=>47===t))throw new Error("The file must have a name.");if(e)for(;47===t[t.length-1];)t=t.subarray(0,-1);else 47!==t[t.length-1]&&(t=new Uint8Array([...t,47]));return t}var y=new Uint32Array(256);for(let t=0;t<256;++t){let e=t;for(let t=0;t<8;++t)e=e>>>1^(1&e&&3988292384);y[t]=e}function U(t,e=0){e=~e;for(var n=0,i=t.length;n<i;n++)e=e>>>8^y[255&e^t[n]];return~e>>>0}function h(t,e,n=0){const i=t.getSeconds()>>1|t.getMinutes()<<5|t.getHours()<<11,o=t.getDate()|t.getMonth()+1<<5|t.getFullYear()-1980<<9;e.setUint16(n,i,1),e.setUint16(n+2,o,1)}function m({i:t,u:e},n){return 8*(!e||(n??function(t){try{w.decode(t)}catch{return 0}return 1}(t)))}var w=new TextDecoder("utf8",{fatal:1});function b(t,e=0){const n=i(30);return n.setUint32(0,1347093252),n.setUint32(4,754976768|e),h(t.t,n,10),n.setUint16(26,t.i.length,1),o(n)}async function*p(t){let{bytes:e}=t;if("then"in e&&(e=await e),e instanceof Uint8Array)yield e,t.l=U(e,0),t.o=BigInt(e.length);else{t.o=0n;const n=e.getReader();for(;;){const{value:e,done:i}=await n.read();if(i)break;t.l=U(e,t.l),t.o+=BigInt(e.length),yield e}}}function B(t,e){const n=i(16+(e?8:0));return n.setUint32(0,1347094280),n.setUint32(4,t.isFile?t.l:0,1),e?(n.setBigUint64(8,t.o,1),n.setBigUint64(16,t.o,1)):(n.setUint32(8,s(t.o),1),n.setUint32(12,s(t.o),1)),o(n)}function v(t,e,n=0,r=0){const f=i(46);return f.setUint32(0,1347092738),f.setUint32(4,755182848),f.setUint16(8,2048|n),h(t.t,f,12),f.setUint32(16,t.isFile?t.l:0,1),f.setUint32(20,s(t.o),1),f.setUint32(24,s(t.o),1),f.setUint16(28,t.i.length,1),f.setUint16(30,r,1),f.setUint16(40,t.mode|(t.isFile?32768:16384),1),f.setUint32(42,s(e),1),o(f)}function I(t,e,n){const r=i(n);return r.setUint16(0,1,1),r.setUint16(2,n-4,1),16&n&&(r.setBigUint64(4,t.o,1),r.setBigUint64(12,t.o,1)),r.setBigUint64(n-8,e,1),o(r)}function F(t){return t instanceof File||t instanceof Response?[[t],[t]]:[[t.input,t.name,t.size],[t.input,t.lastModified,t.mode]]}var A=t=>function(t){let e=BigInt(22),n=0n,i=0;for(const o of t){if(!o.i)throw new Error("Every file must have a non-empty name.");if(void 0===o.o)throw new Error(`Missing size for file "${(new TextDecoder).decode(o.i)}".`);const t=o.o>=0xffffffffn,r=n>=0xffffffffn;n+=BigInt(46+o.i.length+(t&&8))+o.o,e+=BigInt(o.i.length+46+(12*r|28*t)),i||(i=t)}return(i||n>=0xffffffffn)&&(e+=BigInt(76)),e+n}(function*(t){for(const e of t)yield c(...F(e)[0])}(t));function x(t,e={}){const n={"Content-Type":"application/zip","Content-Disposition":"attachment"};return("bigint"==typeof e.length||Number.isInteger(e.length))&&e.length>0&&(n["Content-Length"]=String(e.length)),e.metadata&&(n["Content-Length"]=String(A(e.metadata))),new Response(D(t,e),{headers:n})}function D(t,e={}){const n=function(t){const e=t[Symbol.iterator in t?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const t=await e.next();if(t.done)return t;const[n,i]=F(t.value);return{done:0,value:Object.assign(a(...i),c(...n))}},throw:e.throw?.bind(e),[Symbol.asyncIterator](){return this}}}(t);return u(async function*(t,e){const n=[];let r=0n,a=0n,u=0;for await(const i of t){const t=m(i,e.buffersAreUTF8);yield b(i,t),yield new Uint8Array(i.i),i.isFile&&(yield*p(i));const o=i.o>=0xffffffffn,s=12*(r>=0xffffffffn)|28*o;yield B(i,o),n.push(v(i,r,t,s)),n.push(i.i),s&&n.push(I(i,r,s)),o&&(r+=8n),a++,r+=BigInt(46+i.i.length)+i.o,u||(u=o)}let l=0n;for(const t of n)yield t,l+=BigInt(t.length);if(u||r>=0xffffffffn){const t=i(76);t.setUint32(0,1347094022),t.setBigUint64(4,BigInt(44),1),t.setUint32(12,755182848),t.setBigUint64(24,a,1),t.setBigUint64(32,a,1),t.setBigUint64(40,l,1),t.setBigUint64(48,r,1),t.setUint32(56,1347094023),t.setBigUint64(64,r+l,1),t.setUint32(72,1,1),yield o(t)}const c=i(22);c.setUint32(0,1347093766),c.setUint16(8,f(a),1),c.setUint16(10,f(a),1),c.setUint32(12,s(l),1),c.setUint32(16,s(r),1),yield o(c)}(n,e),n)}}}]);