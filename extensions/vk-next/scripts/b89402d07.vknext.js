"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3122],{30835:(e,t,o)=>{o.a(e,async(e,a)=>{try{o.r(t);var n=o(74848),r=o(57580),l=o(36585),s=o(22707),c=o(91570),i=o(38171),d=o(13625),u=o(3068),p=o(43024),y=o(71610),v=o(71898),_=e([r]);r=(_.then?(await _)():_)[0];const h=document.createElement("div");h.className=v.A.TopPlayerRoot;let m=null;const f=async()=>{await(0,l.v)(),await(0,c.R)(),await(0,s.t)();let e=!1,t=!0,a=document.querySelector(".top_audio_player,#top_audio_player");if(a||(a=document.querySelector(".HeaderNav__audio"),a&&(e=!0)),a||(a=document.querySelector('[class*="TopNavigation__player"]'),a&&(t=!1,e=!0)),!a)return;if(a.contains(h))return;m&&(m(),m=null),a.appendChild(h),e?h.classList.add(v.A["TopPlayerRoot--clickable"]):h.classList.remove(v.A["TopPlayerRoot--clickable"]);const r=await Promise.all([o.e(961),o.e(7397),o.e(1649),o.e(8414),o.e(751)]).then(o.bind(o,20751)),{unmount:i}=await(0,u.A)({root:h,content:(0,n.jsx)(r.default,{newPlayer:e,showTopBtn:t}),disableAppRoot:!0,disableConfig:!0});m=i};let w;0;const k=()=>{w&&w(),f(),w=(0,i.A)(f)},b=()=>{w&&(w(),w=null),h.parentElement&&h.remove(),m&&(m(),m=null)};p.default.onInited(()=>{p.default.getValue("alternativeTopPlayer")?k():b()}),p.default.addChangeKeyListener("alternativeTopPlayer",(e,t)=>{t?k():b()}),(0,d.A)("alternativeTopPlayer",y.A),a()}catch(e){a(e)}})},38171:(e,t,o)=>{o.d(t,{A:()=>u});var a=o(51018),n=o(79110),r=o(36585),l=o(22707);const s=new a.e,c=()=>{const e=(()=>{const e=document.querySelector(".HeaderNav,#page_header");return!!e&&(!e.querySelector('[class*="Skeleton__skeleton"],[class*="SkeletonComponent__skeleton"]')&&(!!document.querySelector('#top_profile_link,#react_rootTopNavProfileMenu,[data-testid="header-profile-menu-button"]')&&e))})();return!!e&&(!e.querySelector(".ProfileMenuSkeletonRoot")&&((async e=>{for(const t of s.listeners)t&&(await(0,l.t)(),t(e))})(e),!0))},i=()=>{const e=document.getElementById("page_header_wrap");if(!e)return;new MutationObserver(e=>{for(const t of e)t.addedNodes.length&&c()}).observe(e,{childList:!0}),requestAnimationFrame(()=>c())};let d=!1;const u=e=>{const t=s.addListener(e);return d?c():(d=!0,(0,n.g)(i),(async()=>{if(c())return;const e=new MutationObserver(()=>{c()&&e.disconnect()});e.observe(await(0,r.v)(),{childList:!0}),(0,n.g)(c)})()),t}},71610:(e,t,o)=>{o.d(t,{A:()=>a});const a=o.p+"styles/1c57d6eb.vknext.css"},71898:(e,t,o)=>{o.d(t,{A:()=>a});const a={TopPlayer:"FcG1hxw7oUOSNjYQ",TopPlayerRoot:"hefNQgc_vw0KXzdA","TopPlayerRoot--clickable":"VZR1LBBKGg9d0678",TopPlayer__stateLayer:"KlMV7pU4R2qkQoFY"}}}]);