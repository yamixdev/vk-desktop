"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[634],{10634:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var r=s(53778);class a extends r.default{constructor(){super("chatStats",{lifetime:3e3})}async getData(e,t){const s=(await this.getStorage())[`${e}_${t}`];return s?{...s,badWords:new Map(Object.entries(s?.badWords)),emojis:new Map(Object.entries(s?.emojis)),msgCountBySender:new Map(Object.entries(s?.msgCountBySender).map(e=>[+e[0],e[1]])),stickers:new Map(Object.entries(s?.stickers).map(e=>[+e[0],e[1]])),ugcStickers:new Map(Object.entries(s?.ugcStickers).map(e=>[+e[0],e[1]])),words:new Map(Object.entries(s?.words)),messagesByDay:new Map(Object.entries(s?.messagesByDay).map(e=>[+e[0],e[1]]))}:null}async setData(e,t,s){const r=await this.getStorage();r[`${e}_${t}`]={...s,badWords:Object.fromEntries(s.badWords.entries()),emojis:Object.fromEntries(s.emojis.entries()),msgCountBySender:Object.fromEntries(s.msgCountBySender.entries()),stickers:Object.fromEntries(s.stickers.entries()),ugcStickers:Object.fromEntries(s.ugcStickers.entries()),words:Object.fromEntries(s.words.entries()),messagesByDay:Object.fromEntries(s.messagesByDay.entries())},await this.saveStorage(r)}async deleteData(e,t){if(!e)throw new Error("Peer id is not defined");const s=await this.getStorage();delete s[`${e}_${t}`],await this.saveStorage(s)}}const n=new a}}]);