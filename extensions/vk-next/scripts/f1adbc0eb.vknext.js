"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1812,2913],{2760:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>h});var n=s(74848),r=s(8015),i=s(57087),c=s(39107),o=s(45123),l=t([r]);r=(l.then?(await l)():l)[0];const d="https://static.vknext.net/logos/VKNext.png",h=({from_id:t,accepted:e})=>{const s=(0,r.A)(),{usersCache:a}=(0,i.y$)(),{groupsCache:l}=(0,i.Qm)();return(0,n.jsx)(c.son,{align:"center",justify:"center",margin:"auto",children:(0,n.jsx)(c.f$Y,{photos:[(()=>{if(!t)return d;const e=a.get(t);if(e?.photo_50)return e.photo_50;const s=l.get(Math.abs(t));return s?.photo_50?s.photo_50:d})()],children:(()=>{const r=(()=>{if(!t)return null;const e=a.get(t);if(e)return(0,o.A)(e.first_name_gen||e.first_name,e.last_name_gen||e.last_name,e.maiden_name,e.sex);const s=l.get(Math.abs(t));return s?s.name:(0,n.jsx)(c.EAD,{width:66})})();return r?s.use(e?"settings_gifts_from_accepted":"settings_gifts_from",{name:r}):s.use(e?"settings_gifts_accepted":"settings_gifts_title")})()})})};a()}catch(t){a(t)}})},3697:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>i});var n=s(8015),r=t([n]);n=(r.then?(await r)():r)[0];const i=t=>{const e=(0,n.A)();if(!t)return"";const s=86400;let a=[];const r=[{value:31536e3,key:"global_age_years"},{value:2592e3,key:"global_age_months"},{value:604800,key:"global_age_weeks"},{value:s,key:"global_age_days"},{value:3600,key:"global_hours"},{value:60,key:"global_minutes"}];for(const{value:s,key:n}of r)if(t>=s){const r=Math.floor(t/s);a.push(e.use(n,r)),t%=s}return a.join(", ")};a()}catch(t){a(t)}})},7708:(t,e,s)=>{s.d(e,{A:()=>h});var a=s(74848),n=s(11157),r=s(39107),i=s(13742),c=s(68741),o=s(91691);const l="zRIhm_rzeRaOj2Bs",d="m8aAYX3glAEj5Q3G",h=({beforeClassname:t,backPage:e,hideButtonIsFirstPage:s,hideBackButtonInTablet:h,children:_,...u})=>{const g=(0,n.XC)(),f=(0,n.Gz)(),{width:p}=(0,i.A)();let m=s&&g&&(0,o.A)();return h&&(p||800)>768&&(m=!0),(0,a.jsx)(r.aOn,{before:!m&&(0,a.jsx)(r.Hy0,{onClick:async()=>{g?e?await f.replace(e):await f.push(c.JZ.root.main.home):await f.back()},className:(0,r.xWm)(l,t),hideLabelOnIOS:!0}),...u,children:(0,a.jsx)("div",{className:d,children:_})})}},13399:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>g});var n=s(74848),r=s(39107),i=s(86231),c=s(2760),o=s(48866),l=s(89341),d=s(44787),h=s(98079),_=t([i,c,o,d,h]);[i,c,o,d,h]=_.then?(await _)():_;const u=["prime","deluxe"],g=({gift:t})=>u.includes(t.type)?(0,n.jsxs)(r.YJl,{children:[(0,n.jsx)(r.YJl,{separator:"hide",children:(0,n.jsx)(r.OrA,{icon:(0,n.jsx)(l.A,{type:t.type,thumb:t.thumb}),title:(0,n.jsx)(d.A,{type:t.type,title:t.title}),action:(0,n.jsx)(i.A,{gift:t}),children:(0,n.jsx)(o.A,{period:t.period})})}),(0,n.jsx)(c.A,{from_id:t.from_id,accepted:t.accepted})]}):(0,n.jsx)(r.YJl,{children:(0,n.jsx)(h.A,{})});a()}catch(t){a(t)}})},31812:(t,e,s)=>{s.d(e,{default:()=>n});var a=s(98570);const n=async()=>{const t=(0,a.A)().browserApi;if(!t)throw new Error("browserApi not found");const e=t.storage;try{for(let t=localStorage.length-1;t>=0;t--){const e=localStorage.key(t);e&&(e.startsWith("vknLP")||e.startsWith("e4f8f7d4436d")||e.startsWith("posts_app_modules_@id:"))&&localStorage.removeItem(e)}}catch(t){console.error(t)}const s=[];for(const t in await e.local.getAll())t&&(t.startsWith("vknLP")||t.startsWith("e4f8f7d4436d")||t.startsWith("posts_app_modules_@id:"))&&s.push(t);await e.local.remove(s)}},44787:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>i});var n=s(8015),r=t([n]);n=(r.then?(await r)():r)[0];const i=({title:t,type:e})=>{const s=(0,n.A)();return t||("prime"===e?s.use("global_prime_name"):"deluxe"===e?s.use("global_prime_deluxe_name"):null)};a()}catch(t){a(t)}})},45123:(t,e,s)=>{s.d(e,{A:()=>a});const a=(t,e,s,a)=>{const n=[];return t&&n.push(t.trim()),e&&n.push(e.trim()),s&&1===a&&n.push(`(${s.trim()})`),n.join(" ")}},45393:(t,e,s)=>{s.d(e,{F:()=>a});var a=(0,s(78414).mT)("Icon36GiftCirceFilled","gift_circe_filled_36","0 0 36 36",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 36 36" id="gift_circe_filled_36"><circle cx="18" cy="18" r="18" fill="url(#gift_circe_filled_36_a)" /><path fill="#fff" d="M16.436 7.693c.629.426 1.156 1.017 1.565 1.756.408-.74.935-1.33 1.564-1.756 1.49-1.01 3.376-.902 4.51.232 1.135 1.135 1.242 3.02.233 4.51a4.6 4.6 0 0 1-.453.565H25c.799 0 1.51.178 2.102.504a3.5 3.5 0 0 1 1.393 1.394C28.822 15.49 29 16.2 29 17v.429c0 1.007-.14 1.547-.4 2.036a2.73 2.73 0 0 1-1.135 1.134 3 3 0 0 1-.463.201L27 23.872c0 1.783-.186 2.43-.534 3.081a3.64 3.64 0 0 1-1.512 1.512c-.652.349-1.299.535-3.082.535h-7.744c-1.783 0-2.43-.186-3.082-.535a3.64 3.64 0 0 1-1.512-1.512C9.186 26.301 9 25.655 9 23.872V20.8a3 3 0 0 1-.465-.201A2.73 2.73 0 0 1 7.4 19.465c-.24-.448-.377-.94-.398-1.794L7 17c0-.8.178-1.51.505-2.102.326-.593.8-1.067 1.393-1.394S10.201 13 11 13l1.146.001a4.6 4.6 0 0 1-.453-.565c-1.01-1.49-.902-3.375.233-4.51 1.134-1.134 3.02-1.242 4.51-.232ZM17 20.999h-6v2.873c0 1.323.078 1.727.298 2.138.162.303.388.53.691.692.412.22.815.297 2.139.297H17zm2 0v6h2.872c1.324 0 1.727-.077 2.139-.297.303-.163.529-.389.691-.692.22-.411.298-.815.298-2.138V21zm-2-6h-6c-.458 0-.84.093-1.137.257a1.5 1.5 0 0 0-.607.606C9.092 16.16 9 16.542 9 17l.002.609c.009.506.06.722.162.913a.73.73 0 0 0 .314.313c.21.113.45.163 1.075.165L17 18.998zm8 0h-6v4h6.446l.163-.001c.506-.01.722-.06.913-.163a.73.73 0 0 0 .314-.313c.102-.191.153-.407.163-.913l.001-.61c0-.458-.093-.839-.256-1.137a1.5 1.5 0 0 0-.607-.606c-.298-.164-.679-.257-1.137-.257m-6-2c3.65-.35 4.695-2.704 3.7-3.7-.995-.995-3.35.05-3.7 3.7m-5.699-3.7c-.995.996.05 3.35 3.7 3.7-.35-3.65-2.705-4.695-3.7-3.7" /><defs><linearGradient id="gift_circe_filled_36_a" x1="-18" x2="18" y1="18" y2="54" gradientUnits="userSpaceOnUse"><stop stop-color="#928FFF" /><stop offset="1" stop-color="#4B47B2" /></linearGradient></defs></symbol>',36,36,!1,void 0)},48866:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>o});var n=s(74848),r=s(3697),i=s(8015),c=t([r,i]);[r,i]=c.then?(await c)():c;const o=({period:t})=>{const e=(0,i.A)(),s=(0,r.A)(t);return s?(0,n.jsx)("span",{children:e.use("settings_gifts_active_period",{period:s})}):null};a()}catch(t){a(t)}})},52144:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>d});var n=s(74848),r=s(8015),i=s(93750),c=s(39107),o=s(13399),l=t([r,o]);[r,o]=l.then?(await l)():l;const d=()=>{const{gifts:t,isLoading:e}=(0,i.A)(),s=(0,r.A)();return e?(0,n.jsx)(c.YJl,{children:(0,n.jsx)(c.qBl,{})}):0===t.length?(0,n.jsx)(c.YJl,{children:(0,n.jsx)(c.OrA,{children:s.use("settings_gifts_not_found")})}):t.map(t=>(0,n.jsx)(o.A,{gift:t},t.id))};a()}catch(t){a(t)}})},86231:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>_});var n=s(74848),r=s(70122),i=s(8015),c=s(93750),o=s(57087),l=s(39107),d=s(31812),h=t([i]);i=(h.then?(await h)():h)[0];const _=({gift:t})=>{const e=(0,i.A)(),{showSnackbar:s,hideSnackbar:a}=(0,o.Qs)(),{forceUpdate:h}=(0,c.A)();return t.accepted?null:(0,n.jsx)(l.e2v,{children:(0,n.jsx)(l.$nd,{size:"m",mode:"primary",onClick:async()=>{const{response:i,error:c,error_code:o}=await r.default.call("profile.acceptGift",{id:t.id});if(o)return s(31===o?(0,n.jsx)(l.qb_,{onClose:a,children:e.use("settings_gifts_cannot_accept_donut")}):32===o?(0,n.jsx)(l.qb_,{onClose:a,children:e.use("settings_gifts_cannot_accept_forever")}):c?(0,n.jsxs)(l.qb_,{onClose:a,children:[o,": ",c]}):(0,n.jsxs)(l.qb_,{onClose:a,children:[e.use("global_error"),": ",o]}));i?(await(0,d.default)(),s((0,n.jsx)(l.qb_,{onClose:a,subtitle:e.use("settings_gifts_reload_browser"),children:e.use("settings_gifts_accepted_generic")}))):s((0,n.jsx)(l.qb_,{onClose:a,children:e.use("global_error")})),await h()},children:"Принять"})})};a()}catch(t){a(t)}})},89341:(t,e,s)=>{s.d(e,{A:()=>c});var a=s(74848),n=s(27182),r=s(69075),i=s(39107);const c=({thumb:t,type:e})=>t?(0,a.jsx)(i._V3,{src:t,size:56}):"prime"===e?(0,a.jsx)(r.B,{width:56,height:56}):"deluxe"===e?(0,a.jsx)(n.W,{width:56,height:56}):null},92913:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.r(e),s.d(e,{default:()=>d});var n=s(74848),r=s(7708),i=s(48797),c=s(8015),o=s(52144),l=t([c,o]);[c,o]=l.then?(await l)():l;const d=()=>{const t=(0,c.A)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.A,{children:t.use("settings_menu_gifts_title")}),(0,n.jsx)(i.A,{children:(0,n.jsx)(o.A,{})})]})};a()}catch(t){a(t)}})},98079:(t,e,s)=>{s.a(t,async(t,a)=>{try{s.d(e,{A:()=>l});var n=s(74848),r=s(8015),i=s(45393),c=s(39107),o=t([r]);r=(o.then?(await o)():o)[0];const l=()=>{const t=(0,r.A)();return(0,n.jsx)(c.OrA,{icon:(0,n.jsx)(i.F,{width:56,height:56}),children:t.use("settings_gifts_unknown_type")})};a()}catch(t){a(t)}})}}]);