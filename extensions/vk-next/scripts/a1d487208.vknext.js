"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2835],{6962:(e,t,n)=>{n.d(t,{k:()=>s});var s=(0,n(78414).mT)("Icon12Dropdown","dropdown_12","0 0 12 8",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 8" id="dropdown_12"><path fill="currentColor" fill-rule="evenodd" d="M2.156 2.295a.75.75 0 0 1 1.051-.137L6 4.306l2.793-2.148a.75.75 0 1 1 .914 1.189l-3.25 2.5a.75.75 0 0 1-.914 0l-3.25-2.5a.75.75 0 0 1-.137-1.052" clip-rule="evenodd" /></symbol>',12,8,!1,void 0)},9535:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.d(t,{A:()=>m});var o=n(74848),r=n(22549),i=n(57087),l=n(90275),a=n(33258),c=n(99381),d=n(6962),h=n(11617),u=n(39107),_=n(96540),p=n(57610),g=n(78230),v=n(8015),w=e([r,v]);[r,v]=w.then?(await w)():w;const x="vknext_cleaner_groups",f=({children:e})=>{const t=(0,v.A)(),{hints8:n,updateValue:s}=(0,r.A)("hints8");return(0,o.jsx)(u.PyT,{description:t.use("settings_menu_cleaner_onboarding_user_manager"),shown:!n.includes(x),onClose:()=>{s(Array.from(new Set([...n,x])))},offsetByCrossAxis:-20,placement:"bottom-end",children:e})},m=()=>{const[e,t]=(0,_.useState)(!1),[n,s]=(0,_.useState)(new Map),{viewer:r}=(0,i.ur)(),v=(0,p.F9)(),{setGroupId:w}=(0,p.Re)(),x=(0,p.Cf)();(0,_.useEffect)(()=>{const e=new Map;r&&e.set(0,{groupId:0,title:`${r.first_name} ${r.last_name}`,photo:r.photo_200,isNFT:r.is_nft});for(const t of x)e.set(t.id,{groupId:t.id,title:t.name,photo:t.photo_200});s(e)},[r,x]);const m=Array.from(n.values()),j=(0,_.useMemo)(()=>n.has(v)?n.get(v):0===v?{groupId:0,title:`${r?.first_name} ${r?.last_name}`,photo:r?.photo_200,isNFT:r?.is_nft}:null,[v,n,r]),A=(0,o.jsxs)(u.qAe,{onClick:c.A,hasActive:!1,hovered:!!e||void 0,className:g.A.UserManagerButton,children:[(0,o.jsx)(a.A,{size:28,src:j?.photo,isNFT:j?.isNFT,wrapperClassName:g.A.UserManagerButton__avatar,imgCustomProps:{loading:"lazy"}}),(0,o.jsx)(d.k,{className:(0,u.xWm)(g.A.UserManagerButton__chevron,e&&g.A["UserManagerButton__chevron--rotated"])})]});return(0,o.jsx)(l.Ku,{placement:"bottom-end",useScrollView:!0,actionsMenuClassName:g.A.UserManagerPopover__scroll,actions:(0,o.jsx)(o.Fragment,{children:m.map(e=>(0,o.jsx)(l.vH,{leftIcon:(0,o.jsx)(a.A,{size:20,src:e.photo,isNFT:e.isNFT}),rightIcon:(0,o.jsx)(h.$,{visibility:v===e.groupId?"visible":"hidden"}),onClick:()=>w(e.groupId),children:e.title},e.groupId))}),onShownChange:t,children:(0,o.jsx)("div",{children:(0,o.jsx)(f,{children:A})})})};s()}catch(e){s(e)}})},11617:(e,t,n)=>{n.d(t,{$:()=>s});var s=(0,n(78414).mT)("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16,!1,void 0)},15033:(e,t,n)=>{n.d(t,{l:()=>o});var s=n(96540);const o=()=>{const[e,t]=(0,s.useState)({width:window.innerWidth,height:window.innerHeight,lastWidth:void 0,lastHeight:void 0}),n=()=>{t({lastWidth:e.width,lastHeight:e.height,width:window.innerWidth,height:window.innerHeight})};return(0,s.useEffect)(()=>{n()},[]),(0,s.useEffect)(()=>(window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)),[e]),e}},27182:(e,t,n)=>{n.d(t,{W:()=>i});var s=n(74848),o=n(96540),r=n(22185);const i=e=>{const t=o.useId();return(0,s.jsxs)(r.uC,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"crown_circle_fill_vk_next_20",vkuiProps:e,children:[(0,s.jsx)("rect",{width:"20",height:"20",fill:`url(#crown_circle_fill_vk_next_20${t}a)`,rx:"10"}),(0,s.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M10.549 7.138a1.14 1.14 0 0 0 .59-.999 1.14 1.14 0 1 0-1.688 1L7.844 9.54a.2.2 0 0 1-.284.051L6.167 8.585a1.1 1.1 0 0 0 .112-.494 1.14 1.14 0 1 0-1.14 1.139l.572 1.772h8.595l.555-1.772a1.14 1.14 0 1 0-1.023-.636l-1.393 1.007a.2.2 0 0 1-.283-.051L10.55 7.138ZM6 12.202h8l-.128.622a1.72 1.72 0 0 1-1.688 1.376H7.817a1.72 1.72 0 0 1-1.687-1.374z",clipRule:"evenodd"}),(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:`crown_circle_fill_vk_next_20${t}a`,x1:"17",x2:"3",y1:"3",y2:"17",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{offset:"0%",style:{stopColor:"#8a13d6",stopOpacity:"1"}}),(0,s.jsx)("stop",{offset:"100%",style:{stopColor:"#7d81ff",stopOpacity:"1"}})]})})]})}},27514:(e,t,n)=>{n.d(t,{A:()=>s});const s=e=>void 0!==e&&!1!==e&&null!==e&&""!==e},37851:(e,t,n)=>{n.d(t,{b:()=>r});var s=n(74848),o=(n(96540),n(22185));const r=e=>(0,s.jsx)(o.uC,{viewBox:"0 0 24 24",width:20,height:20,vkuiIconId:"external_link_outline_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,s.jsxs)("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:[(0,s.jsx)("path",{d:"M5.146 3.634c.762-.407 1.512-.534 3.082-.534H10.1a.9.9 0 1 1 0 1.8H8.228c-1.487 0-1.87.128-2.233.322q-.504.27-.773.773c-.194.362-.322.746-.322 2.233v7.544c0 1.487.128 1.87.322 2.233q.27.504.773.774c.362.193.746.321 2.233.321h7.544c1.487 0 1.87-.128 2.233-.321q.504-.27.774-.774c.193-.362.321-.746.321-2.233V13.9a.9.9 0 1 1 1.8 0v1.872c0 1.57-.127 2.32-.534 3.082a3.65 3.65 0 0 1-1.512 1.512c-.763.407-1.512.534-3.082.534H8.228c-1.57 0-2.32-.127-3.082-.534a3.65 3.65 0 0 1-1.512-1.512c-.407-.762-.534-1.512-.534-3.082V8.228c0-1.57.127-2.32.534-3.082a3.65 3.65 0 0 1 1.512-1.512"}),(0,s.jsx)("path",{d:"M14 4a.9.9 0 0 1 .9-.9H20a.9.9 0 0 1 .9.9v5.1a.9.9 0 1 1-1.8 0V6.173l-6.564 6.563a.9.9 0 1 1-1.272-1.272L17.827 4.9H14.9A.9.9 0 0 1 14 4"})]})})},40411:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.d(t,{A:()=>g});var o=n(74848),r=n(56287),i=n(8015),l=n(90275),a=n(27514),c=n(99381),d=n(37851),h=n(73615),u=n(52509),_=n(39107),p=e([i]);i=(p.then?(await p)():p)[0];const g=({helpLink:e,actions:t})=>{const n=(0,i.A)(),s=(0,r.A)(),p=()=>{window.open(window.location.href),window.close()};return e||(0,a.A)(t)?(0,o.jsx)(l.Ku,{placement:"bottom-end",actions:(0,o.jsxs)(o.Fragment,{children:[(0,a.A)(t)&&(0,o.jsxs)(o.Fragment,{children:[t,(s||e)&&(0,o.jsx)(l.AS,{})]}),s&&(0,o.jsx)(l.vH,{onClick:p,leftIcon:(0,o.jsx)(d.b,{width:20,height:20}),children:n.use("settings_open_settings")}),e&&(0,o.jsx)(l.vH,{href:e,target:"_blank",leftIcon:(0,o.jsx)(h.V,{}),children:n.use("settings_menu_help_section")})]}),children:(0,o.jsx)(_.qAe,{onClick:c.A,children:(0,o.jsx)(u.z,{})})}):s?(0,o.jsx)(_.m_M,{description:n.use("settings_open_settings"),placement:"bottom",usePortal:!0,children:(0,o.jsx)(_.qAe,{onClick:p,children:(0,o.jsx)(d.b,{})})}):null};s()}catch(e){s(e)}})},42835:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.r(t),n.d(t,{default:()=>v});var o=n(74848),r=n(40411),i=n(58006),l=n(56287),a=n(8015),c=n(57087),d=n(39107),h=n(61685),u=n(58207),_=n(57189),p=e([r,a,u,_]);[r,a,u,_]=p.then?(await p)():p;const g=()=>{const e=(0,a.A)(),t=(0,c.kd)(),n=(0,l.A)();if(t)return null;const s=`https://vk.ru/${h.l}${location.hash}`;return(0,o.jsx)(d.YJl,{children:(0,o.jsx)(d.OrA,{title:e.use("settings_cleaner_no_vkcom_warning_title"),children:e.use("settings_cleaner_no_vkcom_warning_text",{link:(0,o.jsxs)(d.N_E,{href:s,onClick:e=>{e.preventDefault(),n?(window.open(s),window.close()):window.location.href=s},children:["vk.ru/",h.l]})})})})},v=()=>{const e=(0,a.A)(),t=(0,i.A)(),n=(0,l.A)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,{after:(0,o.jsx)(r.A,{}),children:e.use("settings_menu_cleaner_title")}),(0,o.jsxs)(d.guY,{style:{maxHeight:t},children:[(0,o.jsx)(g,{}),(0,o.jsx)(d.YJl,{children:(0,o.jsxs)(d.OrA,{title:e.use("settings_cleaner_select_category_title"),action:n&&(0,o.jsx)(d.$nd,{size:"m",onClick:()=>{window.open(window.location.href),window.close()},children:e.use("settings_open_settings")}),children:[e.use("settings_cleaner_select_category_text"),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),e.use("settings_cleaner_select_category_recommended")]})]})}),(0,o.jsx)(_.A,{})]})]})};s()}catch(e){s(e)}})},48276:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(48139);const o=()=>{const e=(0,s.A)();if(!e)throw new Error("");return[e[1],e[3],e[5],e[7]]}},52509:(e,t,n)=>{n.d(t,{z:()=>s});var s=(0,n(78414).mT)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="more_horizontal_24"><path d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2" /></symbol>',24,24,!1,void 0)},56287:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(91691),o=n(15033);const r=()=>{const e=(0,o.l)();return((e.width||0)<=800||(e.height||0)<=600)&&!(0,s.A)()}},57189:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.d(t,{A:()=>h});var o=n(74848),r=n(48276),i=n(85252),l=n(8015),a=n(27182),c=n(39107),d=e([l]);l=(d.then?(await d)():d)[0];const h=()=>{const e=(0,l.A)(),[t]=(0,i.A)(),[n]=(0,r.A)();return n||!t?null:(0,o.jsx)(c.YJl,{children:(0,o.jsx)(c.OrA,{noPadding:!0,style:{padding:17},icon:(0,o.jsx)(a.W,{width:48,height:48}),title:e.use("settings_deluxe_not_activated"),action:(0,o.jsx)(c.$nd,{size:"m",href:"https://vknext.net/vknext/prime",target:"_blank",children:e.use("settings_prime_more_info")}),children:e.use("settings_deluxe_not_activated_info")})})};s()}catch(e){s(e)}})},57610:(e,t,n)=>{n.d(t,{Re:()=>d,F9:()=>c,Cf:()=>h});var s=n(74225),o=n.n(s),r=n(59914),i=n(52370);const l=async function*(e){const t=await i.vkapiWrapper.groups.get({offset:0,count:0,extended:1,filter:e}),n=t?.count??0;if(yield{count:n,offset:0,items:[]},0===n)return;let s=0;for(;s<n;){const{items:t}=await i.vkapiWrapper.groups.get({offset:s,count:1e3,extended:1,filter:e});if(0===t.length)break;yield{count:n,offset:s,items:t||[]},s+=1e3}};const a=(0,n(81621).vt)(e=>({groupId:0,setGroupId:t=>e({groupId:t}),myGroups:new Set,setMyGroups:t=>e({myGroups:t})})),c=()=>a(e=>e.groupId),d=()=>a((0,r.k)(e=>({setGroupId:e.setGroupId}))),h=()=>{const e=a(e=>e.myGroups),t=a(e=>e.setMyGroups);return o()(async n=>{if(e.size>0)return;const s=new Set;for await(const{count:e,items:t}of l(["moder"])){if(!n())return;if(0===e)break;for(const e of t)s.add(e)}n()&&t(s)},[e]),e}},58207:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.d(t,{A:()=>a});var o=n(74848),r=n(39107),i=n(9535),l=e([i]);i=(l.then?(await l)():l)[0];const a=({after:e,...t})=>(0,o.jsx)(r.aOn,{...t,after:(0,o.jsxs)(o.Fragment,{children:[e,(0,o.jsx)(i.A,{})]})});s()}catch(e){s(e)}})},61685:(e,t,n)=>{n.d(t,{J:()=>o,l:()=>s});const s="vknext_settings",o="vknext/settings"},73615:(e,t,n)=>{n.d(t,{V:()=>s});var s=(0,n(78414).mT)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.144 2.298l-.009.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25M10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17M3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},78230:(e,t,n)=>{n.d(t,{A:()=>s});const s={UserManagerButton:"ogFOzGoL7cdUYpnv",UserManagerButton__avatar:"SkrgVk_lLfBWPUj9",UserManagerButton__chevron:"iPuWS1BkgbrX6Fln","UserManagerButton__chevron--rotated":"EssjnVlsetnzNtGQ",UserManagerPopoverItem__avatar:"JBQwdYo1lnviskP_",UserManagerPopover__scroll:"XDWErLYzOe41Z7vM"}},85252:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(48139);const o=()=>{const e=(0,s.A)();if(!e)throw new Error("");return[e[0],e[2],e[4],e[6]]}}}]);