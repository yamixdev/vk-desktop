"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2069],{36746:(e,r,t)=>{t.d(r,{A:()=>s});const s=()=>{const e=new CSSStyleSheet;e.replaceSync(".vknextModalError *{user-select:unset!important;pointer-events:all!important}*{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;pointer-events:none!important}"),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}},84833:(e,r,t)=>{t.d(r,{A:()=>c});var s=t(74848),n=t(39107),o=t(96540),a=t(17100);const c=({children:e,noClose:r=!1,...t})=>{const{open:c,setOpen:l,onClose:u,onClosed:_,onOpen:d,onOpened:i}=(0,a.Fs)(),h=(0,o.useId)();return(0,s.jsx)(n.VWm,{nav:h,open:c,onClose:(e,t)=>{r||(l(!1),u?.(e,t))},onClosed:_,onOpen:d,onOpened:i,...t,children:(0,s.jsx)(o.Suspense,{fallback:(0,s.jsx)(n.qBl,{}),children:e})})}},87675:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.d(r,{A:()=>o});var n=t(93819);const e=await n.A,o=()=>e;s()}catch(e){s(e)}},1)},92069:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.d(r,{default:()=>f});var n=t(74848),o=t(39107),a=t(96540),c=t(95974),l=t(387),u=t(87675),_=t(43024),d=t(84833),i=t(93404),h=t(36746),m=e([u]);u=(m.then?(await m)():m)[0];const v=e=>{if("boolean"==typeof e?.hse_ne)return e.hse_ne;if(27===e.error_code)return!1;switch(e.error_code){case 1:case 8:case 3:case 4:case 5:return!0;default:return!1}},x=(e,r)=>{if("string"==typeof r?.hse_tt)return r.hse_tt;switch(r.error_code){case 408:return e.use("vkcom_auth_error_timeout");case 20:return e.use("vkcom_auth_invalid_time");case 27:return e.use("vkcom_beta_version_update_available");case 1:case 8:return e.use("vkcom_auth_error_access");case 3:case 4:case 5:return e.use("vkcom_auth_error_validation");case 502:case 404:case 505:return e.use("vkcom_auth_error_server");default:return e.use("vkcom_auth_error_unknown")}},k=(e,r)=>{if("string"==typeof r?.hse_td)return r.hse_td;switch(r.error_code){case 408:return e.use("vkcom_auth_error_timeout_desc",{link:(0,n.jsx)(o.N_E,{href:"https://vknext.net",target:"_blank",children:"vknext.net"})});case 20:return e.use("vkcom_auth_invalid_time_desc");case 27:return"";case 1:return e.use("vkcom_auth_only_dev");case 8:return e.use("vkcom_auth_only_deluxe");case 3:case 4:case 5:return e.use("vkcom_auth_try_later");case 502:case 404:case 505:return e.use("vkcom_auth_error_flags_getting");default:return e.use("vkcom_auth_error_fix_in_progress")}},p=({authData:e})=>{const r=(0,u.A)();return e?.hse_bt&&e?.hse_bl?(0,n.jsx)(o.$nd,{size:"m",href:e.hse_bt,target:"_blank",children:e.hse_bl}):1===e.error_code||502===e.error_code||404===e.error_code||505===e.error_code||20===e.error_code?null:8===e.error_code?(0,n.jsx)(o.$nd,{size:"m",href:"https://vknext.net/vknext/prime",target:"_blank",children:r.use("global_get_deluxe")}):3===e.error_code||4===e.error_code||5===e.error_code?(0,n.jsx)(o.$nd,{size:"m",onClick:()=>window.location.reload(),children:r.use("global_reload_page")}):(0,n.jsx)(o.$nd,{size:"m",href:"https://vknext.net",target:"_blank",children:r.use("vkcom_open_site")})},j=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.KzX,{size:12,children:(0,n.jsx)(o.wvv,{})}),(0,n.jsxs)(o.iau,{children:[(0,n.jsx)(o.Bb9,{header:"User agent",children:window.navigator.userAgent}),(0,n.jsx)(o.KzX,{size:6}),(0,n.jsx)(o.Bb9,{header:"VK ID",children:window.vk?.id||0})]})]}),b=({authData:e})=>{const r=(0,u.A)(),t=(0,a.useRef)(!1);return(0,a.useEffect)(()=>()=>{"number"==typeof e?.error_code&&t.current&&_.default.setValue(`vkcom_auth_disable_modal_${e.error_code}`,(0,l.A)())},[]),408!==e?.error_code&&4!==e?.error_code?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.KzX,{size:12,children:(0,n.jsx)(o.wvv,{})}),(0,n.jsx)(o.T6P,{multiline:!0,Component:"label",after:(0,n.jsx)(c.A,{onChange:e=>{t.current=e.target.checked}}),children:r.use("vkcom_auth_disable_modal_switch",{code:e.error_code})})]})},f=({value:e})=>{const r=(0,u.A)(),t=(0,a.useMemo)(()=>{const r=v(e);return r&&(0,h.A)(),r},[e]);return(0,n.jsx)(d.A,{header:(0,n.jsx)(o.aO9,{children:r.use("global_app_name")}),hideCloseButton:t,noClose:t,size:500,children:e&&(0,n.jsxs)(o.iau,{className:"vknextModalError",children:[(0,n.jsx)(o.OrA,{title:x(r,e)+` (${e.error_code})`,action:(0,n.jsx)(p,{authData:e}),className:i.A.ErrorPlaceholder,children:k(r,e)}),!t&&(0,n.jsx)(b,{authData:e}),(0,n.jsx)(j,{})]})})};s()}catch(e){s(e)}})},93404:(e,r,t)=>{t.d(r,{A:()=>s});const s={ErrorPlaceholder:"y1Mflz_jEmPPJe0v"}},95974:(e,r,t)=>{t.d(r,{A:()=>a});var s=t(74848),n=t(39107);const o="_ME21DoLEVJUlnQU",a=({className:e,...r})=>(0,s.jsx)(n.V9m,{value:n.ODD.ANDROID,children:(0,s.jsx)(n.dOG,{className:(0,n.xWm)(o,e),...r})})}}]);