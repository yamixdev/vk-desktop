"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[751],{11707:(e,o,n)=>{n.d(o,{A:()=>u,V:()=>c});var l=n(65748),t=n(96540),a=n(74225),s=n.n(a);const i=[];let r=null;const c=e=>{r=e;for(const o of i)o(e)},d=()=>r||(window.ap?.getCurrentAudio?window.ap.getCurrentAudio():null),u=()=>{const e=(()=>{const[e,o]=(0,t.useState)(()=>window.ap||null);return s()(async n=>{window.ap&&e||(await(0,l.B)(),n()&&o(window.ap))},[]),e})(),[o,n]=(0,t.useState)(()=>d());(0,t.useEffect)(()=>{n(()=>d())},[e]),(0,t.useEffect)(()=>{if(!window.ap)return;const o=e.on(null,"current_audio_changed",()=>{n(e.getCurrentAudio())});return()=>{o()}},[e]),(0,t.useEffect)(()=>(i.push(n),()=>{const e=i.indexOf(n);-1!==e&&i.splice(e,1)}),[n]);return(0,t.useMemo)(()=>{if(!window.AudioUtils?.audioTupleToAudioObject)return null;return window.AudioUtils.audioTupleToAudioObject(o)},[o])}},20751:(e,o,n)=>{n.r(o),n.d(o,{default:()=>I});var l=n(74848),t=n(83932),a=n(43027),s=n(48513),i=n(39107),r=n(96540),c=n(11707),d=n(78414),u=(0,d.mT)("Icon24SkipBack","skip_back_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="skip_back_24"><path fill="currentColor" fill-rule="evenodd" d="M10 13.166V16.5a1 1 0 1 1-2 0v-9a1 1 0 0 1 2 0v3.335l8.149-4.67C18.97 5.696 20 6.285 20 7.228v9.546c0 .943-1.029 1.532-1.851 1.061z" /></symbol>',24,24,!1,void 0),w=(0,d.mT)("Icon24Pause","pause_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="pause_24"><path d="M6 6.6c0-.56 0-.84.109-1.054a1 1 0 0 1 .437-.437C6.76 5 7.04 5 7.6 5h.8c.56 0 .84 0 1.054.109a1 1 0 0 1 .437.437C10 5.76 10 6.04 10 6.6v10.8c0 .56 0 .84-.109 1.054a1 1 0 0 1-.437.437C9.24 19 8.96 19 8.4 19h-.8c-.56 0-.84 0-1.054-.109a1 1 0 0 1-.437-.437C6 18.24 6 17.96 6 17.4zm8 0c0-.56 0-.84.109-1.054a1 1 0 0 1 .437-.437C14.76 5 15.04 5 15.6 5h.8c.56 0 .84 0 1.054.109a1 1 0 0 1 .437.437C18 5.76 18 6.04 18 6.6v10.8c0 .56 0 .84-.109 1.054a1 1 0 0 1-.437.437C17.24 19 16.96 19 16.4 19h-.8c-.56 0-.84 0-1.054-.109a1 1 0 0 1-.437-.437C14 18.24 14 17.96 14 17.4z" /></symbol>',24,24,!1,void 0),v=(0,d.mT)("Icon24Play","play_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="play_24"><path d="M18.5 11.134a1 1 0 0 1 0 1.732l-9 5.196a1 1 0 0 1-1.5-.866V6.804a1 1 0 0 1 1.5-.866z" /></symbol>',24,24,!1,void 0),p=(0,d.mT)("Icon24SkipForward","skip_forward_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="skip_forward_24"><path fill="currentColor" fill-rule="evenodd" d="M14 10.835V7.5a1 1 0 1 1 2 0v9a1 1 0 0 1-2 0v-3.334l-8.149 4.668C5.03 18.305 4 17.716 4 16.774V7.226c0-.943 1.029-1.533 1.851-1.061z" /></symbol>',24,24,!1,void 0);const f="FXGonjJI2lnH8pZG",g=({className:e,...o})=>(0,l.jsx)(i.K0,{className:(0,i.xWm)(f,"top_audio_player_btn",e),hoverMode:"opacity",activeMode:"opacity",...o}),m="s5CER4gDY4E3DaXu";var x=n(37752);const y=()=>{const e=(()=>{const[e,o]=(0,r.useState)(()=>window.getAudioPlayer?window.getAudioPlayer():null);return(0,r.useEffect)(()=>{if(e)return;let n=!0;return(0,x.V)().then(e=>{n&&o(()=>e())}),()=>{n=!1}},[e]),e})(),[o,n]=(0,r.useState)(!!e?.isPlaying&&e.isPlaying()),t=(0,r.useCallback)(o=>((0,a.A)(o),e.playPrevByButton()),[e]),s=(0,r.useCallback)(o=>((0,a.A)(o),e.isPlaying()?e.pauseByButton():e.playByButton()),[e]),i=(0,r.useCallback)(o=>((0,a.A)(o),e.playNextByButton()),[e]);return(0,r.useEffect)(()=>{if(!e)return;n(!!e?.isPlaying&&e.isPlaying());const o=e.on(null,"start",()=>{n(!0)}),l=e.on(null,"pause",()=>{n(!1)});return()=>{o(),l()}},[e]),(0,l.jsxs)("div",{className:m,children:[(0,l.jsx)(g,{"aria-label":window?.getLang?window.getLang("global_audio_prev"):void 0,onClick:t,accessKey:"j",children:(0,l.jsx)(u,{})}),(0,l.jsx)(g,{"aria-label":window?.getLang?window.getLang("global_audio_play"):void 0,onClick:s,accessKey:"k",children:o?(0,l.jsx)(w,{}):(0,l.jsx)(v,{})}),(0,l.jsx)(g,{"aria-label":window?.getLang?window.getLang("global_audio_next"):void 0,onClick:i,accessKey:"l",children:(0,l.jsx)(p,{})})]})};var h=(0,d.mT)("Icon24SongOutline","song_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="song_outline_24"><path fill="currentColor" fill-rule="evenodd" d="m16.302 4.06-2.4.661a1.1 1.1 0 0 0-.803 1.06v.845l2.407-.681a1.1 1.1 0 0 0 .796-1.058zM13.1 8.5l2.902-.824a2.9 2.9 0 0 0 2.099-2.79V3.006a1 1 0 0 0-1.267-.964l-3.414.946a2.9 2.9 0 0 0-2.118 2.794v8.908c-2.601.018-4.222.835-5.016 2.167-.864 1.45-.5 3.188.505 4.148a3.42 3.42 0 0 0 4.06.577c1.662-1.041 2.21-2.636 2.25-4.98zm-1.796 7.989c-2.331-.045-3.144.733-3.487 1.307-.402.674-.219 1.494.23 1.919.509.499 1.2.636 1.893.305.561-.328 1.364-.982 1.364-3.531" clip-rule="evenodd" /></symbol>',24,24,!1,void 0);const _="qN0dqF_cVKaJD5Hp",b=()=>{const e=(0,c.A)();if(!e)return null;const o=e.coverUrl_l||e.coverUrl_p||e.coverUrl_s;return(0,l.jsx)(i.vOX,{size:36,className:_,src:o,fallbackIcon:(0,l.jsx)(h,{fill:"var(--vkui--color_icon_tertiary)"}),noBorder:!0},o)},C={"amp;":"&","lt;":"<","gt;":">","quot;":'"',"apos;":"'"},j=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,A=String.fromCharCode(65533),k=(e,o=C)=>"string"==typeof e&&e?e.replace(j,e=>{if("#"===e[1]){if(e.length<=3)return e;const o="x"===e[2].toLowerCase()?16:10,l=parseInt(e.slice(16===o?3:2),o);return l>=1114111?A:l>65535?(n=l,String.fromCodePoint(n)):String.fromCharCode(l)}var n;return o[e.slice(1)]||e}):"",B={"amp;":"&","#38;":"&","lt;":"<","#60;":"<","gt;":">","#62;":">","apos;":"'","#39;":"'","quot;":'"',"#34;":'"',"copy;":"©"},N=e=>"decodeHTMLEntities"in window?window.decodeHTMLEntities(e,B):k(e,B),T="hTUNQy8ZIPSYoSt6",M="ROG4iMVRN1_bhFwO",P="ZgMzSVWgrclOMMjv",z="tkGkerAgxPbkX3tQ",V="nuzcbfLZQWBACF9z",L=({newPlayer:e=!1})=>{const o=(0,c.A)(),n=N(o?.title||""),t=N(o?.subTitle||""),a=N(o?.performer||"");return(0,l.jsxs)("div",{className:(0,i.xWm)(T,e&&M),children:[(0,l.jsxs)("div",{className:P,title:o?.title?`${o.title}`:void 0,children:[(0,l.jsx)(l.Fragment,{children:n}),(0,l.jsx)("span",{className:z,children:t})]}),a&&(0,l.jsx)("div",{className:V,title:a,children:a})]})};var S=n(71898);const I=({newPlayer:e=!1,showTopBtn:o=!0})=>{const n=(0,c.A)(),[d,u]=(0,r.useState)(!1),w=e=>{(0,a.A)(e),window.audioLayer.toggle(),u(e=>!e)};return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsxs)(l.Fragment,{children:[e&&(0,l.jsx)(t.A,{centered:!0,onMouseDown:w,className:S.A.TopPlayer__stateLayer}),(0,l.jsxs)("div",{className:S.A.TopPlayer,children:[(0,l.jsx)(b,{}),(0,l.jsx)(y,{}),(0,l.jsx)(L,{newPlayer:e})]})]}),!n&&o&&(0,l.jsx)("div",{className:(0,i.xWm)("TopNavBtn",d&&"TopNavBtn--active"),onMouseDown:w,children:(0,l.jsx)("div",{className:"TopNavBtn__inner",children:(0,l.jsx)(s.V,{className:"TopNavBtn__icon"})})})]})}},37752:(e,o,n)=>{n.d(o,{V:()=>t});var l=n(50313);const t=()=>(0,l.A)("getAudioPlayer")},48513:(e,o,n)=>{n.d(o,{V:()=>l});var l=(0,n(78414).mT)("Icon24MusicOutline","music_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="music_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M16.716 4.105c.61-.127 1.01-.21 1.317-.246.299-.036.408-.013.457.004a.9.9 0 0 1 .485.395c.026.043.07.146.097.446.027.304.028.705.028 1.314L8.9 8.143v-.54c0-.477 0-.786.018-1.024.017-.228.046-.328.073-.39a1.1 1.1 0 0 1 .374-.46c.055-.039.147-.088.366-.15.23-.067.533-.13 1-.227zM7.1 15.1h-.2c-1.795 0-3.125.452-4.02 1.215-.903.768-1.28 1.782-1.28 2.71A3.375 3.375 0 0 0 4.975 22.4c.928 0 1.942-.377 2.71-1.28.763-.895 1.215-2.225 1.215-4.02V9.982l10.2-2.125V13.1h-.2c-1.795 0-3.125.452-4.021 1.215-.902.768-1.279 1.782-1.279 2.71a3.375 3.375 0 0 0 3.375 3.375c.928 0 1.942-.377 2.71-1.28.763-.895 1.215-2.225 1.215-4.02V6.004c0-.573 0-1.061-.035-1.457-.036-.412-.116-.824-.34-1.204a2.7 2.7 0 0 0-1.457-1.185c-.417-.141-.836-.135-1.247-.087-.395.047-.873.147-1.434.264l-.038.007-5.985 1.247-.03.007c-.429.089-.797.166-1.099.252-.32.092-.624.21-.908.41a2.9 2.9 0 0 0-.987 1.214c-.139.32-.192.642-.217.974-.023.313-.023.689-.023 1.126v.031zm8.946.585c-.473.403-.646.901-.646 1.34 0 .87.705 1.575 1.575 1.575.439 0 .937-.173 1.34-.646.408-.479.785-1.349.785-2.854v-.2h-.2c-1.505 0-2.375.377-2.854.785M3.4 19.025c0-.439.173-.937.646-1.34.479-.408 1.349-.785 2.854-.785h.2v.2c0 1.505-.377 2.375-.785 2.854-.403.473-.901.646-1.34.646-.87 0-1.575-.705-1.575-1.575" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},65748:(e,o,n)=>{n.d(o,{B:()=>t});var l=n(50313);const t=()=>(0,l.A)("ap")},74225:(e,o,n)=>{var l=n(96540);function t(e,o,n){var t="function"==typeof o;l.useEffect(function(){var n,l=!0,a=e(function(){return l});return Promise.resolve(a).then(function(e){n=e}),function(){l=!1,t&&o(n)}},t?n:o)}e.exports=t,e.exports.useAsyncEffect=t},83932:(e,o,n)=>{n.d(o,{A:()=>i});var l=n(74848),t=n(39107);const a="ZoDy5PoJzwP6mfQ1",s={default:"zDtWhsd8ZVyRL5pm",after:"sLDdq0gsXqhRdjc1"},i=({mode:e="default",getRootRef:o,children:n,zIndex:i,borderRadius:r,centered:c=!1,className:d,style:u,onClick:w,onMouseDown:v})=>(0,l.jsx)("div",{ref:o,className:(0,t.xWm)(d,s[e],c&&a),style:{...u,zIndex:i,borderRadius:r},onClick:w,onMouseDown:v,children:n})}}]);