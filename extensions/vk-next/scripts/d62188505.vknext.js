"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[8,7302],{1770:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(95728),o=r(97302),a=r(80348);const s=async e=>{const{fiber:t}=(0,n.A)(e);if(!t)return;const{convo:r,peer:s}=t?.return?.return?.memoizedProps||t?.memoizedProps?.children?.props||t?.return?.return?.memoizedProps||{},i=Number(r?.peerId||s?.id);if(!i)return void 0;const c=await o.default.getName(i);if(!c)return;const l=e.querySelector(".ConvoTitle .ConvoTitle__title");l&&(((0,a.A)(l)||l).textContent=c)}},11446:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(95728),o=r(97302),a=r(80348);const s=async e=>{const t=e.querySelector(".ProfileHeader__info");if(!t)return;const{fiber:r}=(0,n.A)(t),s=r?.memoizedProps?.children?.[0]?.props?.owner?.id||r?.child?.memoizedProps?.ownerId||r?.child?.child?.child?.child?.child?.child?.memoizedProps?.owner?.id;if(!s)return void 0;const i=await o.default.getName(s);if(!i)return;const c=t.querySelector(".ProfileInfo__name,#owner_page_name");if(!c)return void 0;if(c.firstChild?.nodeType!==window.Node.TEXT_NODE)return;const l=c.querySelector(".OwnerPageName__icons > .OwnerPageName__noWrapText");l&&(l.innerText=""),((0,a.A)(c.firstChild)||c.firstChild).textContent=i}},14200:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async e=>{const t=Number(e.dataset.peer);if(!t)return;const r=await n.default.getName(t);if(!r)return;const a=e.querySelector(".nim-dialog--name ._im_dialog_link");a&&(((0,o.A)(a)||a).textContent=r)}},21468:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async(e,t)=>{const r=await n.default.getName(t);if(!r)return;const a=e.querySelector('[class*="UserRichCell__name"] > a')||e.getElementsByTagName("a")[0];a&&(((0,o.A)(a)||a.childNodes[0]).textContent=r)}},37160:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async e=>{const t=Number(e.dataset.postAuthorId);if(!t)return;const r=await n.default.getName(t);if(!r)return;const a=e.querySelector(".PostHeaderTitle__author .PostHeaderTitle__authorName");a&&(((0,o.A)(a)||a).textContent=r)}},49283:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async(e,t)=>{const r=await n.default.getName(t);if(!r)return;const a=e.querySelector("._im_page_peer_name");a&&(((0,o.A)(a)||a).textContent=r)}},50008:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t);var o=r(57580),a=r(55015),s=r(51210),i=r(88016),c=r(82181),l=r(60312),d=r(32441),u=r(2749),m=r(61622),A=r(99769),f=r(30646),_=r(18397),C=r(34881),y=r(79346),h=r(38444),p=r(51302),N=r(14198),g=r(67767),v=r(60889),w=r(14200),P=r(86620),b=r(60800),S=r(81012),T=r(21468),x=r(97310),q=r(1770),k=r(65172),z=r(54967),I=r(11446),E=r(49283),M=r(37160),B=e([o]);o=(B.then?(await B)():B)[0],(0,_.A)(w.A),(0,l.A)(E.A),(0,c.A)(x.A),(0,a.A)(P.A),(0,A.A)(q.A),(0,f.A)(z.A),(0,d.A)(S.A),(0,u.A)(k.A),(0,m.A)(z.A),(0,g.A)(M.A),(0,p.A)(T.A),(0,v.A)(b.A),(0,h.A)({onProfileLoadComplited:I.A}),(0,C.A)(P.A),(0,y.A)(T.A),(0,i.A)(T.A),(0,s.A)(T.A),(0,N.A)(T.A),n()}catch(e){n(e)}})},54967:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async(e,t)=>{const r=await n.default.getName(t);if(!r)return;const a=e.querySelector(".ConvoTitle__title");a&&(((0,o.A)(a)||a).textContent=r)}},60800:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async({element:e,ownerId:t})=>{const r=await n.default.getName(t);if(!r)return;const a=e.querySelector('[data-testid="comment-owner"], [class*="CommentBase__title-"] a > div');a&&(((0,o.A)(a)||a).textContent=r)}},65172:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(11630),o=r(7618),a=r(95728),s=r(97302),i=r(80348);const c=(e,t)=>{if(!o.z.isChatId(t))return;const r=e.getElementsByClassName("ConvoProfileTabs__tabContent")[0];r&&new n.A({selector:".ConvoProfileMembers__list",onAddNode:e=>{e.classList.contains("ConvoProfileMembers__memberLink")&&requestIdleCallback(()=>(async e=>{const t=e.getElementsByClassName("ConvoProfileMembers__memberName")[0];if(!t)return;const{fiber:r}=(0,a.A)(t);if(!r)return;const n=t.querySelector(".PeerTitle > .PeerTitle__title");if(!n)return;const o=Number(r.memoizedProps?.children?.props?.peer?.id);if(!o)return;const c=await s.default.getName(o);c&&(((0,i.A)(n)||n).textContent=c)})(e))}}).observe(r,{simulateAddedNodes:!0})},l=(e,t)=>{try{(async(e,t)=>{if(o.z.isChatId(t))return;const r=e.querySelector(".ConvoProfileName__nameContainer > .ConvoProfileName__name");if(!r)return;const n=await s.default.getName(t);n&&(((0,i.A)(r)||r).textContent=n)})(e,t)}catch(e){console.error(e)}try{c(e,t)}catch(e){console.error(e)}}},80348:(e,t,r)=>{r.d(t,{A:()=>n});const n=e=>{if(e)return Array.from(e.childNodes).find(e=>e.nodeType===Node.TEXT_NODE)}},81012:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(95728),o=r(97302),a=r(80348);const s=async e=>{for(const t of e.querySelectorAll(".ConvoMessage__author,.ConvoMessageAuthor,.ConvoMessageHeader__authorLink")){const{props:e,fiber:r}=(0,n.A)(t),s=Number(e?.children?.[0]?.props?.children?.props?.peer?.id||r?.return?.memoizedProps?.to?.peerId);if(!s){0;continue}const i=await o.default.getName(s);if(!i)continue;const c=t.querySelector(".PeerTitle > .PeerTitle__title");c&&(((0,a.A)(c)||c).textContent=i)}for(const t of e.querySelectorAll(".ForwardedMessage__link")){const{fiber:e}=(0,n.A)(t),r=Number(e?.return?.memoizedProps?.to?.peerId);if(!r){0;continue}const s=await o.default.getName(r);if(!s)continue;((0,a.A)(t)||t).textContent=s}}},86620:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(97302),o=r(80348);const a=async(e,t)=>{const r=(0,o.A)(e);if(!r)return;const a=await n.default.getName(t);a&&(r.textContent=a)}},97302:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var n=r(53778);class o extends n.default{constructor(){super("localRename")}async getName(e){return(await this.getStorage())[e]||null}async setName(e,t){const r=await this.getStorage();""===t.trim()?delete r[e]:r[e]=t,await this.saveStorage(r)}async clearStorage(){await this.saveStorage({})}}const a=new o},97310:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(48913),o=r(97302),a=r(80348);const s=async(e,t)=>{await(0,n.e)();const r=await o.default.getName(t);if(!r)return;const s=e.querySelector(".im-mess-stack--lnk");if(!s)return;const i=(0,a.A)(s.firstChild)||(0,a.A)(s)||s.firstChild;i&&(i.textContent=r)}}}]);