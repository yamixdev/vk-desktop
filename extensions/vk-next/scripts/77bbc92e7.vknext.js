"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3710],{6962:(e,l,t)=>{t.d(l,{k:()=>o});var o=(0,t(78414).mT)("Icon12Dropdown","dropdown_12","0 0 12 8",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 8" id="dropdown_12"><path fill="currentColor" fill-rule="evenodd" d="M2.156 2.295a.75.75 0 0 1 1.051-.137L6 4.306l2.793-2.148a.75.75 0 1 1 .914 1.189l-3.25 2.5a.75.75 0 0 1-.914 0l-3.25-2.5a.75.75 0 0 1-.137-1.052" clip-rule="evenodd" /></symbol>',12,8,!1,void 0)},11617:(e,l,t)=>{t.d(l,{$:()=>o});var o=(0,t(78414).mT)("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16,!1,void 0)},21036:(e,l,t)=>{t.a(e,async(e,o)=>{try{t.d(l,{A:()=>_});var s=t(74848),i=t(7139),n=t(58006),r=t(8015),a=t(11157),c=t(39107),d=t(96540),u=e([i,r]);[i,r]=u.then?(await u)():u;const _=({albums:e,onSelectedAlbums:l})=>{const t=(0,n.A)({isGroup:!0}),o=(0,r.A)(),u=(0,a.Gz)(),[_,h]=(0,d.useState)([]);if(0===e.length)return(0,s.jsx)(c.YJl,{children:(0,s.jsx)(c.OrA,{children:o.use("global_not_found")})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.YJl,{style:{padding:0},children:[(0,s.jsx)(c.iau,{children:(0,s.jsx)(c.lZ$,{extraSubtitle:o.use("settings_cleaner_photo_albums_select")})}),(0,s.jsx)(c.guY,{style:{maxHeight:t-68-60-16},children:(0,s.jsx)(c.iau,{children:e.map(e=>(0,s.jsx)(c.Sc0,{description:0===e.size?o.use("settings_photo_album_empty_description"):o.use("settings_photo_album_count",e.size),checked:_.includes(e.id),onChange:()=>{h(l=>l.includes(e.id)?l.filter(l=>l!==e.id):[...l,e.id])},children:e.title},e.id))})}),(0,s.jsx)(c.iau,{children:(0,s.jsxs)(c.$nd,{stretched:!0,size:"m",onClick:()=>{u.showPopout((0,s.jsx)(c.FcD,{actions:[{title:o.use("global_cancel"),mode:"cancel"},{title:o.use("global_remove"),mode:"destructive",action:()=>l(_)}],onClose:()=>u.hidePopout(),title:o.use("settings_confirm_action"),description:o.use("settings_cleaner_photo_albums_confirm_clear",{count:_.length}),actionsLayout:"horizontal"}))},disabled:0===_.length,after:(0,s.jsx)(i.A.Prime,{}),children:[o.use("global_remove")," (",_.length,")"]})})]})})};o()}catch(e){o(e)}})},27182:(e,l,t)=>{t.d(l,{W:()=>n});var o=t(74848),s=t(96540),i=t(22185);const n=e=>{const l=s.useId();return(0,o.jsxs)(i.uC,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"crown_circle_fill_vk_next_20",vkuiProps:e,children:[(0,o.jsx)("rect",{width:"20",height:"20",fill:`url(#crown_circle_fill_vk_next_20${l}a)`,rx:"10"}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M10.549 7.138a1.14 1.14 0 0 0 .59-.999 1.14 1.14 0 1 0-1.688 1L7.844 9.54a.2.2 0 0 1-.284.051L6.167 8.585a1.1 1.1 0 0 0 .112-.494 1.14 1.14 0 1 0-1.14 1.139l.572 1.772h8.595l.555-1.772a1.14 1.14 0 1 0-1.023-.636l-1.393 1.007a.2.2 0 0 1-.283-.051L10.55 7.138ZM6 12.202h8l-.128.622a1.72 1.72 0 0 1-1.688 1.376H7.817a1.72 1.72 0 0 1-1.687-1.374z",clipRule:"evenodd"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:`crown_circle_fill_vk_next_20${l}a`,x1:"17",x2:"3",y1:"3",y2:"17",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{offset:"0%",style:{stopColor:"#8a13d6",stopOpacity:"1"}}),(0,o.jsx)("stop",{offset:"100%",style:{stopColor:"#7d81ff",stopOpacity:"1"}})]})})]})}},51061:(e,l,t)=>{t.d(l,{T:()=>o});var o=(0,t(78414).mT)("Icon56CheckCircleOutline","check_circle_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="check_circle_outline_56"><g fill="none" fill-rule="nonzero"><path d="M0 0h56v56H0z" /><path fill="currentColor" d="M28 4c13.255 0 24 10.745 24 24S41.255 52 28 52 4 41.255 4 28 14.745 4 28 4m0 3C16.402 7 7 16.402 7 28s9.402 21 21 21 21-9.402 21-21S39.598 7 28 7m8.94 13.94a1.5 1.5 0 0 1 2.12 2.12l-14 14a1.5 1.5 0 0 1-2.12 0l-7-7a1.5 1.5 0 0 1 2.12-2.12L24 33.878Z" /></g></symbol>',56,56,!1,void 0)},69075:(e,l,t)=>{t.d(l,{B:()=>o});var o=(0,t(78414).mT)("Icon20FavoriteCircleFillYellow","favorite_circle_fill_yellow_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="favorite_circle_fill_yellow_20"><linearGradient id="favorite_circle_fill_yellow_20_a" x1="-10" x2="10" y1="10" y2="30" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffb73d" /><stop offset="1" stop-color="#ffa000" /></linearGradient><path fill="url(#favorite_circle_fill_yellow_20_a)" d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10" /><path fill="#fff" d="m11.805 7.566 2.39.235c.831.081 1.086.912.444 1.458l-1.87 1.591.694 2.592c.228.851-.48 1.366-1.189.854l-2.273-1.643-2.273 1.643c-.706.51-1.417-.003-1.188-.854l.694-2.592-1.87-1.59c-.646-.549-.392-1.377.443-1.46l2.39-.234 1.052-2.483c.33-.778 1.174-.777 1.504 0z" /></symbol>',20,20,!1,void 0)},72056:(e,l,t)=>{t.d(l,{A:()=>s});var o=t(52370);const s=async function*(e=0){const l=await o.vkapiWrapper.photos.getAlbumsCount({group_id:e});if(yield{count:l,offset:0,items:[]},0===l)return;let t=0;for(;t<l;){const s={offset:t,count:100,need_system:0};e&&(s.owner_id=-e);const{items:i}=await o.vkapiWrapper.photos.getAlbums(s);if(0===i.length)break;yield{count:l,offset:t,items:i||[]},t+=100}}},80258:(e,l,t)=>{t.a(e,async(e,o)=>{try{t.r(l),t.d(l,{default:()=>y});var s=t(74848),i=t(52370),n=t(85252),r=t(8015),a=t(68741),c=t(11157),d=t(39107),u=t(96540),_=t(74225),h=t.n(_),f=t(58207),p=t(49747),m=t(23050),x=t(72056),g=t(57610),v=t(21036),w=e([r,f,p,v]);[r,f,p,v]=w.then?(await w)():w;const b=()=>{const e=(0,r.A)(),[l,t]=(0,u.useState)(null),[o,_]=(0,u.useState)(0),[f,w]=(0,u.useState)(0),[b,y]=(0,u.useState)(null),j=(0,g.F9)(),[k]=(0,n.A)(),A=(0,c.Gz)();h()(async e=>{t(null),_(0),w(0),y(null);const l=[];for await(const{offset:t,count:o,items:s}of(0,x.A)(j)){if(!e())return;if(0===t&&(_(o),w(0)),0===o){_(t);break}for(const e of s)e.can_delete&&l.push(e);w(l.length)}e()&&t(l)},[j]);return null!==b?f===b?(0,s.jsx)(p.A,{}):(0,s.jsx)(d.YJl,{children:(0,s.jsx)(m.A,{label:e.use("settings_cleaner_photo_albums_removing"),value:f,max:b})}):null===l?(0,s.jsx)(d.YJl,{children:(0,s.jsx)(m.A,{label:e.use("settings_cleaner_photo_albums_getting"),value:f,max:o})}):(0,s.jsx)(v.A,{albums:l,onSelectedAlbums:async e=>{if(k){w(0),y(e.length);for(const l of e){try{await i.vkapiWrapper.photos.deleteAlbum({group_id:j,album_id:l})}catch(e){console.error(e)}w(e=>e+1)}}else A.push(a.JZ.root.main.prime)}})},y=()=>{const e=(0,r.A)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{children:e.use("settings_menu_cleaner_photo_albums_title")}),(0,s.jsx)(b,{})]})};o()}catch(e){o(e)}})}}]);