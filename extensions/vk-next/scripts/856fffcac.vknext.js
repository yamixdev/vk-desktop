"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[730],{58310:(e,n,r)=>{r.d(n,{x:()=>o});var t=r(50313);const o=()=>(0,t.A)("VideoInitializer")},86379:(e,n,r)=>{r.a(e,async(e,t)=>{try{r.r(n);var o=r(57580),a=(r(98306),r(79110)),c=r(37400),i=r(51710),l=e([o]);o=(l.then?(await l)():l)[0],r.e(3917).then(r.bind(r,23917)).catch(console.error);const s=async()=>{await(0,c.G)();try{await Promise.all([r.e(1142),r.e(8192),r.e(4532),r.e(8043)]).then(r.bind(r,74792))}catch(e){console.error(e)}try{await r.e(9765).then(r.bind(r,69765))}catch(e){console.error(e)}try{await r.e(2135).then(r.bind(r,52135))}catch(e){console.error(e)}try{await Promise.all([r.e(2441),r.e(6353)]).then(r.bind(r,6353))}catch(e){console.error(e)}try{await r.e(9133).then(r.bind(r,39133))}catch(e){console.error(e)}try{await Promise.all([r.e(961),r.e(7397),r.e(1649),r.e(4532),r.e(6604)]).then(r.bind(r,11423))}catch(e){console.error(e)}try{await Promise.all([r.e(1142),r.e(8192),r.e(4532),r.e(3256)]).then(r.bind(r,95963))}catch(e){console.error(e)}try{await r.e(9499).then(r.bind(r,59499))}catch(e){console.error(e)}try{await r.e(7602).then(r.bind(r,7602))}catch(e){console.error(e)}try{await r.e(3116).then(r.bind(r,13116))}catch(e){console.error(e)}try{await r.e(2497).then(r.bind(r,82497))}catch(e){console.error(e)}try{await Promise.all([r.e(1142),r.e(8192),r.e(4532),r.e(717)]).then(r.bind(r,50130))}catch(e){console.error(e)}await r.e(2392).then(r.bind(r,82392))};0,(0,i.A)()&&(0,a.g)(s),t()}catch(e){t(e)}})},98306:(e,n,r)=>{var t=r(74848),o=r(7417),a=r(92046),c=r(22707),i=r(37400),l=r(58310),s=r(48913),d=r(38729),w=r(5305),y=r(2006),h=r(43171),v=r(3068);const u=(0,d.NS)(),b=new Set;let P=!1;const m=async(e,n)=>{if(e.vkn_down_inj)return;e.vkn_down_inj=!0;const o=e.querySelector(".videoplayer_btn_settings"),a=document.createElement("div");e.insertBefore(a,o);const{default:c}=await Promise.all([r.e(961),r.e(7397),r.e(1649),r.e(8414),r.e(2554)]).then(r.bind(r,2554)),{unmount:i}=await(0,v.A)({root:a,content:(0,t.jsx)(c,{player:n}),disableParentTransformForPositionFixedElements:!0,disablePortal:!0});b.add(()=>{i(),a.remove()})},f=(e,n)=>{e[u]||(e[u]=new MutationObserver(async()=>{await(0,i.G)(),await(0,c.t)();const r=e.querySelector(".videoplayer_controls");r&&m(r,n)}),e[u].observe(e,{childList:!0}),y.A.add(e),P||(P=!0,(0,h.A)(()=>{for(const e of b)e();b.clear(),P=!1})))},k=async()=>{if(!window.mvcur)return;if(window.mvcur.sdkPlayer?.container||await(0,a.c)(5e3),!window.mvcur.sdkPlayer?.container)return;const e=window.mvcur.sdkPlayer.container.querySelector(".videoplayer_controls");e&&m(e,window.mvcur.sdkPlayer.vars),f(window.mvcur.sdkPlayer.container,window.mvcur.sdkPlayer.vars)},p=async()=>{const e=await(0,s.e)();if(!e.videoInlinePlayer){if("video"!==e.module)return;return await(0,a.c)(1e3),await p()}if(e?.videoInlinePlayer?.container||await(0,a.c)(5e3),!e.videoInlinePlayer?.container)return;const n=e.videoInlinePlayer.container.querySelector(".videoplayer_controls");n&&m(n,e.videoInlinePlayer.vars),f(e.videoInlinePlayer.container,e.videoInlinePlayer.vars)};(0,w.A)(e=>{const[n,,r]=e;if(n.includes("al_video.php")&&r?.onDone){const e=r.onDone;r.onDone=function(...n){const r=Reflect.apply(e,this,n);return k().catch(console.error),r}}return e}),(async()=>{const e=await(0,l.x)(),n=e.vk;e.vk=function(...e){const r=Reflect.apply(n,this,e);try{const[n,r]=e;n&&r&&f(n,r)}catch(e){console.error(e)}return r}})().catch(console.error),(0,o.n)(()=>{k().catch(console.error),p().catch(console.error)})}}]);