"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[4109,5633],{4280:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>u});var i=t(74848),s=t(90275),c=t(11617),a=t(96540),r=t(87675),l=t(79705),d=e([r]);r=(d.then?(await d)():d)[0];const u=()=>{const e=(0,r.A)(),[n,t]=(0,l.A)("currentTheme"),o=(0,a.useCallback)(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches,[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.vH,{onClick:()=>t("light"),rightIcon:(0,i.jsx)(c.$,{visibility:["light",null].includes(n)?"visible":"hidden"}),children:(0,a.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_light"),[])},"light"),(0,i.jsx)(s.vH,{onClick:()=>t("vkcom_dark"),rightIcon:(0,i.jsx)(c.$,{visibility:"vkcom_dark"===n?"visible":"hidden"}),children:(0,a.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_dark"),[])},"vkcom_dark"),o()&&(0,i.jsx)(s.vH,{onClick:()=>t("auto"),rightIcon:(0,i.jsx)(c.$,{visibility:"auto"===n?"visible":"hidden"}),children:(0,a.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_auto"),[])}),(0,i.jsx)(s.AS,{}),(0,i.jsx)(s.vH,{subtitle:"@vknext",onClick:()=>t("vknext_gray"),rightIcon:(0,i.jsx)(c.$,{visibility:"vknext_gray"===n?"visible":"hidden"}),children:e.use("global_theme_gray")},"vknext_gray"),(0,i.jsx)(s.vH,{subtitle:"@vknext",onClick:()=>t("vknext_dark"),rightIcon:(0,i.jsx)(c.$,{visibility:"vknext_dark"===n?"visible":"hidden"}),children:e.use("global_theme_dark")},"vknext_dark")]})};o()}catch(e){o(e)}})},7646:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(74848),i=t(39107),s=t(42335);const c=({className:e,children:n,getRootRef:t,useScrollView:c,...a})=>c?(0,o.jsx)(i.guY,{getRootRef:t,className:(0,i.xWm)(s.A.ActionsMenu,e),children:n}):(0,o.jsx)("div",{ref:t,...a,className:(0,i.xWm)(s.A.ActionsMenu,e),children:n})},11617:(e,n,t)=>{t.d(n,{$:()=>o});var o=(0,t(78414).mT)("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16,!1,void 0)},12578:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>A});var i=t(74848),s=t(90275),c=t(11617),a=t(96540),r=t(87675),l=t(79705),d=t(45633),u=e([r]);r=(u.then?(await u)():u)[0];const A=({hasTopSeparator:e=!0})=>{const n=(0,r.A)(),[t,o]=(0,l.A)("currentTheme"),[u,A]=(0,a.useState)(d.default.getThemes());(0,a.useEffect)(()=>{d.default.addListener((e,n)=>{A(n)})},[]);const h=(0,a.useMemo)(()=>Object.entries(u),[u]);return h.length?(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(s.AS,{}),h.map(([e,a])=>(0,i.jsx)(s.vH,{subtitle:a.author,onClick:()=>o(e),rightIcon:(0,i.jsx)(c.$,{visibility:t===e?"visible":"hidden"}),children:a.lang?n.use(a.lang):a.name},e))]}):null};o()}catch(e){o(e)}})},22860:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(74848),i=t(75623),s=t(39107),c=t(7646);const a=({children:e,actions:n,actionsMenuClassName:t,hideOnClick:a=!0,disabled:r=!1,useScrollView:l=!1,...d})=>r?e:(0,o.jsx)(i.A,{content:(0,o.jsx)(c.A,{useScrollView:l,className:(0,s.xWm)(t),children:n}),noBackground:!0,hideOnClick:a,...d,children:e})},40779:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>A});var i=t(74848),s=t(22860),c=t(96540),a=t(90530),r=t(12578),l=t(4280),d=e([r,l]);[r,l]=d.then?(await d)():d;const u=({children:e,trigger:n="hover",placement:t="bottom-end",hideOnClick:o=!0,disabled:c=!1})=>(0,i.jsx)(s.A,{trigger:n,placement:t,hideOnClick:o,disabled:c,actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{}),(0,i.jsx)(r.A,{})]}),actionsMenuClassName:a.A.ChangeThemePopover__actionsMenu,usePortal:document.body,useScrollView:!0,children:e}),A=(0,c.memo)(u);o()}catch(e){o(e)}})},42335:(e,n,t)=>{t.d(n,{A:()=>o});const o={ActionsMenu:"oXPVlZtlcjoi6d8e"}},43853:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>l});var i=t(96540),s=t(87675),c=t(79705),a=t(45633),r=e([s]);s=(r.then?(await r)():r)[0];const l=()=>{const e=(0,s.A)(),[n]=(0,c.A)("currentTheme");return(0,i.useMemo)(()=>{if(["light",null].includes(n))return window.getLang("settings_appearance_color_scheme_mode_light");if("vkcom_dark"===n)return window.getLang("settings_appearance_color_scheme_mode_dark");if("auto"===n)return window.getLang("settings_appearance_color_scheme_mode_auto");if("vknext_gray"===n)return`${e.use("global_theme_gray")} (@vknext)`;if("vknext_dark"===n)return`${e.use("global_theme_dark")} (@vknext)`;const t=a.default.getTheme(n);if(t){const n=t.lang?e.use(t.lang):t.name;return t.author?`${n} (${t.author})`:n}return n},[n,e])};o()}catch(e){o(e)}})},44511:(e,n,t)=>{t.d(n,{A:()=>o});const o={ActionsMenuActionSeparator:"JUUAV9aJuLWPapUx"}},45633:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var o=t(44181);class i extends o.A{constructor(){super("Themes")}getTheme(e){return this.getStorage()[e]}setTheme(e,n){const t=this.getStorage();t[e]=n,this.saveStorage(t)}getThemes(){return this.getStorage()}setThemes(e){this.saveStorage(e)}removeTheme(e){const n=this.getStorage();delete n[e],this.saveStorage(n)}}const s=new i},53339:(e,n,t)=>{t.d(n,{A:()=>o});const o={ActionsMenuAction:"Qz12flm1ckhwWMRi","ActionsMenuAction--clickable":"zqSAHhp0mZkpJyJv","ActionsMenuAction--loading":"maWKomPpZn38CGdY",ActionsMenuAction__title:"f5DiFbY0HMzfonGH","ActionsMenuAction--hover":"eArigbMXC9scSDcE","ActionsMenuAction--active":"dKO8yhdsvq5OQaLB","ActionsMenuAction--size-mini":"_RpwxXrwB9cHW9y9","ActionsMenuAction--size-regular":"JSPJNQnfc0rmrUKc","ActionsMenuAction--size-large":"Kz6XOr7wirTW6rZ_","ActionsMenuAction--size-max":"I5pyzjxjokMaCjf_",ActionsMenuAction__icon:"CIshpRBaU1ScuMSN","ActionsMenuAction--primary":"shY5I45XLLb2peEz","ActionsMenuAction--secondary":"CHnF5e3RJGJOddfX","ActionsMenuAction--danger":"bdbcNwBFv_xx4hSf","ActionsMenuAction--warning":"dIPqyT74MfEGnvhg",ActionsMenuAction__subtitle:"Z9G_cg7qHFwNychh","ActionsMenuAction--multiline":"rdni9aRD2DN3OfDv"}},61166:(e,n,t)=>{t.d(n,{A:()=>o});const o={PopoverReforged:"V5vFILKwsuTAoDXp","reforged-anim-fade-in":"aKnVnnmt_OsWj600","reforged-anim-fade-out":"uvPWUxQQgpV6cgFC","PopoverReforged--noBackground":"h4DVtB6f3FyJCExI"}},62882:(e,n,t)=>{t.d(n,{A:()=>r});var o=t(74848),i=t(39107),s=t(53339);const c={mini:s.A["ActionsMenuAction--size-mini"],large:s.A["ActionsMenuAction--size-large"],regular:s.A["ActionsMenuAction--size-regular"],max:s.A["ActionsMenuAction--size-max"]},a={primary:s.A["ActionsMenuAction--primary"],secondary:s.A["ActionsMenuAction--secondary"],danger:s.A["ActionsMenuAction--danger"],warning:s.A["ActionsMenuAction--warning"]},r=({leftIcon:e,rightIcon:n,title:t,subtitle:r,type:l="secondary",size:d="regular",isActive:u=!1,hasHover:A=!0,isLoading:h,className:m,onClick:g,titleClassName:v,getRootRef:_,href:x,Component:k=(x?"a":"button"),children:M,multiline:f=!1,...p})=>(0,o.jsxs)(k,{className:(0,i.xWm)(s.A.ActionsMenuAction,A&&s.A["ActionsMenuAction--hover"],(g||A||x)&&s.A["ActionsMenuAction--clickable"],a[l],h&&s.A["ActionsMenuAction--loading"],u&&s.A["ActionsMenuAction--active"],f&&s.A["ActionsMenuAction--multiline"],c[d],m),onClick:h?void 0:g,ref:_,href:x,...p,children:[e&&(0,o.jsx)("i",{className:s.A.ActionsMenuAction__icon,children:e}),(0,o.jsxs)("span",{title:t,className:(0,i.xWm)(s.A.ActionsMenuAction__title,v),children:[M,r&&(0,o.jsx)("span",{className:s.A.ActionsMenuAction__subtitle,children:r})]}),n&&(0,o.jsx)("i",{className:s.A.ActionsMenuAction__icon,children:n})]})},68680:(e,n,t)=>{t.d(n,{A:()=>o});const o={CustomColorSchemeDropdown__value:"zZSKgYEfMBQelfP0"}},75623:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(74848),i=t(39107),s=t(96540),c=t(61166);const a=({hideOnClick:e=!1,noBackground:n=!1,mode:t,onClick:a,onShownChange:r,className:l,contentWrapperClassName:d,shown:u,content:A,...h})=>{const[m,g]=(0,s.useState)(!1),v=(0,s.useRef)(null),_=(0,s.useRef)(null),x=(0,s.useCallback)(e=>{e?g(!0):v.current=setTimeout(()=>{g(!1)},100),r?.(e)},[t,r,g]);return(0,s.useEffect)(()=>{"boolean"==typeof u&&x(u)},[u,x]),(0,o.jsx)(i.AMh,{shown:m,className:(0,i.xWm)(c.A.PopoverReforged,n&&c.A["PopoverReforged--noBackground"],l),onShownChange:x,onClick:e=>{if("side"===t&&v.current)clearTimeout(v.current);else try{a?.(e)}catch(e){console.error(e)}},content:(0,o.jsx)("div",{ref:_,className:(0,i.xWm)(d),onClick:n=>{e&&_.current?.contains(n.target)&&g(!1)},children:A}),...h})}},79705:(e,n,t)=>{t.d(n,{A:()=>s});var o=t(96540),i=t(43024);const s=function(e){const[n,t]=(0,o.useState)(i.default.getValue(e));return(0,o.useEffect)(()=>{const n=i.default.addChangeKeyListener(e,(e,n)=>t(n));return()=>n.remove()},[e]),[n,n=>{i.default.setValue(e,n)}]}},83558:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(74848),i=t(39107),s=t(44511);const c=({getRootRef:e,className:n,...t})=>(0,o.jsx)("div",{role:"separator",className:(0,i.xWm)(s.A.ActionsMenuActionSeparator,n),ref:e,...t})},87675:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>s});var i=t(93819);const e=await i.A,s=()=>e;o()}catch(e){o(e)}},1)},90275:(e,n,t)=>{t.d(n,{AS:()=>i.A,Ku:()=>s.A,vH:()=>o.A});t(7646);var o=t(62882),i=t(83558),s=t(22860)},90530:(e,n,t)=>{t.d(n,{A:()=>o});const o={ChangeThemePopover__actionsMenu:"SNh63ThpJ56Yr0RC"}},94109:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.r(n),t.d(n,{default:()=>d});var i=t(74848),s=t(39107),c=t(40779),a=t(68680),r=t(43853),l=e([c,r]);[c,r]=l.then?(await l)():l;const d=({isEcoPlate:e,...n})=>{const t=(0,r.A)();return(0,i.jsx)(c.A,{...n,children:e?(0,i.jsxs)(s.EYj,{children:[e?`${window.getLang("global_head_color_scheme")} `:null,(0,i.jsx)(s.N_E,{className:a.A.CustomColorSchemeDropdown__value,title:t,children:t})]}):(0,i.jsx)(s.N_E,{className:a.A.CustomColorSchemeDropdown__value,title:t,children:t})})};o()}catch(e){o(e)}})}}]);