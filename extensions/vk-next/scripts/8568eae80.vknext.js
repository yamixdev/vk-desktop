"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[382,634,1192],{1003:(e,u,t)=>{t.d(u,{A:()=>s});const s=(e=window.location.pathname)=>{const u=e.match(/^\/?gim(\d+)/);return u&&u[1]?-parseInt(u[1]):window.vk.id}},2872:(e,u,t)=>{t.d(u,{A:()=>s});const s=[{value:"vtosters",title:"VTosters Classique"},{value:"vkcoffee",title:"VK Coffee [default]"},{value:"vkcoffeeHidden",title:"VK Coffee [hidden]"},{value:"beeCrypt",title:"BeeCrypt"},{value:"mp3Invis",title:"Mp3 invisible"}]},9511:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>d});var a=t(74848),n=t(66755),F=t(90275),o=t(87675),i=t(79705),r=t(25109),c=e([o]);o=(c.then?(await c)():c)[0];const d=()=>{const e=(0,o.A)(),[u]=(0,i.A)("nodeleteall");return u?(0,a.jsx)(F.vH,{leftIcon:(0,a.jsx)(n.O,{}),onClick:r.A,children:e.use("vkcom_action_item_deleted_msg")}):null};s()}catch(e){s(e)}})},10634:(e,u,t)=>{t.r(u),t.d(u,{default:()=>n});var s=t(53778);class a extends s.default{constructor(){super("chatStats",{lifetime:3e3})}async getData(e,u){const t=(await this.getStorage())[`${e}_${u}`];return t?{...t,badWords:new Map(Object.entries(t?.badWords)),emojis:new Map(Object.entries(t?.emojis)),msgCountBySender:new Map(Object.entries(t?.msgCountBySender).map(e=>[+e[0],e[1]])),stickers:new Map(Object.entries(t?.stickers).map(e=>[+e[0],e[1]])),ugcStickers:new Map(Object.entries(t?.ugcStickers).map(e=>[+e[0],e[1]])),words:new Map(Object.entries(t?.words)),messagesByDay:new Map(Object.entries(t?.messagesByDay).map(e=>[+e[0],e[1]]))}:null}async setData(e,u,t){const s=await this.getStorage();s[`${e}_${u}`]={...t,badWords:Object.fromEntries(t.badWords.entries()),emojis:Object.fromEntries(t.emojis.entries()),msgCountBySender:Object.fromEntries(t.msgCountBySender.entries()),stickers:Object.fromEntries(t.stickers.entries()),ugcStickers:Object.fromEntries(t.ugcStickers.entries()),words:Object.fromEntries(t.words.entries()),messagesByDay:Object.fromEntries(t.messagesByDay.entries())},await this.saveStorage(s)}async deleteData(e,u){if(!e)throw new Error("Peer id is not defined");const t=await this.getStorage();delete t[`${e}_${u}`],await this.saveStorage(t)}}const n=new a},12508:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>E});var a=t(74848),n=t(27849),F=t(45804),o=t(96540),i=t(74225),r=t.n(i),c=t(90275),d=t(43027),l=t(32488),m=t(33911),g=t(67078),p=t(30456),_=t(55517),A=t(87675),f=e([m,A]);[m,A]=f.then?(await f)():f;const E=()=>{const e=(0,_.A)(),u=(0,A.A)(),[s,i]=(0,o.useState)(!1);r()(async u=>{if(0===e||e===window.vk.id)return;const s=await t.e(4765).then(t.bind(t,24765)).then(e=>e.default);if(!u)return;const a=await s.getData(window.vk.id);u&&i(a.friends.includes(e))},[e]);return e===window.vk?.id||0===e?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.AS,{}),(0,a.jsx)(c.vH,{leftIcon:s?(0,a.jsx)(F.p,{width:20,height:20}):(0,a.jsx)(n.H,{width:20,height:20}),onClick:a=>{(0,d.A)(a),(async()=>{if(!await(0,l.default)())return(0,p.A)();const a=!s,n=await t.e(4765).then(t.bind(t,24765)).then(e=>e.default),F=await n.getData(window.vk.id);if(a)F.friends.includes(e)||F.friends.push(e);else{const u=F.friends.indexOf(e);-1!==u&&F.friends.splice(u,1)}await n.setData(window.vk.id,F),(0,g.A)({type:"done",text:a?u.use("vkcom_toggle_spy_on"):u.use("vkcom_toggle_spy_off")}),i(a)})().catch(console.error)},rightIcon:(0,a.jsx)(m.A.Prime,{}),children:s?u.use("vkcom_action_item_off_spyning"):u.use("vkcom_action_item_on_spyning")})]})};s()}catch(e){s(e)}})},17100:(e,u,t)=>{t.d(u,{Ay:()=>r,Fs:()=>i,Hb:()=>o});var s=t(74848),a=t(96540);const n=(0,a.createContext)(null),F=()=>{const e=(0,a.useContext)(n);if(!e)throw new Error("CustomModalPageContext has not been passed in provider");return e},o=()=>{const e=F();return{closeModal:()=>e.setOpen(!1)}},i=()=>{const{onClose:e,onClosed:u,onOpen:t,onOpened:s,open:a,setOpen:n}=F();return{open:a,setOpen:n,onClose:e,onClosed:u,onOpen:t,onOpened:s}},r=({onClose:e,onClosed:u,onOpen:t,onOpened:F,...o})=>{const[i,r]=(0,a.useState)(!0);return(0,s.jsx)(n.Provider,{value:{open:i,setOpen:r,onClose:e,onClosed:u,onOpen:t,onOpened:F},...o})}},20382:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{default:()=>f});var a=t(74848),n=t(90275),F=t(1116),o=t(25772),i=t(39107),r=t(49423),c=t(87675),d=t(79705),l=t(2872),m=t(22486),g=t(28399),p=e([c,m]);[c,m]=p.then?(await p)():p;const _=()=>{const e=(0,c.A)(),[u]=(0,d.A)("encryptMessagesType");if(!u)return null;const t=l.A.find(({value:e})=>e===u);return t?(0,a.jsx)(i.m_M,{usePortal:document.body,appearance:"black",placement:"right",description:e.use("vkcom_message_decrypting_enabled_warning",{method:t.title}),children:(0,a.jsx)("div",{className:g.A.EncryptMessagesButton,children:(0,a.jsx)(o.m,{})})}):null},A=({isGroup:e})=>(0,a.jsx)(n.Ku,{trigger:"hover",placement:"bottom-end",className:g.A.HeaderControls,hideOnClick:!0,actions:(0,a.jsx)(m.A,{isGroup:e}),children:(0,a.jsxs)("button",{className:g.A.ConvoHeader__action,children:[(0,a.jsx)(F.X,{}),(0,a.jsx)(_,{})]})}),f=({isGroup:e})=>{const u=(0,r.A)();return(0,a.jsx)(i.SvD,{value:u,children:(0,a.jsx)(A,{isGroup:e})})};s()}catch(e){s(e)}})},22486:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>B});var a=t(74848),n=t(97263),F=t(89150),o=t(19610),i=t(14487),r=t(47503),c=t(90275),d=t(55517),l=t(9511),m=t(46895),g=t(12508),p=t(74051),_=t(60546),A=t(87675),f=t(52968),E=t(28381),w=t(25012),h=t(40349),v=t(31284),C=t(89205),k=t(88957),y=e([l,m,g,p,_,A,k]);[l,m,g,p,_,A,k]=y.then?(await y)():y;const B=({isGroup:e})=>{const u=(0,d.A)(),t=(0,A.A)(),s=e?(0,f.A)():void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.vH,{leftIcon:(0,a.jsx)(n.k,{}),onClick:()=>(0,E.A)(u),children:t.use("vkcom_action_item_im_start")}),(0,a.jsx)(c.vH,{leftIcon:(0,a.jsx)(o.e,{}),onClick:w.A,children:t.use("vkcom_action_item_main_mentions")}),(0,a.jsx)(l.A,{}),(0,a.jsx)(m.A,{}),!s&&(0,a.jsx)(c.vH,{leftIcon:(0,a.jsx)(r.S,{width:20,height:20}),onClick:C.A,children:t.use("vkcom_action_item_encrypting")}),(0,a.jsx)(c.AS,{}),(0,a.jsx)(p.A,{}),(0,a.jsx)(_.A,{}),!s&&(0,a.jsx)(g.A,{}),(0,a.jsx)(c.AS,{}),(0,a.jsx)(c.vH,{leftIcon:(0,a.jsx)(F.W,{}),onClick:()=>(0,v.A)({peerId:u,groupId:(0,f.A)()}),children:t.use("vkcom_action_item_chat_download")}),(0,a.jsx)(c.vH,{leftIcon:(0,a.jsx)(i.R,{}),onClick:()=>(0,h.A)(u,window.cur?.gid||0,window.vk.id),children:t.use("vkcom_action_item_chat_stats")}),(0,a.jsx)(k.A,{})]})};s()}catch(e){s(e)}})},23138:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>c});var a=t(74848),n=t(69075),F=t(39107),o=t(87675),i=t(42726),r=e([o]);o=(r.then?(await r)():r)[0];const c=({isSection:e,className:u,...t})=>{const s=(0,o.A)();return(0,a.jsx)(F.m_M,{className:i.A.Badges__tooltip,description:e?s.use("global_badges_prime_section_warning"):s.use("global_badges_prime_function_warning"),appearance:"accent",usePortal:!0,...t,children:(0,a.jsx)("span",{className:(0,F.xWm)(i.A.vknPrime,u),children:(0,a.jsx)(n.B,{height:16,width:16})})})};s()}catch(e){s(e)}})},25012:(e,u,t)=>{t.d(u,{A:()=>n});var s=t(7618),a=t(1003);const n=()=>{const e=(0,a.A)(),u=s.z.isGroupId(e)?`[club${Math.abs(e)}|`:`[id${e}|`,t=document.body.querySelector("input#im_history_search");if(t){t.value=u;const e=document.body.getElementsByClassName("im-search--btn _im_start_inplace_search")[0];e?.click();const s=document.body.getElementsByClassName("im-action im-action_search")[0];return s?.click(),void(t.value="")}if(window.vkmeIntegration){const e={...window.nav.objLoc,search:u};window.nav.go(e)}}},25109:(e,u,t)=>{t.d(u,{A:()=>a});var s=t(89307);const a=async()=>{const{default:e}=await Promise.all([t.e(9418),t.e(2295),t.e(8238),t.e(7887),t.e(8510),t.e(3506),t.e(9988),t.e(5105)]).then(t.bind(t,81922));return(0,s.A)(e)}},25620:(e,u,t)=>{t.d(u,{A:()=>F});var s=t(52968),a=t(43024),n=t(37573);const F=e=>{"string"==typeof e&&(e=parseInt(e));const u=Math.abs((0,s.A)()),t=a.default.getValue("silentwriteinclgim"),F=a.default.getValue("silentwriteexclgim");let o=t[u]||[],i=F[u]||[],r=!1;return u||(o=a.default.getValue("silentwriteincl"),i=a.default.getValue("silentwriteexcl")),(0,n.A)(e,u)?(o.includes(e)&&o.splice(o.indexOf(e),1),i.includes(e)||i.push(e),r=!1):(i.includes(e)&&i.splice(i.indexOf(e),1),o.includes(e)||o.push(e),r=!0),u?(t[u]=o,F[u]=i,a.default.setValue("silentwriteinclgim",t),a.default.setValue("silentwriteexclgim",F)):(a.default.setValue("silentwriteincl",o),a.default.setValue("silentwriteexcl",i)),r}},28381:(e,u,t)=>{t.d(u,{A:()=>n});var s=t(92046),a=t(44497);const n=async(e=(0,a.A)())=>{if(!e||0===e)return;const{items:u}=await vkApi.api("messages.getHistory",{peer_id:e||window.cur.peer||window.vk.id,count:1,rev:1}),t=u[0].conversation_message_id||1;if(window.vkmeIntegration){const e={...window.nav.objLoc,cmid:`${t}`};window.nav.go(e)}else{const e={...window.nav.objLoc},{sel:u}=e;window.nav.go({...e,sel:""}),await(0,s.c)(0),window.nav.go({...e,sel:u,msgid:t})}}},28399:(e,u,t)=>{t.d(u,{A:()=>s});const s={ConvoHeader__action:"sTpn2Kx9DZpQUest",HeaderControls:"SklS4fDuKkWmJGkW",EncryptMessagesButton:"t4M8GCqiMne2mcYq"}},30456:(e,u,t)=>{t.d(u,{A:()=>a});var s=t(81192);const a=()=>(0,s.default)("#/prime")},31284:(e,u,t)=>{t.d(u,{A:()=>n});var s=t(74848),a=t(89307);const n=async e=>{const{default:u}=await t.e(8671).then(t.bind(t,48671));return(0,a.A)((0,s.jsx)(u,{...e}))}},33911:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>d});var a=t(74848),n=t(42726),F=t(73809),o=t(23138),i=t(89571),r=e([F,o,i]);[F,o,i]=r.then?(await r)():r;const c=({children:e})=>(0,a.jsx)("div",{className:n.A.Badges__wrapper,children:e});c.Beta=F.A,c.Prime=o.A,c.PrimeDeluxe=i.A;const d=c;s()}catch(e){s(e)}})},39099:(e,u,t)=>{t.d(u,{A:()=>n});const s=(e,u)=>e.length<=u?e:e.slice(0,u)+"...";var a=t(7618);const n=async(e,u)=>{const t={peerName:""};if(a.z.isChatId(e)){const{items:u}=await vkApi.api("messages.getConversationsById",{peer_ids:e}),a=u[0].chat_settings;t.peerName=s(a?.title||"",40),t.imageUrl=a?.photo?.photo_200}else if(a.z.isUserId(e)){const a=(await vkApi.api("users.get",{user_ids:[e],fields:["photo_200"],name_case:"ins"}))[0],n=a.deactivated?"DELETED":`${(a?.first_name||"")[0]}. ${s(a?.last_name||"",20)}`;if(t.imageUrl=a?.photo_200,t.peerName=n,u&&u>0){const e=await vkApi.api("groups.getById",{group_ids:[u]});t.groupName=s(e.groups[0].name||"",20)}}else if(a.z.isGroupId(e)){const u=await vkApi.api("groups.getById",{group_ids:[-e]});t.imageUrl=u.groups[0]?.photo_200,t.peerName=s(u?.groups[0]?.name||"",40)}return t}},40043:(e,u,t)=>{t.d(u,{A:()=>a});const s=()=>'\n\tvar peer_id = Args.peerId;\n\tvar count = Args.count - 0;\n\tvar group_id = Args.groupId;\n\tvar offset = Args.offset - 0;\n    var max_calls = Args.maxCalls - 0;\n    var msg_count = Args.msgCount - 0;\n\t\n\tvar call_count = 0;\n\n\tvar response = {};\n\t\n\tvar params = {\n\t\t"peer_id": peer_id,\n\t\t"offset": offset,\n\t\t"count": count,\n\t\t"group_id": group_id,\n        "rev": 1\n\t};\n\n\tif (msg_count == 0) {\n\t\tvar messages = API.messages.getHistory(params);\n\t\tmsg_count = messages.count;\n\t\tresponse.msg_count = msg_count;\n\t\tresponse.messages = messages.items;\n\t\tmax_calls =\tmax_calls - 1;\n\t\tparams.offset = params.offset + count;\n\t}\n\t\n\tvar forks = [];\n\t\n\twhile (call_count < max_calls && offset < msg_count) {\n\t\tforks.push(fork(API.messages.getHistory(params)));\n\t\tcall_count = call_count + 1;\n\t\tparams.offset = params.offset + count;\n\t}\n\t\n\twhile (forks.length > 0) {\n\t\tvar messages = wait(forks.pop());\n\t\tif (response.messages)\n        \tresponse.messages = response.messages + messages.items;\n        else\n\t\t\tresponse.messages = messages.items;\n\t}\n\n\treturn response;\n';async function*a(e,u,t){let a=0,n=25,F=0;const o=200;do{try{const i=await window.vkApi.api("execute",{code:s(),peerId:e,groupId:u,count:o,offset:a,maxCalls:n,msgCount:F,v:"5.223"},{},{signal:t});if(10===(i.execute_errors||[])[0]?.error_code){n>1?n=Math.floor(n/2):(a+=o,n=25);continue}a+=n*o,0===F&&(F=i.msg_count),n=25,yield i}catch(e){if(t.aborted)return;13===e.error.error_code&&(n>1?n=Math.floor(n/2):(a+=o,n=25)),console.error(e)}}while(0==a||a<F)}},40349:(e,u,t)=>{t.d(u,{A:()=>x});var s=t(74848),a=t(33258),n=t(7618);function F(e,u,t,s,a,F){return n.z.isChatId(e)?t:n.z.isUserId(e)?0!==u?a:s:F}function o(e,u,t,s){return F(e,u,s.use("global_chat_stats_notification_chat_started_message",{peerName:t.peerName}),s.use("global_chat_stats_notification_user_started_message",{peerName:t.peerName}),s.use("global_chat_stats_notification_gim_user_started_message",{peerName:t.peerName,groupName:t.groupName}),s.use("global_chat_stats_notification_group_started_message",{peerName:t.peerName}))}var i=t(39099);function r(e,u,t,s){return F(e,u,s.use("global_chat_stats_notification_chat_ended_message",{peerName:t.peerName}),s.use("global_chat_stats_notification_user_ended_message",{peerName:t.peerName}),s.use("global_chat_stats_notification_gim_user_ended_message",{peerName:t.peerName,groupName:t.groupName}),s.use("global_chat_stats_notification_group_ended_message",{peerName:t.peerName}))}var c=t(93819),d=t(67078),l=t(387),m=t(10634);const g=/\u{1F3F4}(?:\u{E0067}\u{E0062}(?:\u{E0065}\u{E006E}\u{E0067}|\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074})\u{E007F}|\u{200D}\u{2620}\u{FE0F}?)|\u{1F469}\u{200D}\u{1F469}\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F468}(?:\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D})?\u{1F468}|[\u{1F468}\u{1F469}]\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D}[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}\u{1F466}\u{200D}\u{1F466}|(?:\u{1F441}\u{FE0F}?\u{200D}\u{1F5E8}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{1F468}(?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{200D}[\u{2695}\u{2696}\u{2708}])|(?:[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}]\u{FE0F}?|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u{200D}[\u{2640}\u{2642}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}](?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|\u{200D}[\u{2640}\u{2642}])|\u{1F469}\u{200D}[\u{2695}\u{2696}\u{2708}])\u{FE0F}?|\u{1F469}\u{200D}\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|\u{1F469}\u{200D}\u{1F469}\u{200D}[\u{1F466}\u{1F467}]|\u{1F468}(?:\u{200D}(?:[\u{1F468}\u{1F469}]\u{200D}[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|[\u{1F3FB}-\u{1F3FF}])|\u{1F3F3}\u{FE0F}?\u{200D}\u{1F308}|\u{1F469}\u{200D}\u{1F467}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}]|\u{1F469}\u{200D}\u{1F466}|\u{1F1F6}\u{1F1E6}|\u{1F1FD}\u{1F1F0}|\u{1F1F4}\u{1F1F2}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|[#*0-9]\u{FE0F}?\u{20E3}|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]|[\u{261D}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F470}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F4AA}\u{1F574}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91D}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F936}\u{1F9B5}\u{1F9B6}\u{1F9D1}-\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u{231A}\u{231B}\u{23E9}-\u{23EC}\u{23F0}\u{23F3}\u{25FD}\u{25FE}\u{2614}\u{2615}\u{2648}-\u{2653}\u{267F}\u{2693}\u{26A1}\u{26AA}\u{26AB}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26CE}\u{26D4}\u{26EA}\u{26F2}\u{26F3}\u{26F5}\u{26FA}\u{26FD}\u{2705}\u{270A}\u{270B}\u{2728}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2795}-\u{2797}\u{27B0}\u{27BF}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F393}\u{1F3A0}-\u{1F3CA}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F4}\u{1F3F8}-\u{1F43E}\u{1F440}\u{1F442}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F57A}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5FB}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CC}\u{1F6D0}-\u{1F6D2}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]|[\xA9\xAE\u{203C}\u{2049}\u{2122}\u{2139}\u{2194}-\u{2199}\u{21A9}\u{21AA}\u{231A}\u{231B}\u{2328}\u{23CF}\u{23E9}-\u{23F3}\u{23F8}-\u{23FA}\u{24C2}\u{25AA}\u{25AB}\u{25B6}\u{25C0}\u{25FB}-\u{25FE}\u{2600}-\u{2604}\u{260E}\u{2611}\u{2614}\u{2615}\u{2618}\u{261D}\u{2620}\u{2622}\u{2623}\u{2626}\u{262A}\u{262E}\u{262F}\u{2638}-\u{263A}\u{2648}-\u{2653}\u{265F}\u{2660}\u{2663}\u{2665}\u{2666}\u{2668}\u{267B}\u{267E}\u{267F}\u{2692}-\u{2697}\u{2699}\u{269B}\u{269C}\u{26A0}\u{26A1}\u{26AA}\u{26AB}\u{26B0}\u{26B1}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26C8}\u{26CE}\u{26CF}\u{26D1}\u{26D3}\u{26D4}\u{26E9}\u{26EA}\u{26F0}-\u{26F5}\u{26F7}-\u{26FA}\u{26FD}\u{2702}\u{2705}\u{2708}-\u{270D}\u{270F}\u{2712}\u{2714}\u{2716}\u{271D}\u{2721}\u{2728}\u{2733}\u{2734}\u{2744}\u{2747}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2763}\u{2764}\u{2795}-\u{2797}\u{27A1}\u{27B0}\u{27BF}\u{2934}\u{2935}\u{2B05}-\u{2B07}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{3030}\u{303D}\u{3297}\u{3299}\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]\u{FE0F}?|[\u{261D}\u{26F9}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}-\u{1F3C4}\u{1F3C7}\u{1F3CA}-\u{1F3CC}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}-\u{1F469}\u{1F46E}\u{1F470}-\u{1F478}\u{1F47C}\u{1F481}-\u{1F483}\u{1F485}-\u{1F487}\u{1F4AA}\u{1F574}\u{1F575}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F645}-\u{1F647}\u{1F64B}-\u{1F64F}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F926}\u{1F930}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B5}\u{1F9B6}\u{1F9B8}\u{1F9B9}\u{1F9D1}-\u{1F9DD}]/gu,p=new RegExp(/[!@#$%^&*()_+-="№;:?[\]{}'<>,.`~|\\/\t\n\r]/gu.source+"|"+g.source,"gu"),_=/(?<=(^|[^а-я]))((у|[нз]а|(хитро|не)?вз?[ыьъ]|с[ьъ]|(и|ра)[зс]ъ?|(о[тб]|под)[ьъ]?|(.\B)+?[оаеи])?-?([её]б(?!о[рй])|и[пб][ае][тц]).*?|(н[иеа]|([дп]|верт)о|ра[зс]|з?а|с(ме)?|о(т|дно)?|апч)?-?ху([яйиеёю]|ли(?!ган)).*?|(в[зы]|(три|два|четыре)жды|(н|сук)а)?-?бл(я(?!(х|ш[кн]|мб)[ауеыио]).*?|[еэ][дт]ь?)|(ра[сз]|[зн]а|[со]|вы?|п(ере|р[оие]|од)|и[зс]ъ?|[ао]т)?п[иеё]зд.*?|(за)?п[ие]д[аое]?р([оа]м|(ас)?(ну.*?|и(ли)?[нщктл]ь?)?|(о(ч[еи])?|ас)?к(ой)|юг)[ауеы]?|манд([ауеыи](л(и[сзщ])?[ауеиы])?|ой|[ао]вошь?(е?к[ауе])?|юк(ов|[ауи])?)|муд([яаио].*?|е?н([ьюия]|ей))|мля([тд]ь)?|лять|([нз]а|по)х|м[ао]л[ао]фь([яию]|[еёо]й))(?=($|[^а-я]))/iu,A=(e,u,t=1)=>{e.has(u||0)?e.set(u||0,(e.get(u||0)||0)+t):e.set(u||0,t)},f={app_action:e=>++e.appActions,article:e=>++e.articles,artist:e=>++e.artists,audio:(e,u)=>{++e.audio,e.audioDuration+=u.audio?.duration||0},audio_message:(e,u)=>{++e.voices,e.voicesDuration+=u.audio_message?.duration||0},audio_playlist:e=>++e.audioPlaylists,call:(e,u)=>{++e.calls,e.callsDuration+=u.call?.duration||0},curator:e=>++e.curators,doc:(e,u)=>{++e.docs,e.docsSize+=u.doc?.size||0},donut_link:e=>++e.donutLinks,event:e=>++e.events,gift:e=>++e.gifts,graffiti:e=>++e.graffities,group:e=>++e.groups,group_call_in_progress:e=>++e.groupCalls,link:e=>++e.links,market:e=>++e.markets,market_market_album:e=>++e.marketAlbums,mini_app:e=>++e.miniApps,money_request:e=>++e.moneyRequests,money_transfer:e=>++e.moneyTransfers,narrative:e=>++e.narratives,photo:(e,u)=>{++e.photos,u.photo.lat&&++e.photosGeo},podcast:e=>++e.podcasts,poll:e=>++e.polls,share:e=>++e.shares,sticker:(e,u)=>((e,u)=>{++e.stickersCount,A(e.stickers,u.sticker?.sticker_id)})(e,u),ugc_sticker:(e,u)=>((e,u)=>{e.ugcPackId||(e.ugcPackId=u.ugc_sticker?.pack_id),++e.ugcStickersCount,A(e.ugcStickers,u.ugc_sticker?.id)})(e,u),story:e=>++e.stories,video:(e,u)=>{++e.video,e.videoDuration+=u.video?.duration||0},video_message:(e,u)=>{++e.videoMessages,e.videoMessagesDuration+=u.video_message?.duration||0},video_playlist:e=>++e.voicePlaylists,wall:e=>++e.posts,wall_reply:e=>++e.postReplies,widget:e=>++e.widgets};function E(e,u,t){try{for(const s of u){if(s.conversation_message_id<=t)break;const u=1e3*s.date;(!e.firstMessageTime||e.firstMessageTime>u)&&(e.firstMessageTime=u),(!e.lastMessageTime||e.lastMessageTime<u)&&(e.lastMessageTime=u),e.lastMessageId<s.conversation_message_id&&(e.lastMessageId=s.conversation_message_id),s.out?e.outgoing++:e.incoming++,A(e.msgCountBySender,s.from_id);const a=new Date(u).setHours(0,0,0,0);if(A(e.messagesByDay,a),e.attachments+=(s.attachments||[]).length,e.fwd+=(s.fwd_messages||[]).length,s.reply_message&&++e.replies,s.text?.length){e.chars+=s.text.length;const u=s.text.replaceAll(p," ").split(" ").filter(e=>e.length>2);e.wordsCount+=u.length;for(const t of u)A(e.words,t.toLowerCase()),_.test(t)&&(A(e.badWords,t.toLowerCase()),++e.badWordsCount);for(const u of s.text.match(g)||[])A(e.emojis,u)}s.action&&++e.actions,s.geo&&++e.geo;for(const u of s.attachments||[]){const t=f[u.type];t?t(e,u):++e.unknownAttachments}}}catch(e){console.error(e)}}var w=t(40043);const h=async(e,u,t)=>{const s=await(async(e,u)=>{const t=await m.default.getData(e,u);return t&&0!==t.lastMessageId?t:{actions:0,appActions:0,articles:0,artists:0,attachments:0,audio:0,audioDuration:0,audioPlaylists:0,badWords:new Map,badWordsCount:0,calls:0,callsDuration:0,chars:0,collectedTimestamp:0,curators:0,docs:0,docsSize:0,donutLinks:0,emojis:new Map,events:0,firstMessageTime:0,lastMessageId:0,lastMessageTime:0,fwd:0,geo:0,gifts:0,graffities:0,groupCalls:0,groups:0,incoming:0,linkCurators:0,links:0,marketAlbums:0,markets:0,messagesByDay:new Map,miniApps:0,moneyRequests:0,moneyTransfers:0,msgCountBySender:new Map,narratives:0,outgoing:0,photos:0,photosGeo:0,podcasts:0,polls:0,postReplies:0,posts:0,replies:0,shares:0,stickers:new Map,ugcStickers:new Map,ugcPackId:0,stickersCount:0,ugcStickersCount:0,stories:0,unknownAttachments:0,video:0,videoDuration:0,videoMessagesDuration:0,videoMessages:0,voicePlaylists:0,voices:0,voicesDuration:0,widgets:0,words:new Map,wordsCount:0}})(e,u),a=s.lastMessageId;for await(const n of(0,w.A)(e,u,t)){const e=n?.messages||[];if(e.length>0&&E(s,e,a),t.aborted)return;if((e[e.length-1]?.conversation_message_id||0)<a)break}s.collectedTimestamp=(0,l.A)(),await m.default.setData(e,u,s)},v={inWork:!1,peerId:void 0,groupId:void 0,aborted:!1};let C,k=new AbortController;const y=async e=>{const u={alreadyInWork:!1,peerId:e.peerId,groupId:e.groupId},t=await c.A;if(v.inWork&&e.forceChangePeer)k.abort(),k=new AbortController,v.aborted=!0,await(0,d.A)({text:t.use("vkcom_chat_stats_notification_started_title"),subtitle:o(e.peerId,e.groupId,e.notificationPeerData,t),before:e.notificationPeerData.imageUrl?(0,s.jsx)(a.A,{src:e.notificationPeerData.imageUrl}):null,duration:5e3}),await C;else if(v.inWork)return u.alreadyInWork=!0,u.peerId=v.peerId,u.groupId=v.groupId,u;return C=h(e.peerId,e.groupId,k.signal).finally(async()=>{v.inWork=!1,v.peerId=void 0,v.aborted||await(0,d.A)({text:t.use("vkcom_chat_stats_notification_ended_title"),subtitle:r(e.peerId,e.groupId,e.notificationPeerData,t),duration:1e4}),v.aborted=!1}),v.inWork=!0,v.peerId=e.peerId,v.groupId=e.groupId,u};var B=t(89307);const D=async e=>{const{default:u}=await t.e(3158).then(t.bind(t,63158));return(0,B.A)((0,s.jsx)(u,{value:e}))},x=async(e,u,t)=>{const n=await c.A,F=m.default.getData(e,u),r=window.vkApi.api("messages.getHistory",{peer_id:e,group_id:u,offset:0,count:1}),[l,g]=await Promise.all([F,r]);let p=!1;if(l){const t=(g?.items?.at(0)?.conversation_message_id||0)>l.lastMessageId;if(await D({peerId:e,groupId:u,stats:l,showCleanCache:!t,peerInfo:null}),!t)return;p=!0}const _=window.location?.host||"vk.ru",A=await(0,i.A)(e,u),f={peerId:e,groupId:u,currentUserId:t,vkBaseUrl:_,notificationPeerData:A,forceChangePeer:!1},E=await y(f);if(E.alreadyInWork)if(E.peerId===e&&E.groupId===u){if(p)return;await(0,d.A)({text:n.use("vkcom_chat_stats_notification_error_title"),subtitle:n.use("vkcom_chat_stats_notification_already_working_on_current_peer"),duration:5e3})}else f.forceChangePeer=!0,await(0,d.A)({text:n.use("vkcom_chat_stats_notification_user_already_started_message"),duration:8e3,action:n.use("global_cancel_it"),onActionClick:async()=>{await y(f)}});else await(0,d.A)({text:n.use("vkcom_chat_stats_notification_started_title"),subtitle:p?n.use("vkcom_chat_stats_notification_inc_started_message"):o(e,u,A,n),before:A.imageUrl?(0,s.jsx)(a.A,{size:32,src:A.imageUrl}):null,duration:5e3})}},42726:(e,u,t)=>{t.d(u,{A:()=>s});const s={vknPrime:"wVPd1IKtpeO7vk1C",Badges__beta:"LMxcCA_idXNXSCYp",Badges__tooltip:"EuJa8E27M9huUXd_",Badges__wrapper:"DbK_o5735xkdeEFI"}},46895:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>l});var a=t(74848),n=t(16354),F=t(90275),o=t(33911),i=t(87675),r=t(79705),c=t(77725),d=e([o,i]);[o,i]=d.then?(await d)():d;const l=()=>{const e=(0,i.A)(),[u]=(0,r.A)("hookBombs");return u?(0,a.jsx)(F.vH,{leftIcon:(0,a.jsx)(n.s,{}),onClick:c.A,rightIcon:(0,a.jsx)(o.A.Prime,{}),children:e.use("vkcom_action_item_expired_msg")}):null};s()}catch(e){s(e)}})},49423:(e,u,t)=>{t.d(u,{A:()=>c});var s=t(22707),a=t(37400),n=t(96540),F=t(74225),o=t.n(F),i=t(695);const r=()=>{const e=window.colorScheme?.currentMode;return"auto"===e?window.colorScheme.currentIsDark?"dark":"light":e},c=()=>{const[e,u]=(0,n.useState)(r()),[t,F]=(0,n.useState)(!!window.colorScheme?.subscribe);return o()(async e=>{await(0,i.U)(),e()&&F(!0)},[]),(0,n.useEffect)(()=>{if(window.colorScheme?.subscribe)return window.colorScheme.subscribe(async()=>{await(0,a.G)(),await(0,s.t)(),u(r())});F(!1)},[t]),e}},52968:(e,u,t)=>{t.d(u,{A:()=>n});var s=t(7618),a=t(1003);const n=()=>{if(window.cur.gid&&s.z.isGroupId(window.cur.gid))return window.cur.gid;const e=(0,a.A)();return s.z.isGroupId(e)?e:0}},55517:(e,u,t)=>{t.d(u,{A:()=>i});var s=t(22440),a=t(96540),n=t(5679),F=t(44497);const o=(0,s.A)(),i=()=>{const[e,u]=(0,a.useState)(o.cur?.peer||(0,F.A)());return(0,a.useEffect)(()=>{if(o.vkmeIntegration)return(0,n.A)(e=>{"UserOpenedConvo"===e.type&&u(e.peerId),"UserClosedConvo"===e.type&&u(0)})},[]),(0,a.useEffect)(()=>{if(o.vkmeIntegration)return;return o.nav.onLocationChange(()=>{e!==o.cur.peer&&o.cur.peer&&u(o.cur.peer)})},[]),e}},60546:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>A});var a=t(74848),n=t(19548),F=t(29713),o=t(96540),i=t(90275),r=t(43027),c=t(67078),d=t(55517),l=t(87675),m=t(52968),g=t(37573),p=t(25620),_=e([l]);l=(_.then?(await _)():_)[0];const A=()=>{const e=(0,l.A)(),u=(0,d.A)(),[t,s]=(0,o.useState)((0,g.A)(u,(0,m.A)()));return(0,o.useEffect)(()=>{s((0,g.A)(u,(0,m.A)()))},[u]),(0,a.jsx)(i.vH,{leftIcon:t?(0,a.jsx)(F.Z,{}):(0,a.jsx)(n.Y,{width:20,height:20}),onClick:a=>{(0,r.A)(a),(0,c.A)({type:"done",text:(0,p.A)(u)?e.use("vkcom_toggle_write_on"):e.use("vkcom_toggle_write_off")}),s(!t)},children:t?e.use("vkcom_action_item_off_unwriters"):e.use("vkcom_action_item_on_unwriters")})};s()}catch(e){s(e)}})},61685:(e,u,t)=>{t.d(u,{J:()=>a,l:()=>s});const s="vknext_settings",a="vknext/settings"},65123:(e,u,t)=>{t.d(u,{A:()=>F});var s=t(52968),a=t(43024),n=t(11860);const F=e=>{"string"==typeof e&&(e=parseInt(e));const u=Math.abs((0,s.A)()),t=a.default.getValue("silentreadinclgim"),F=a.default.getValue("silentreadexclgim");let o=t[u]||[],i=F[u]||[],r=!1;return u||(o=a.default.getValue("silentreadincl"),i=a.default.getValue("silentreadexcl")),(0,n.A)(e,u)?(o.includes(e)&&o.splice(o.indexOf(e),1),i.includes(e)||i.push(e),r=!1):(i.includes(e)&&i.splice(i.indexOf(e),1),o.includes(e)||o.push(e),r=!0),u?(t[u]=o,F[u]=i,a.default.setValue("silentreadinclgim",t),a.default.setValue("silentreadexclgim",F)):(a.default.setValue("silentreadincl",o),a.default.setValue("silentreadexcl",i)),r}},67078:(e,u,t)=>{t.d(u,{A:()=>o});var s=t(74848),a=t(3068),n=t(75511);const F=document.createElement("div");F.className=n.A.Snackbars;const o=async e=>{const u=(await Promise.all([t.e(961),t.e(7397),t.e(1649),t.e(8414),t.e(5812)]).then(t.bind(t,25812))).default;document.body.contains(F)||document.body.appendChild(F);const n=document.createElement("div");F.appendChild(n);const{unmount:o}=await(0,a.A)({root:n,content:(0,s.jsx)(u,{onClose:()=>{o(),n.remove(),0===F.children.length&&F.remove()},...e}),disableParentTransformForPositionFixedElements:!0,noStyling:!0})}},73809:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>r});var a=t(74848),n=t(39107),F=t(87675),o=t(42726),i=e([F]);F=(i.then?(await i)():i)[0];const r=({isSection:e,className:u,...t}={})=>{const s=(0,F.A)();return(0,a.jsx)(n.m_M,{className:o.A.Badges__tooltip,description:e?s.use("global_badges_beta_section_warning"):s.use("global_badges_beta_function_warning"),appearance:"accent",usePortal:!0,...t,children:(0,a.jsx)("span",{className:(0,n.xWm)(o.A.Badges__beta,u),children:"β"})})};s()}catch(e){s(e)}})},74051:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>A});var a=t(74848),n=t(34250),F=t(10017),o=t(96540),i=t(90275),r=t(43027),c=t(67078),d=t(55517),l=t(87675),m=t(52968),g=t(11860),p=t(65123),_=e([l]);l=(_.then?(await _)():_)[0];const A=()=>{const e=(0,l.A)(),u=(0,d.A)(),[t,s]=(0,o.useState)((0,g.A)(u,(0,m.A)()));return(0,o.useEffect)(()=>{s((0,g.A)(u,(0,m.A)()))},[u]),(0,a.jsx)(i.vH,{leftIcon:t?(0,a.jsx)(F.n,{}):(0,a.jsx)(n.G,{}),onClick:a=>{(0,r.A)(a),(0,c.A)({type:"done",text:(0,p.A)(u)?e.use("vkcom_toggle_read_on"):e.use("vkcom_toggle_read_off")}),s(!t)},children:t?e.use("vkcom_action_item_off_unreads"):e.use("vkcom_action_item_on_unreads")})};s()}catch(e){s(e)}})},75511:(e,u,t)=>{t.d(u,{A:()=>s});const s={Snackbars:"fuEF5ymRhcBAxInE",BaseSnackbar:"Fu47p889xWCKEooV"}},77725:(e,u,t)=>{t.d(u,{A:()=>F});var s=t(32488),a=t(89307),n=t(30456);const F=async()=>{if(!await(0,s.default)())return(0,n.A)();const{default:e}=await Promise.all([t.e(9418),t.e(2295),t.e(8238),t.e(7887),t.e(8510),t.e(3506),t.e(9988),t.e(277)]).then(t.bind(t,78278));return(0,a.A)(e)}},79705:(e,u,t)=>{t.d(u,{A:()=>n});var s=t(96540),a=t(43024);const n=function(e){const[u,t]=(0,s.useState)(a.default.getValue(e));return(0,s.useEffect)(()=>{const u=a.default.addChangeKeyListener(e,(e,u)=>t(u));return()=>u.remove()},[e]),[u,u=>{a.default.setValue(e,u)}]}},81192:(e,u,t)=>{t.d(u,{default:()=>o});var s=t(92046),a=t(22707),n=t(91570),F=t(61685);const o=async e=>{(await(0,n.R)()).go(F.l),e&&(await(0,a.t)(),await(0,s.c)(100),window.location.hash=e)}},87675:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>n});var a=t(93819);const e=await a.A,n=()=>e;s()}catch(e){s(e)}},1)},88957:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>l});var a=t(74848),n=t(93724),F=t(90275),o=t(67078),i=t(55517),r=t(87675),c=t(52968),d=e([r]);r=(d.then?(await d)():d)[0];const l=()=>{const e=(0,i.A)(),u=(0,r.A)();return(0,a.jsx)(F.vH,{leftIcon:(0,a.jsx)(n.j,{}),onClick:async()=>{try{await window.vkApi.api("messages.markAsRead",{peer_id:e,group_id:(0,c.A)()})}catch(e){console.error(e)}(0,o.A)({type:"done",text:u.use("global_done")})},children:u.use("vkcom_read")})};s()}catch(e){s(e)}})},89205:(e,u,t)=>{t.d(u,{A:()=>a});var s=t(89307);const a=async()=>{const{default:e}=await t.e(1062).then(t.bind(t,71062));return(0,s.A)(e)}},89307:(e,u,t)=>{t.d(u,{A:()=>d});var s=t(74848),a=t(17100),n=t(3068);const F="d32BOj2kmVxWOEmy";let o=null,i=!1;const r=()=>{i||(i=!0,o=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden")},c="--vknext--z_index_modal",d=async(e,{zIndex:u}={})=>{const t=document.createElement("div"),d=document.createElement("div");u&&(t.className=F,d.className=F,d.style.setProperty(c,u.toString()),t.style.setProperty(c,u.toString())),document.body.appendChild(t),document.body.appendChild(d);const{unmount:l}=await(0,n.A)({root:t,portal:d,content:(0,s.jsx)(a.Ay,{onOpen:r,onClosed:()=>{setTimeout(()=>{i&&(i=!1,null!==o&&(document.body.style.overflow=o,o=null))},100),setTimeout(()=>{l(),t.remove(),d.remove()},1e3)},children:"function"==typeof e?(0,s.jsx)(e,{}):e}),disableParentTransformForPositionFixedElements:!0,disableAnchorTextDecoration:!0})}},89571:(e,u,t)=>{t.a(e,async(e,s)=>{try{t.d(u,{A:()=>c});var a=t(74848),n=t(27182),F=t(39107),o=t(87675),i=t(42726),r=e([o]);o=(r.then?(await r)():r)[0];const c=({isSection:e,className:u,...t})=>{const s=(0,o.A)();return(0,a.jsx)(F.m_M,{className:i.A.Badges__tooltip,description:e?s.use("global_badges_deluxe_section_warning"):s.use("global_badges_deluxe_function_warning"),appearance:"accent",usePortal:!0,...t,children:(0,a.jsx)("span",{className:(0,F.xWm)(i.A.vknPrime,u),children:(0,a.jsx)(n.W,{height:16,width:16})})})};s()}catch(e){s(e)}})}}]);