"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[7041],{10265:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(91953);let s=null;const o=async()=>{try{if(s)return await s;const e=await(0,a._)();s=e.promisifiedPost("al_settings.php",{act:"menu_box",type:2}).then(e=>e?.[0])}catch(e){console.error(e)}return await s}},13050:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(10265);const s=new Map,o=async()=>{const e=await(0,a.A)();if(!e)return console.error("menuBox not found"),s;for(const t of e.tabs[2].items)t.photo&&(s.has(t.id)||s.set(t.id,t.photo));return s}},17041:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t);var s=n(57580),o=n(81506),r=n(43024),l=n(23806),i=n(92243),c=n(13050),d=n(55406),u=e([s]);s=(u.then?(await u)():u)[0];const f=async e=>{const t=await(0,o.A)(),n=Array.from(t.querySelectorAll('li[id^="l_app"]'));if(!n.length)return;const a=await(0,c.A)();for(const t of n)if(e){const e=parseInt(t.id.split("l_app")[1]),n=a.get(e);if(!n)continue;(0,l.A)(!0,{id:t.id,src:n,type:"app"})}else(0,l.A)(!1,{id:t.id})},p=async e=>{const t=await(0,o.A)(),n=Array.from(t.querySelectorAll('li[id^="l_mgid"]'));if(n.length<1)return;const a=await(0,d.A)();for(const t of n)if(e){const e=parseInt(t.id.split("l_mgid")[1]),n=a.get(e);if(!n)continue;(0,l.A)(!0,{id:t.id,src:n,type:"group"})}else(0,l.A)(!1,{id:t.id})},m=async e=>{await(0,o.A)(),await Promise.all([f(e),p(e)])},y=async()=>{m(!0),r.default.addChangeKeyListener("changeIconsAppsAndGroups",(e,t)=>{m(t)}),(0,i.A)(()=>m(r.default.getValue("changeIconsAppsAndGroups")))};0,r.default.onInited(y),a()}catch(e){a(e)}})},23806:(e,t,n)=>{n.d(t,{A:()=>a});const a=(e,{src:t,type:n,label:a,id:s})=>{const o=document.getElementById(s);if(!o)return;const r=o.querySelector('.LeftMenu__icon,[class*="LeftMenuItem__icon--"]'),l=o.querySelector('.LeftMenu__itemLabel,[class*="LeftMenuItem__label--"]');if(e){if(r&&t){const[e]=r.getElementsByTagName("svg");e&&(e.style.display="none");let[a]=r.getElementsByTagName("img");if(a){if(a.dataset.id===o.id)return;a.remove()}a=r.appendChild(document.createElement("img")),a.classList.add("vknextInternalCasper__img"),a.width=a.height=20,a.style.borderRadius="app"===n?"5px":"50%",a.dataset.id=o.id,a.src=t}l&&a&&(l.dataset.label||(l.dataset.label=l.innerText),l.innerText=a)}else{if(r){const[e]=r.getElementsByTagName("img");e&&e.remove();const[t]=r.getElementsByTagName("svg");t&&(t.style.display="")}l&&(l.dataset.label&&(l.innerText=l.dataset.label),delete l.dataset.label)}}},55406:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(10265);const s=new Map,o=async()=>{const e=await(0,a.A)();if(!e)return console.error("menuBox not found"),s;for(const t of e.tabs[1].items)t.photo&&(s.has(t.id)||s.set(t.id,t.photo));return s}},81506:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(36585),s=n(22707);const o=()=>{const e=document.querySelector('.side_bar_ol,[class*="LeftMenuOld__container--"]');return e?e.querySelector('[class*="Skeleton__skeleton"],[class*="SkeletonComponent__skeleton"]')?null:e:null},r=async()=>{await(0,a.v)(),await(0,s.t)();const e=o();return e||new Promise(e=>{const t=setInterval(()=>{if(!document.querySelector(".left_menu_nav_wrap,#ads_left,#left_blocks,#ads_leftmenu"))return;const n=o();n&&(clearInterval(t),e(n))},1e3)})}},92243:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(51018),s=n(5305);const o=new a.e;let r=!1;const l=async()=>{r||(r=!0,(0,s.A)(e=>{const[,t,n]=e;if(["a_toggle_admin_fast","a_change_services"].includes(t.act)){const{onDone:e}=n;n.onDone=function(...t){Reflect.apply(e,this,t);for(const e of o.listeners)e()}}return e}))},i=e=>{const t=o.addListener(e);return l(),t}}}]);