"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[6193],{7139:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>u});var n=s(74848),r=s(31958),o=s(62135),c=s(68566),i=s(86598),l=e([r,o,c]);[r,o,c]=l.then?(await l)():l;const d=({children:e})=>(0,n.jsx)("div",{className:i.A.Badges__wrapper,children:e});d.Beta=r.A,d.Prime=o.A,d.PrimeDeluxe=c.A;const u=d;a()}catch(e){a(e)}})},9535:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>f});var n=s(74848),r=s(22549),o=s(57087),c=s(90275),i=s(33258),l=s(99381),d=s(6962),u=s(11617),_=s(39107),p=s(96540),h=s(57610),g=s(78230),m=s(8015),v=e([r,m]);[r,m]=v.then?(await v)():v;const x="vknext_cleaner_groups",A=({children:e})=>{const t=(0,m.A)(),{hints8:s,updateValue:a}=(0,r.A)("hints8");return(0,n.jsx)(_.PyT,{description:t.use("settings_menu_cleaner_onboarding_user_manager"),shown:!s.includes(x),onClose:()=>{a(Array.from(new Set([...s,x])))},offsetByCrossAxis:-20,placement:"bottom-end",children:e})},f=()=>{const[e,t]=(0,p.useState)(!1),[s,a]=(0,p.useState)(new Map),{viewer:r}=(0,o.ur)(),m=(0,h.F9)(),{setGroupId:v}=(0,h.Re)(),x=(0,h.Cf)();(0,p.useEffect)(()=>{const e=new Map;r&&e.set(0,{groupId:0,title:`${r.first_name} ${r.last_name}`,photo:r.photo_200,isNFT:r.is_nft});for(const t of x)e.set(t.id,{groupId:t.id,title:t.name,photo:t.photo_200});a(e)},[r,x]);const f=Array.from(s.values()),b=(0,p.useMemo)(()=>s.has(m)?s.get(m):0===m?{groupId:0,title:`${r?.first_name} ${r?.last_name}`,photo:r?.photo_200,isNFT:r?.is_nft}:null,[m,s,r]),w=(0,n.jsxs)(_.qAe,{onClick:l.A,hasActive:!1,hovered:!!e||void 0,className:g.A.UserManagerButton,children:[(0,n.jsx)(i.A,{size:28,src:b?.photo,isNFT:b?.isNFT,wrapperClassName:g.A.UserManagerButton__avatar,imgCustomProps:{loading:"lazy"}}),(0,n.jsx)(d.k,{className:(0,_.xWm)(g.A.UserManagerButton__chevron,e&&g.A["UserManagerButton__chevron--rotated"])})]});return(0,n.jsx)(c.Ku,{placement:"bottom-end",useScrollView:!0,actionsMenuClassName:g.A.UserManagerPopover__scroll,actions:(0,n.jsx)(n.Fragment,{children:f.map(e=>(0,n.jsx)(c.vH,{leftIcon:(0,n.jsx)(i.A,{size:20,src:e.photo,isNFT:e.isNFT}),rightIcon:(0,n.jsx)(u.$,{visibility:m===e.groupId?"visible":"hidden"}),onClick:()=>v(e.groupId),children:e.title},e.groupId))}),onShownChange:t,children:(0,n.jsx)("div",{children:(0,n.jsx)(A,{children:w})})})};a()}catch(e){a(e)}})},23050:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(74848),n=s(39107);const r=({value:e=0,max:t=100,label:s})=>(0,a.jsx)(n.eIh,{top:(0,a.jsxs)(n.eIh.Top,{children:[(0,a.jsxs)(n.eIh.TopLabel,{children:[s,"...."]}),0!==t&&(0,a.jsxs)(n.eIh.TopAside,{children:[e,"/",t]})]}),children:(0,a.jsx)(n.kej,{value:0===e?0:Math.round(e/t*100)})})},31958:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>l});var n=s(74848),r=s(8015),o=s(39107),c=s(86598),i=e([r]);r=(i.then?(await i)():i)[0];const l=({isSection:e,className:t,...s})=>{const a=(0,r.A)();return(0,n.jsx)(o.m_M,{className:c.A.Badges__tooltip,description:e?a.use("global_badges_beta_section_warning"):a.use("global_badges_beta_function_warning"),appearance:"black",usePortal:document.body,...s,children:(0,n.jsx)("span",{className:(0,o.xWm)(c.A.Badges__beta,t),children:"β"})})};a()}catch(e){a(e)}})},49747:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>l});var n=s(74848),r=s(8015),o=s(51061),c=s(39107),i=e([r]);r=(i.then?(await i)():i)[0];const l=()=>{const e=(0,r.A)();return(0,n.jsx)(c.YJl,{children:(0,n.jsx)(c.OrA,{icon:(0,n.jsx)(o.T,{color:"var(--vkui--color_accent_green)"}),title:e.use("global_done2")})})};a()}catch(e){a(e)}})},57610:(e,t,s)=>{s.d(t,{Re:()=>d,F9:()=>l,Cf:()=>u});var a=s(74225),n=s.n(a),r=s(59914),o=s(52370);const c=async function*(e){const t=await o.vkapiWrapper.groups.get({offset:0,count:0,extended:1,filter:e}),s=t?.count??0;if(yield{count:s,offset:0,items:[]},0===s)return;let a=0;for(;a<s;){const{items:t}=await o.vkapiWrapper.groups.get({offset:a,count:1e3,extended:1,filter:e});if(0===t.length)break;yield{count:s,offset:a,items:t||[]},a+=1e3}};const i=(0,s(81621).vt)(e=>({groupId:0,setGroupId:t=>e({groupId:t}),myGroups:new Set,setMyGroups:t=>e({myGroups:t})})),l=()=>i(e=>e.groupId),d=()=>i((0,r.k)(e=>({setGroupId:e.setGroupId}))),u=()=>{const e=i(e=>e.myGroups),t=i(e=>e.setMyGroups);return n()(async s=>{if(e.size>0)return;const a=new Set;for await(const{count:e,items:t}of c(["moder"])){if(!s())return;if(0===e)break;for(const e of t)a.add(e)}s()&&t(a)},[e]),e}},58207:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>i});var n=s(74848),r=s(39107),o=s(9535),c=e([o]);o=(c.then?(await c)():c)[0];const i=({after:e,...t})=>(0,n.jsx)(r.aOn,{...t,after:(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)(o.A,{})]})});a()}catch(e){a(e)}})},62135:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>d});var n=s(74848),r=s(8015),o=s(69075),c=s(39107),i=s(86598),l=e([r]);r=(l.then?(await l)():l)[0];const d=({isSection:e,className:t,...s})=>{const a=(0,r.A)();return(0,n.jsx)(c.m_M,{className:i.A.Badges__tooltip,description:e?a.use("global_badges_prime_section_warning"):a.use("global_badges_prime_function_warning"),appearance:"black",usePortal:document.body,...s,children:(0,n.jsx)("span",{className:(0,c.xWm)(i.A.vknPrime,t),children:(0,n.jsx)(o.B,{height:16,width:16})})})};a()}catch(e){a(e)}})},68566:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{A:()=>d});var n=s(74848),r=s(8015),o=s(27182),c=s(39107),i=s(86598),l=e([r]);r=(l.then?(await l)():l)[0];const d=({isSection:e,className:t,...s})=>{const a=(0,r.A)();return(0,n.jsx)(c.m_M,{className:i.A.Badges__tooltip,description:e?a.use("global_badges_deluxe_section_warning"):a.use("global_badges_deluxe_function_warning"),appearance:"black",usePortal:document.body,...s,children:(0,n.jsx)("span",{className:(0,c.xWm)(i.A.vknPrime,t),children:(0,n.jsx)(o.W,{height:16,width:16})})})};a()}catch(e){a(e)}})},78230:(e,t,s)=>{s.d(t,{A:()=>a});const a={UserManagerButton:"ogFOzGoL7cdUYpnv",UserManagerButton__avatar:"SkrgVk_lLfBWPUj9",UserManagerButton__chevron:"iPuWS1BkgbrX6Fln","UserManagerButton__chevron--rotated":"EssjnVlsetnzNtGQ",UserManagerPopoverItem__avatar:"JBQwdYo1lnviskP_",UserManagerPopover__scroll:"XDWErLYzOe41Z7vM"}},85252:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(48139);const n=()=>{const e=(0,a.A)();if(!e)throw new Error("");return[e[0],e[2],e[4],e[6]]}},86598:(e,t,s)=>{s.d(t,{A:()=>a});const a={vknPrime:"JVvmIPoC7I10XheA",Badges__beta:"ZPQT4b9d5yikcHQ_",Badges__tooltip:"llvJGi7mMeD_9Eod",Badges__wrapper:"gGl8DJ2tHp5UMWYV"}}}]);