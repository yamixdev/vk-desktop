"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[9319],{7618:(_,e,A)=>{A.d(e,{z:()=>N});const O=Object.freeze({MIN_CHAT_ID:2e9,MAX_CHAT_ID:21e8,UNAUTH_LONG_ID_SUBRANGE_WITH_DEVICE_ID_SIZE:5e16,UNAUTH_LONG_ID_SUBRANGE_WITHOUT_DEVICE_ID_SIZE:2**56-1,UNAUTH_LONG_ID_MIN:9e18,UNAUTH_LONG_ID_MAX:0x7e980f0d11490000,MARUSYA_UPLOAD_OWNER_MIN:593139650,MARUSYA_UPLOAD_OWNER_MAX:593139654,UNAUTH_LONG_ID_MIN_OLD:10000000001,UNAUTH_LONG_ID_MAX_OLD:11e10,FAKE_DOC_OWNER_MIN:2e9,FAKE_DOC_OWNER_MAX:2000063999,ADS_VIDEO_OWNER_MIN:16e6,ADS_VIDEO_OWNER_MAX:16000599,ADS_PHOTO_OWNER_MIN:1698e4,ADS_PHOTO_OWNER_MAX:16999999,AUDIO_FAKE_UMA_RELEASE_OWNER_MIN:-2002e6,AUDIO_FAKE_UMA_RELEASE_OWNER_MAX:-2001e6,AUDIO_FAKE_UMA_ALBUM_OWNER_MIN:-2000999999,AUDIO_FAKE_UMA_ALBUM_OWNER_MAX:-2e9,AUDIO_FAKE_UMA_OWNERS_COUNT:1e6,AUDIO_FAKE_WALL_OWNER_MIN:2e9,AUDIO_FAKE_WALL_OWNER_MAX:2000512e3,USERS_LOWER_BOUND:1,USERS_UPPER_BOUND:19e8,USERS_LOWER_BOUND_LONG:2e11,USERS_UPPER_BOUND_LONG:1e12,EMAIL_UPPER_BOUND:-2e9,CONTACTS_LOWER_BOUND:1900000001,CONTACTS_UPPER_BOUND:2e9,CALLS_PEER_LOWER_BOUND:-1899999999,CALLS_PEER_UPPER_BOUND:-189e7,ANONYMOUS_USER_PEER_ID_LOWER_BOUND:10000000001,ANONYMOUS_USER_PEER_ID_UPPER_BOUND:11e10,CHAT_OR_CHANNEL_LOWER_BOUND:2000000001,CHAT_OR_CHANNEL_UPPER_BOUND:21e8,GROUPS_LOWER_BOUND:-1e9,GROUPS_UPPER_BOUND:-1,APP_LOWER_BOUND:-1999999999,APP_UPPER_BOUND:-1e9,ALIEXPRESS_USER_ID_RANGE_START:2e9,ALIEXPRESS_USER_ID_RANGE_LENGTH:150,AD_BOT_ID_RANGE_START:2e9,AD_BOT_ID_RANGE_END:2000064e3,MARUSIA_AUDIO_FAKE_ID_MIN:2000512001,MARUSIA_AUDIO_FAKE_ID_MAX:2000512051,AUTOTEST_GROUP_ID_MIN:216720807,AUTOTEST_GROUP_ID_MAX:216820807,EXTERNAL_USER_ID_OFFSET:-19e8,APP_DOMAIN_ID_OFFSET:-1e9}),E=(_,e,A)=>e<_&&_<A,U=(_,e,A)=>e<=_&&_<=A,R=(_,e)=>_+Math.floor(Math.random()*(e-_)),N=Object.freeze({getAutotestGroupIdRand:()=>R(O.AUTOTEST_GROUP_ID_MIN,O.AUTOTEST_GROUP_ID_MAX),isAutotestGroup:_=>U(_,O.AUTOTEST_GROUP_ID_MIN,O.AUTOTEST_GROUP_ID_MAX),isGroupId:_=>_<=O.GROUPS_UPPER_BOUND&&_>O.GROUPS_LOWER_BOUND,isUserId:_=>_>=O.USERS_LOWER_BOUND&&_<O.USERS_UPPER_BOUND||_>=O.USERS_LOWER_BOUND_LONG&&_<O.USERS_UPPER_BOUND_LONG,isUserIdTransitional:_=>E(_,0,O.CONTACTS_UPPER_BOUND),isRealOwner:_=>N.isGroupId(_)||N.isUserId(_),isAudioOwner:_=>N.isRealOwner(_)||N.isUMA(_)||N.isFakeWallAudioOwner(_),isPlaylistOwner:_=>N.isRealOwner(_)||N.isUMA(_)||N.isChatOrChannelPeer(_),isOfficialPlaylist:_=>N.isUMAReleaseOwner(_)||N.isUMAAlbumOwner(_),isFakeWallAudioOwner:_=>U(_,O.AUDIO_FAKE_WALL_OWNER_MIN,O.AUDIO_FAKE_WALL_OWNER_MAX),isUMA:_=>N.isUMAReleaseOwner(_)||N.isUMAAlbumOwner(_),isUMAAlbumOwner:_=>U(_,O.AUDIO_FAKE_UMA_ALBUM_OWNER_MIN,O.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX),getUMAAlbumOwnerByShift:_=>O.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX-Math.abs(_%O.AUDIO_FAKE_UMA_OWNERS_COUNT),isUMAReleaseOwner:_=>U(_,O.AUDIO_FAKE_UMA_RELEASE_OWNER_MIN,O.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX),getUMAReleaseOwnerByShift:_=>O.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX-Math.abs(_%O.AUDIO_FAKE_UMA_OWNERS_COUNT),isEmailId:_=>_<O.EMAIL_UPPER_BOUND,isOwnerId:_=>_>=O.USERS_LOWER_BOUND?N.isUserId(_):N.isGroupId(_),isContactId:_=>E(_,O.CONTACTS_LOWER_BOUND,O.CONTACTS_UPPER_BOUND),convertContactIdToPeerId:_=>_+O.USERS_UPPER_BOUND,convertPeerIdToContactId:_=>_-O.USERS_UPPER_BOUND,isChatOrChannelPeer:_=>U(_,O.CHAT_OR_CHANNEL_LOWER_BOUND,O.CHAT_OR_CHANNEL_UPPER_BOUND),isChatId:_=>_>O.MIN_CHAT_ID&&_<=O.MAX_CHAT_ID,convertChatPeerIdToChatId:_=>_-O.CONTACTS_UPPER_BOUND,convertChatIdToChatPeerId:_=>_+O.CONTACTS_UPPER_BOUND,isAppDomain:_=>E(_,O.APP_LOWER_BOUND,O.APP_UPPER_BOUND),convertPeerIdToAppId:_=>-_+O.APP_UPPER_BOUND,convertAppIdToPeerId:_=>O.APP_UPPER_BOUND-_,isUnauthLongId:_=>U(_,O.UNAUTH_LONG_ID_MIN,O.UNAUTH_LONG_ID_MAX),isUnauthLongIdOld:_=>U(_,O.UNAUTH_LONG_ID_MIN_OLD,O.UNAUTH_LONG_ID_MAX_OLD),isMarusyaUploadOwner:_=>U(_,O.MARUSYA_UPLOAD_OWNER_MIN,O.MARUSYA_UPLOAD_OWNER_MAX),getRandomMarusyaUploadOwnerId:()=>R(O.MARUSYA_UPLOAD_OWNER_MIN,O.MARUSYA_UPLOAD_OWNER_MAX),isFakeDocOwner:_=>U(_,O.FAKE_DOC_OWNER_MIN,O.FAKE_DOC_OWNER_MAX),getFirstFakeOwnerId:()=>O.FAKE_DOC_OWNER_MIN,getRandomFirstFakeOwnerId:()=>R(O.FAKE_DOC_OWNER_MIN,O.FAKE_DOC_OWNER_MIN+64e3),getRandomFakeOwnerId:()=>O.FAKE_DOC_OWNER_MIN+(Math.floor(Date.now()/1e3)/173+R(0,999))%64e3,isAdsVideoOwner:_=>U(_,O.ADS_VIDEO_OWNER_MIN,O.ADS_VIDEO_OWNER_MAX),getRandomAdsVideoOwner:()=>R(O.ADS_VIDEO_OWNER_MIN,O.ADS_VIDEO_OWNER_MAX),isAdsPhotoOwner:_=>U(_,O.ADS_PHOTO_OWNER_MIN,O.ADS_PHOTO_OWNER_MAX),getRandomAdsPhotoOwner:()=>R(O.ADS_PHOTO_OWNER_MIN,O.ADS_PHOTO_OWNER_MAX),isZeroOwner:_=>0===_,convertEmailIdToEmailPeerId:_=>N.isEmailId(_)?-_+O.EMAIL_UPPER_BOUND:0,isZeroOwnerDeprecated:_=>!!_||N.isZeroOwner(_),isExternalUser:_=>E(_,O.EMAIL_UPPER_BOUND,O.EXTERNAL_USER_ID_OFFSET),isExternalUserDeprecated:_=>E(_,O.EMAIL_UPPER_BOUND,O.APP_DOMAIN_ID_OFFSET),isAnonymousCallPeerId:_=>E(_,O.CALLS_PEER_LOWER_BOUND,O.CALLS_PEER_UPPER_BOUND),isAnonymousUserPeerId:_=>E(_,O.ANONYMOUS_USER_PEER_ID_LOWER_BOUND,O.ANONYMOUS_USER_PEER_ID_UPPER_BOUND),getAnonymousCallUserByShift(_){const e=O.CALLS_PEER_UPPER_BOUND-O.CALLS_PEER_LOWER_BOUND,A=(_%e+e)%e;return O.CALLS_PEER_UPPER_BOUND-1-A},isValidAliExpressOrderUserId:_=>_>=O.ALIEXPRESS_USER_ID_RANGE_START&&_<=O.ALIEXPRESS_USER_ID_RANGE_START+O.ALIEXPRESS_USER_ID_RANGE_LENGTH,generateAliexpressOrderUserId:()=>R(O.ALIEXPRESS_USER_ID_RANGE_START,O.ALIEXPRESS_USER_ID_RANGE_START+O.ALIEXPRESS_USER_ID_RANGE_LENGTH),isADBot:_=>U(_,O.AD_BOT_ID_RANGE_START,O.AD_BOT_ID_RANGE_END),getMarusiaAudioFakeId(_){const e=O.MARUSIA_AUDIO_FAKE_ID_MAX-O.MARUSIA_AUDIO_FAKE_ID_MIN;return O.MARUSIA_AUDIO_FAKE_ID_MIN+_%e},isMarusiaAudioFakeId:_=>E(_,O.MARUSIA_AUDIO_FAKE_ID_MIN,O.MARUSIA_AUDIO_FAKE_ID_MAX),isOwnerIdTransitional:_=>_>O.USERS_LOWER_BOUND?N.isUserIdTransitional(_):N.isGroupId(_),convertGroupIdToOwnerId:_=>-_,convertGroupIdToOwnerIdStrict:_=>-Math.abs(_),convertOwnerIdToGroupId:_=>Math.abs(_)})},7708:(_,e,A)=>{A.d(e,{A:()=>t});var O=A(74848),E=A(11157),U=A(39107),R=A(13742),N=A(68741),I=A(91691);const s="zRIhm_rzeRaOj2Bs",D="m8aAYX3glAEj5Q3G",t=({beforeClassname:_,backPage:e,hideButtonIsFirstPage:A,hideBackButtonInTablet:t,children:a,...r})=>{const n=(0,E.XC)(),i=(0,E.Gz)(),{width:P}=(0,R.A)();let S=A&&n&&(0,I.A)();return t&&(P||800)>768&&(S=!0),(0,O.jsx)(U.aOn,{before:!S&&(0,O.jsx)(U.Hy0,{onClick:async()=>{n?e?await i.replace(e):await i.push(N.JZ.root.main.home):await i.back()},className:(0,U.xWm)(s,_),hideLabelOnIOS:!0}),...r,children:(0,O.jsx)("div",{className:D,children:a})})}},59319:(_,e,A)=>{A.a(_,async(_,O)=>{try{A.r(e),A.d(e,{default:()=>M});var E=A(74848),U=A(11157),R=A(39107),N=A(96540),I=A(74225),s=A.n(I),D=A(7708),t=A(8015),a=A(68741),r=A(57087),n=A(7618),i=A(92046),P=_([t]);t=(P.then?(await P)():P)[0];const S=(0,N.lazy)(()=>Promise.all([A.e(8597),A.e(681),A.e(2263)]).then(A.bind(A,70681))),M=()=>{const _=(0,t.A)(),{viewer:e}=(0,r.ur)(),O=(0,U.Gz)(),I=(0,N.useRef)(null),[P,M]=(0,N.useState)(0),o=(0,N.useRef)(null),[d,T]=(0,N.useState)(null);return(0,N.useLayoutEffect)(()=>{M(I.current?.offsetHeight??0)},[I]),s()(async _=>{if(!e?.id)return;const O=(await A.e(4639).then(A.bind(A,74639))).default,{friends:E}=await O.getData(e.id);_()&&T(E?.length?E.filter(n.z.isUserId):[])},[e?.id]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(D.A,{backPage:a.JZ.root.main_0_0_0.spyning,after:(0,E.jsx)(R.ae4,{onClick:async()=>{const _=o.current;if(!_||!e)return;O.showPopout((0,E.jsx)(R.WHT,{}));const U=(await A.e(4639).then(A.bind(A,74639))).default,N=await U.getData(e.id),I=[...N.friends],s=[...I],D=_.map(({id:_})=>_);for(const e of _){const _=e.id;n.z.isGroupId(_)||n.z.isChatId(_)||(s.includes(_)||I.push(_))}for(const _ of s)if(!n.z.isGroupId(_)&&!n.z.isChatId(_)&&!D.includes(_)){const e=I.indexOf(_);-1!==e&&I.splice(e,1)}await U.setData(e.id,{friends:I,events:N.events||{}}),O.showPopout((0,E.jsx)(R.WHT,{state:"done"})),await(0,i.c)(1e3),await O.replace(a.JZ.root.main_0_0_0.spyning),O.hidePopout()},label:_.use("global_save")}),children:_.use("settings_menu_spyfriends_title")}),(0,E.jsxs)(R.YJl,{children:[(0,E.jsx)("div",{ref:I,children:(0,E.jsx)(R.iau,{children:(0,E.jsx)(R.lZ$,{title:_.use("settings_select_friends_spy")})})}),null===d?(0,E.jsx)(R.qBl,{}):(0,E.jsx)(N.Suspense,{fallback:(0,E.jsx)(R.qBl,{}),children:(0,E.jsx)(S,{extraHeight:P,selectedUserIds:d??[],onSelect:_=>{o.current=_}})})]})]})};O()}catch(_){O(_)}})}}]);