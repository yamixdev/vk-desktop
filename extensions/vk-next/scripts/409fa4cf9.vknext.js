"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[5283],{23806:(e,t,a)=>{a.d(t,{A:()=>n});const n=(e,{src:t,type:a,label:n,id:l})=>{const s=document.getElementById(l);if(!s)return;const r=s.querySelector('.LeftMenu__icon,[class*="LeftMenuItem__icon--"]'),o=s.querySelector('.LeftMenu__itemLabel,[class*="LeftMenuItem__label--"]');if(e){if(r&&t){const[e]=r.getElementsByTagName("svg");e&&(e.style.display="none");let[n]=r.getElementsByTagName("img");if(n){if(n.dataset.id===s.id)return;n.remove()}n=r.appendChild(document.createElement("img")),n.classList.add("vknextInternalCasper__img"),n.width=n.height=20,n.style.borderRadius="app"===a?"5px":"50%",n.dataset.id=s.id,n.src=t}o&&n&&(o.dataset.label||(o.dataset.label=o.innerText),o.innerText=n)}else{if(r){const[e]=r.getElementsByTagName("img");e&&e.remove();const[t]=r.getElementsByTagName("svg");t&&(t.style.display="")}o&&(o.dataset.label&&(o.innerText=o.dataset.label),delete o.dataset.label)}}},81506:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(36585),l=a(22707);const s=()=>{const e=document.querySelector('.side_bar_ol,[class*="LeftMenuOld__container--"]');return e?e.querySelector('[class*="Skeleton__skeleton"],[class*="SkeletonComponent__skeleton"]')?null:e:null},r=async()=>{await(0,n.v)(),await(0,l.t)();const e=s();return e||new Promise(e=>{const t=setInterval(()=>{if(!document.querySelector(".left_menu_nav_wrap,#ads_left,#left_blocks,#ads_leftmenu"))return;const a=s();a&&(clearInterval(t),e(a))},1e3)})}},85283:(e,t,a)=>{a.r(t);var n=a(61054),l=a(81506),s=a(43024),r=a(92243),o=a(23806);const i=async e=>{if((await(0,l.A)()).querySelector("#l_pr"))if(e){const e=await(0,n.V)(),t=(await e.api("users.get",{fields:"photo_50"}))[0];(0,o.A)(!0,{id:"l_pr",src:t.photo_50,label:`${t.first_name} ${t.last_name}`})}else(0,o.A)(!1,{id:"l_pr"})};s.default.onInited(async()=>{await(0,l.A)(),s.default.getValue("flex_name")&&i(!0),(0,r.A)(()=>i(s.default.getValue("flex_name"))),s.default.addChangeKeyListener("flex_name",(e,t)=>{i(t)})})},92243:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(51018),l=a(5305);const s=new n.e;let r=!1;const o=async()=>{r||(r=!0,(0,l.A)(e=>{const[,t,a]=e;if(["a_toggle_admin_fast","a_change_services"].includes(t.act)){const{onDone:e}=a;a.onDone=function(...t){Reflect.apply(e,this,t);for(const e of s.listeners)e()}}return e}))},i=e=>{const t=s.addListener(e);return o(),t}}}]);