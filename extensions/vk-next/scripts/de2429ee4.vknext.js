"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[1348],{31348:(a,t,e)=>{e.a(a,async(a,o)=>{try{e.r(t);var n=e(57580),c=e(22707),r=e(37400),s=e(91570),h=e(43024),i=a([n]);n=(i.then?(await i)():i)[0];const w=["vk.com/away.php","vk.ru/away.php"],l=async a=>!!a.toLowerCase().includes("vknext.")||(await new Promise(h.default.onInited),h.default.getValue("away")),u=async()=>{await(0,c.t)();for(const a of document.querySelectorAll('a[href^="https://vk.com/away.php"], a[href^="https://vk.ru/away.php"], a[href^="/away.php"]')){const t=new URL(a.href).searchParams.get("to");t&&await l(t)&&(a.href=t)}};0,(async()=>{if(w.some(a=>window.location.href.includes(a))){const a=new URLSearchParams(window.location.search).get("to");if(a&&await l(a))return void(window.location.href=a)}const a=await(0,s.R)(),t=async()=>{await(0,c.t)(),await(0,r.G)(),u()};a.onLocationChange(t),a.subscribeOnModuleEvaluated(t)})().catch(console.error),o()}catch(a){o(a)}})}}]);