"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3996],{26659:(o,e,r)=>{r.d(e,{U:()=>t});const t={profile:"l_pr",news:"l_nwsf",mail:"l_msg",no_calls:"l_ca",friends:"l_fr",groups:"l_gr",photos:"l_ph",audio:"l_aud",video:"l_vid",no_clips:"l_svd",no_apps:"l_ap",no_stickers:"l_stickers",no_market:"l_mk",no_mini_apps:"l_mini_apps",no_vkpay:"l_vkp",faves:"l_fav",docs:"l_doc",no_ads_link:"l_ads",cashout:"l_cashout",no_apps_manage:"l_apm",no_faq:"l_faq"}},49032:(o,e,r)=>{r.d(e,{Fl:()=>a,XZ:()=>n,hj:()=>_,lz:()=>t,pz:()=>c});const t=/(^|\/)al_im\.php|(^|\/)im(\?|$)|(^|\/)gim\d+|\/write-?\d+/,_=/(^|\/)al_im\.php|(^|\/)im(\?|$)|\/write-?\d+|\/im\/.*/,n={"--accent":"--vkui--color_icon_accent","--background_content":"--vkui--color_background_content","--background_highlighted":"--vkui--color_transparent--active","--background_hover":"--vkui--color_transparent--hover","--background_light":"--vkui--color_background_tertiary","--background_page":"--vkui--color_background","--background_suggestions":"--vkui--color_background_modal","--button_commerce_background":"--vkui--color_text_positive","--button_secondary_background":"--vkui--color_background_secondary_alpha","--button_secondary_destructive_foreground":"--vkui--color_background_negative","--content_tint_background":"--vkui--color_background_secondary","--content_warning_background":"--vkui--color_background_warning","--counter_prominent_text":"--vkui--color_text_contrast","--destructive":"--vkui--color_text_negative","--dynamic_gray":"--vkui--color_accent_gray","--dynamic_green":"--vkui--color_accent_green","--dynamic_orange":"--vkui--color_accent_orange","--dynamic_purple":"--vkui--color_accent_purple","--dynamic_red":"--vkui--color_accent_red","--dynamic_violet":"--vkui--color_accent_violet","--dynamic_blue":"--vkui--color_accent_blue","--dynamic_raspberry_pink":"--vkui--color_accent_raspberry_pink","--field_background":"--vkui--color_field_background","--field_border":"--vkui--color_field_border_alpha","--field_error_background":"--vkui--color_background_negative_tint","--field_error_border":"--vkui--color_stroke_negative","--field_valid_border":"--vkui--color_stroke_positive","--header_background":"--vkui--color_header_background","--header_tint_alternate":"--vkui--color_icon_accent_themed","--icon_alpha_placeholder":"--vkui--color_icon_contrast","--icon_medium_alpha":"--vkui--color_icon_medium_alpha","--icon_medium":"--vkui--color_icon_medium","--icon_secondary_alpha":"--vkui--color_icon_secondary_alpha","--icon_secondary":"--vkui--color_icon_secondary","--icon_tertiary_alpha":"--vkui--color_icon_tertiary_alpha","--icon_tertiary":"--vkui--color_icon_tertiary","--image_border":"--vkui--color_image_border_alpha","--input_background":"--vkui--color_write_bar_input_background","--input_border":"--vkui--color_write_bar_input_border_alpha","--link_alternate":"--vkui--color_text_link_themed","--loader_track_fill":"--vkui--color_track_background","--loader_track_value_fill":"--vkui--color_track_buffer","--placeholder_icon_background_opaque":"--vkui--color_image_placeholder_alpha","--placeholder_icon_background":"--vkui--color_image_placeholder","--search_bar_field_background":"--vkui--color_search_field_background","--segmented_control_bar_background":"--vkui--color_segmented_control","--separator_alpha":"--vkui--color_separator_primary_alpha","--separator_alternate":"--vkui--color_separator_secondary","--separator_common":"--vkui--color_separator_primary","--skeleton_foreground_from":"--vkui--color_skeleton_from","--skeleton_foreground_to":"--vkui--color_skeleton_to","--text_link":"--vkui--color_text_link","--text_muted":"--vkui--color_text_muted","--text_primary":"--vkui--color_text_primary","--text_secondary":"--vkui--color_text_secondary","--text_subhead":"--vkui--color_text_subhead","--text_tertiary":"--vkui--color_text_tertiary","--writebar_icon":"--vkui--color_write_bar_icon","--gray_400":"--vkui--color_text_secondary","--gray_500":"--vkui--color_text_subhead","--gray_600":"--vkui--color_text_subhead","--gray_900":"--vkui--color_text_muted","--im_forward_line_tint":"--vkui--vkontakte_color_im_forward_line_alpha","--im_bubble_incoming":"--vkui--vkontakte_color_im_bubble_incoming","--im_bubble_incoming_alternate":"--vkui--vkontakte_color_im_bubble_incoming_alternate","--im_bubble_incoming_expiring":"--vkui--vkontakte_color_im_bubble_incoming_expiring","--im_bubble_border_alternate_highlighted":"--vkui--vkontakte_color_im_bubble_border_alternate_highlighted_alpha","--modal_card_background":"--vkui--color_background_modal","--im_bubble_outgoing":"--vkui--vkontakte_color_im_bubble_outgoing"},a=1e3,i=globalThis.navigator.hardwareConcurrency||1,c=Math.max(1,Math.floor(i/2))},53996:(o,e,r)=>{r.a(o,async(o,t)=>{try{r.r(e);var _=r(57580),n=r(26659),a=r(81506),i=r(43024),c=r(92243),l=r(54585),u=o([_]);_=(u.then?(await u)():u)[0];const d=async o=>{const e=Object.keys(o);e.length>0&&(0,l.A)();const r=await(0,a.A)();for(const e of r.querySelectorAll('.LeftMenu__itemLabel[orig],[data-testid="leftmenuitem-text"][orig]')){const r=e.closest("li");if(r&&!o[r.id]){const o=e.getAttribute("orig");e.innerText=o,e.removeAttribute("orig")}}for(const t of e){const e=r.querySelector(`#${n.U[t]} .LeftMenu__itemLabel,#${n.U[t]} [data-testid="leftmenuitem-text"]`);e&&(e.getAttribute("orig")||e.setAttribute("orig",e.innerText),o[t]&&(e.innerText=o[t]))}},s=()=>{d(i.default.getValue("leftChange")||{})},k=async()=>{s(),(0,c.A)(s),i.default.addChangeKeyListener("leftChange",(o,e)=>{d(e||{})})};0,i.default.onInited(k),t()}catch(o){t(o)}})},54585:(o,e,r)=>{r.d(e,{A:()=>u});var t=r(49032),_=r(7417),n=r(48913),a=r(43024);const i={video:"/video",no_clips:"/clip",no_apps:"/games",no_stickers:"/stickers",no_market:"/market",no_mini_apps:"/services",no_vkpay:"/vkpay",faves:"/bookmarks",docs:"/docs",no_calls:"/calls"},c=()=>{const o=a.default.getValue("leftChange")||{},e=window.location.pathname,r=new URLSearchParams(window.location.search);if(o.profile&&window.vk.id===window.cur.oid&&"profile"===window.cur.module)return o.profile;if(o.news&&"/feed"===e)return o.news;if(o.mail&&t.hj.test(e))return o.mail;if(o.friends&&"/friends"===e&&!r.get("act"))return o.friends;if(o.groups&&"/groups"===e&&!r.get("act"))return o.groups;if(o.photos&&("/photos"===e||e===`/photos${window.vk.id}`))return o.photos;if(o.audio&&e===`/audios${window.vk.id}`&&!r.get("section"))return o.audio;for(const r in i)if(o[r]&&e.startsWith(i[r]))return o[r];return null};let l=!1;const u=()=>{if(l)return;l=!0;const o=Object.getOwnPropertyDescriptor(Document.prototype,"title");if(!o)return;const e=o.set,r=o.get;(0,_.n)(async()=>{await(0,n.e)();const o=c();o&&Reflect.apply(e,document,[o])}),Object.defineProperty(document,"title",{set:function(o){const r=c();Reflect.apply(e,document,[r||o])},get:function(){return Reflect.apply(r,document,[])}})}},81506:(o,e,r)=>{r.d(e,{A:()=>a});var t=r(36585),_=r(22707);const n=()=>{const o=document.querySelector('.side_bar_ol,[class*="LeftMenuOld__container--"]');return o?o.querySelector('[class*="Skeleton__skeleton"],[class*="SkeletonComponent__skeleton"]')?null:o:null},a=async()=>{await(0,t.v)(),await(0,_.t)();const o=n();return o||new Promise(o=>{const e=setInterval(()=>{if(!document.querySelector(".left_menu_nav_wrap,#ads_left,#left_blocks,#ads_leftmenu"))return;const r=n();r&&(clearInterval(e),o(r))},1e3)})}},92243:(o,e,r)=>{r.d(e,{A:()=>c});var t=r(51018),_=r(5305);const n=new t.e;let a=!1;const i=async()=>{a||(a=!0,(0,_.A)(o=>{const[,e,r]=o;if(["a_toggle_admin_fast","a_change_services"].includes(e.act)){const{onDone:o}=r;r.onDone=function(...e){Reflect.apply(o,this,e);for(const o of n.listeners)o()}}return o}))},c=o=>{const e=n.addListener(o);return i(),e}}}]);