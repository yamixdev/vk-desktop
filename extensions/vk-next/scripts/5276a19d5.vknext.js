"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[695,5633,6987],{695:(e,n,t)=>{t.d(n,{U:()=>i});var o=t(50313);const i=()=>(0,o.A)("colorScheme")},2892:(e,n,t)=>{t.d(n,{A:()=>o});const o={TopNavBtn:"C39tHkNEI5yccTyD",TopNavBtn__icon:"zOjNgvk5iTQ5SD2a",MoonButton__wrapper:"RmklrdZWtxGwVzVD"}},4280:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>u});var i=t(74848),a=t(90275),s=t(11617),c=t(96540),r=t(87675),l=t(79705),d=e([r]);r=(d.then?(await d)():d)[0];const u=()=>{const e=(0,r.A)(),[n,t]=(0,l.A)("currentTheme"),o=(0,c.useCallback)(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches,[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.vH,{onClick:()=>t("light"),rightIcon:(0,i.jsx)(s.$,{visibility:["light",null].includes(n)?"visible":"hidden"}),children:(0,c.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_light"),[])},"light"),(0,i.jsx)(a.vH,{onClick:()=>t("vkcom_dark"),rightIcon:(0,i.jsx)(s.$,{visibility:"vkcom_dark"===n?"visible":"hidden"}),children:(0,c.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_dark"),[])},"vkcom_dark"),o()&&(0,i.jsx)(a.vH,{onClick:()=>t("auto"),rightIcon:(0,i.jsx)(s.$,{visibility:"auto"===n?"visible":"hidden"}),children:(0,c.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_auto"),[])}),(0,i.jsx)(a.AS,{}),(0,i.jsx)(a.vH,{subtitle:"@vknext",onClick:()=>t("vknext_gray"),rightIcon:(0,i.jsx)(s.$,{visibility:"vknext_gray"===n?"visible":"hidden"}),children:e.use("global_theme_gray")},"vknext_gray"),(0,i.jsx)(a.vH,{subtitle:"@vknext",onClick:()=>t("vknext_dark"),rightIcon:(0,i.jsx)(s.$,{visibility:"vknext_dark"===n?"visible":"hidden"}),children:e.use("global_theme_dark")},"vknext_dark")]})};o()}catch(e){o(e)}})},7646:(e,n,t)=>{t.d(n,{A:()=>s});var o=t(74848),i=t(39107),a=t(42335);const s=({className:e,children:n,getRootRef:t,useScrollView:s,...c})=>s?(0,o.jsx)(i.guY,{getRootRef:t,className:(0,i.xWm)(a.A.ActionsMenu,e),children:n}):(0,o.jsx)("div",{ref:t,...c,className:(0,i.xWm)(a.A.ActionsMenu,e),children:n})},11617:(e,n,t)=>{t.d(n,{$:()=>o});var o=(0,t(78414).mT)("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16,!1,void 0)},12578:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>h});var i=t(74848),a=t(90275),s=t(11617),c=t(96540),r=t(87675),l=t(79705),d=t(45633),u=e([r]);r=(u.then?(await u)():u)[0];const h=({hasTopSeparator:e=!0})=>{const n=(0,r.A)(),[t,o]=(0,l.A)("currentTheme"),[u,h]=(0,c.useState)(d.default.getThemes());(0,c.useEffect)(()=>{d.default.addListener((e,n)=>{h(n)})},[]);const A=(0,c.useMemo)(()=>Object.entries(u),[u]);return A.length?(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(a.AS,{}),A.map(([e,c])=>(0,i.jsx)(a.vH,{subtitle:c.author,onClick:()=>o(e),rightIcon:(0,i.jsx)(s.$,{visibility:t===e?"visible":"hidden"}),children:c.lang?n.use(c.lang):c.name},e))]}):null};o()}catch(e){o(e)}})},14659:()=>{},22860:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(74848),i=t(75623),a=t(39107),s=t(7646);const c=({children:e,actions:n,actionsMenuClassName:t,hideOnClick:c=!0,disabled:r=!1,useScrollView:l=!1,...d})=>r?e:(0,o.jsx)(i.A,{content:(0,o.jsx)(s.A,{useScrollView:l,className:(0,a.xWm)(t),children:n}),noBackground:!0,hideOnClick:c,...d,children:e})},33077:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>h});var i=t(74848),a=t(41557),s=t(90666),c=t(49423),r=t(40779),l=t(2892),d=e([r]);r=(d.then?(await d)():d)[0];const u=()=>"light"===(0,c.A)()?(0,i.jsx)(a.x,{width:24,height:24}):(0,i.jsx)(s.s,{width:24,height:24}),h=()=>(0,i.jsx)(r.A,{children:(0,i.jsx)("a",{className:l.A.TopNavBtn,children:(0,i.jsx)("span",{className:`${l.A.TopNavBtn__icon} TopNavBtn__icon`,children:(0,i.jsx)(u,{})})})});o()}catch(e){o(e)}})},38171:(e,n,t)=>{t.d(n,{A:()=>u});var o=t(51018),i=t(79110),a=t(36585),s=t(22707);const c=new o.e,r=()=>{const e=(()=>{const e=document.querySelector(".HeaderNav,#page_header");return!!e&&(!e.querySelector('[class*="Skeleton__skeleton"],[class*="SkeletonComponent__skeleton"]')&&(!!document.querySelector('#top_profile_link,#react_rootTopNavProfileMenu,[data-testid="header-profile-menu-button"]')&&e))})();return!!e&&(!e.querySelector(".ProfileMenuSkeletonRoot")&&((async e=>{for(const n of c.listeners)n&&(await(0,s.t)(),n(e))})(e),!0))},l=()=>{const e=document.getElementById("page_header_wrap");if(!e)return;new MutationObserver(e=>{for(const n of e)n.addedNodes.length&&r()}).observe(e,{childList:!0}),requestAnimationFrame(()=>r())};let d=!1;const u=e=>{const n=c.addListener(e);return d?r():(d=!0,(0,i.g)(l),(async()=>{if(r())return;const e=new MutationObserver(()=>{r()&&e.disconnect()});e.observe(await(0,a.v)(),{childList:!0}),(0,i.g)(r)})()),n}},40779:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>h});var i=t(74848),a=t(22860),s=t(96540),c=t(90530),r=t(12578),l=t(4280),d=e([r,l]);[r,l]=d.then?(await d)():d;const u=({children:e,trigger:n="hover",placement:t="bottom-end",hideOnClick:o=!0,disabled:s=!1})=>(0,i.jsx)(a.A,{trigger:n,placement:t,hideOnClick:o,disabled:s,actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{}),(0,i.jsx)(r.A,{})]}),actionsMenuClassName:c.A.ChangeThemePopover__actionsMenu,usePortal:document.body,useScrollView:!0,children:e}),h=(0,s.memo)(u);o()}catch(e){o(e)}})},41557:(e,n,t)=>{t.d(n,{x:()=>o});var o=(0,t(78414).mT)("Icon28MoonOutline","moon_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="moon_outline_28"><g fill="none" fill-rule="nonzero"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M24.166 15.685a1 1 0 0 1 1.277 1.275c-.569 1.614-1.445 3.046-2.632 4.229-4.418 4.418-11.58 4.417-15.997 0-4.419-4.417-4.419-11.58 0-15.998C8 4.006 9.431 3.129 11.042 2.559a1 1 0 0 1 1.276 1.277c-1.194 3.372-.394 7.133 2.16 9.69 2.554 2.553 6.317 3.353 9.688 2.16m-11.102-.746a11.25 11.25 0 0 1-3.163-9.643q-.917.555-1.673 1.309c-3.637 3.637-3.637 9.534 0 13.17a9.31 9.31 0 0 0 13.17-.002 8.8 8.8 0 0 0 1.31-1.671 11.25 11.25 0 0 1-9.644-3.163" /></g></symbol>',28,28,!1,void 0)},42335:(e,n,t)=>{t.d(n,{A:()=>o});const o={ActionsMenu:"oXPVlZtlcjoi6d8e"}},44511:(e,n,t)=>{t.d(n,{A:()=>o});const o={ActionsMenuActionSeparator:"JUUAV9aJuLWPapUx"}},45633:(e,n,t)=>{t.r(n),t.d(n,{default:()=>a});var o=t(44181);class i extends o.A{constructor(){super("Themes")}getTheme(e){return this.getStorage()[e]}setTheme(e,n){const t=this.getStorage();t[e]=n,this.saveStorage(t)}getThemes(){return this.getStorage()}setThemes(e){this.saveStorage(e)}removeTheme(e){const n=this.getStorage();delete n[e],this.saveStorage(n)}}const a=new i},49423:(e,n,t)=>{t.d(n,{A:()=>d});var o=t(22707),i=t(37400),a=t(96540),s=t(74225),c=t.n(s),r=t(695);const l=()=>{const e=window.colorScheme?.currentMode;return"auto"===e?window.colorScheme.currentIsDark?"dark":"light":e},d=()=>{const[e,n]=(0,a.useState)(l()),[t,s]=(0,a.useState)(!!window.colorScheme?.subscribe);return c()(async e=>{await(0,r.U)(),e()&&s(!0)},[]),(0,a.useEffect)(()=>{if(window.colorScheme?.subscribe)return window.colorScheme.subscribe(async()=>{await(0,i.G)(),await(0,o.t)(),n(l())});s(!1)},[t]),e}},53339:(e,n,t)=>{t.d(n,{A:()=>o});const o={ActionsMenuAction:"Qz12flm1ckhwWMRi","ActionsMenuAction--clickable":"zqSAHhp0mZkpJyJv","ActionsMenuAction--loading":"maWKomPpZn38CGdY",ActionsMenuAction__title:"f5DiFbY0HMzfonGH","ActionsMenuAction--hover":"eArigbMXC9scSDcE","ActionsMenuAction--active":"dKO8yhdsvq5OQaLB","ActionsMenuAction--size-mini":"_RpwxXrwB9cHW9y9","ActionsMenuAction--size-regular":"JSPJNQnfc0rmrUKc","ActionsMenuAction--size-large":"Kz6XOr7wirTW6rZ_","ActionsMenuAction--size-max":"I5pyzjxjokMaCjf_",ActionsMenuAction__icon:"CIshpRBaU1ScuMSN","ActionsMenuAction--primary":"shY5I45XLLb2peEz","ActionsMenuAction--secondary":"CHnF5e3RJGJOddfX","ActionsMenuAction--danger":"bdbcNwBFv_xx4hSf","ActionsMenuAction--warning":"dIPqyT74MfEGnvhg",ActionsMenuAction__subtitle:"Z9G_cg7qHFwNychh","ActionsMenuAction--multiline":"rdni9aRD2DN3OfDv"}},56844:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.r(n);var i=t(74848),a=t(57580),s=t(38171),c=t(33077),r=t(3068),l=t(43024),d=t(2892),u=(t(14659),e([a,c]));[a,c]=u.then?(await u)():u;const h=document.createElement("div");h.className=d.A.MoonButton__wrapper;let A=null,m=null;const g=async(e,n)=>{if(m&&(m(),m=null),!e)return h.remove(),void A?.();m=(0,s.A)(async e=>{if(!e)return;let t=null;if(n){const e=document.getElementById("top_profile_link")||document.getElementById("react_rootTopNavProfileMenu");e&&(t=e.closest(".HeaderNav__item"))}else t=e.getElementsByClassName("HeaderNav__btns")[0];t?t.insertBefore(h,t.firstChild):e.lastElementChild?e.lastElementChild.insertAdjacentElement("beforebegin",h):e.appendChild(h),requestAnimationFrame(async()=>{const{unmount:e}=await(0,r.A)({root:h,content:(0,i.jsx)(c.A,{}),disableParentTransformForPositionFixedElements:!0,disableAppRoot:!0,wrapperProps:{className:d.A.MoonButton__wrapper}});A=e})})};0,l.default.onInited(async()=>{l.default.getValue("headerMoon")&&await g(!0,l.default.getValue("alternativeHeader"))}),l.default.addChangeKeyListener("headerMoon",(e,n)=>{g(n,l.default.getValue("alternativeHeader"))}),l.default.addChangeKeyListener("alternativeHeader",(e,n)=>{g(l.default.getValue("headerMoon"),n)}),o()}catch(e){o(e)}})},61166:(e,n,t)=>{t.d(n,{A:()=>o});const o={PopoverReforged:"V5vFILKwsuTAoDXp","reforged-anim-fade-in":"aKnVnnmt_OsWj600","reforged-anim-fade-out":"uvPWUxQQgpV6cgFC","PopoverReforged--noBackground":"h4DVtB6f3FyJCExI"}},62882:(e,n,t)=>{t.d(n,{A:()=>r});var o=t(74848),i=t(39107),a=t(53339);const s={mini:a.A["ActionsMenuAction--size-mini"],large:a.A["ActionsMenuAction--size-large"],regular:a.A["ActionsMenuAction--size-regular"],max:a.A["ActionsMenuAction--size-max"]},c={primary:a.A["ActionsMenuAction--primary"],secondary:a.A["ActionsMenuAction--secondary"],danger:a.A["ActionsMenuAction--danger"],warning:a.A["ActionsMenuAction--warning"]},r=({leftIcon:e,rightIcon:n,title:t,subtitle:r,type:l="secondary",size:d="regular",isActive:u=!1,hasHover:h=!0,isLoading:A,className:m,onClick:g,titleClassName:v,getRootRef:f,href:_,Component:p=(_?"a":"button"),children:M,multiline:w=!1,...x})=>(0,o.jsxs)(p,{className:(0,i.xWm)(a.A.ActionsMenuAction,h&&a.A["ActionsMenuAction--hover"],(g||h||_)&&a.A["ActionsMenuAction--clickable"],c[l],A&&a.A["ActionsMenuAction--loading"],u&&a.A["ActionsMenuAction--active"],w&&a.A["ActionsMenuAction--multiline"],s[d],m),onClick:A?void 0:g,ref:f,href:_,...x,children:[e&&(0,o.jsx)("i",{className:a.A.ActionsMenuAction__icon,children:e}),(0,o.jsxs)("span",{title:t,className:(0,i.xWm)(a.A.ActionsMenuAction__title,v),children:[M,r&&(0,o.jsx)("span",{className:a.A.ActionsMenuAction__subtitle,children:r})]}),n&&(0,o.jsx)("i",{className:a.A.ActionsMenuAction__icon,children:n})]})},74225:(e,n,t)=>{var o=t(96540);function i(e,n,t){var i="function"==typeof n;o.useEffect(function(){var t,o=!0,a=e(function(){return o});return Promise.resolve(a).then(function(e){t=e}),function(){o=!1,i&&n(t)}},i?t:n)}e.exports=i,e.exports.useAsyncEffect=i},75623:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(74848),i=t(39107),a=t(96540),s=t(61166);const c=({hideOnClick:e=!1,noBackground:n=!1,mode:t,onClick:c,onShownChange:r,className:l,contentWrapperClassName:d,shown:u,content:h,...A})=>{const[m,g]=(0,a.useState)(!1),v=(0,a.useRef)(null),f=(0,a.useRef)(null),_=(0,a.useCallback)(e=>{e?g(!0):v.current=setTimeout(()=>{g(!1)},100),r?.(e)},[t,r,g]);return(0,a.useEffect)(()=>{"boolean"==typeof u&&_(u)},[u,_]),(0,o.jsx)(i.AMh,{shown:m,className:(0,i.xWm)(s.A.PopoverReforged,n&&s.A["PopoverReforged--noBackground"],l),onShownChange:_,onClick:e=>{if("side"===t&&v.current)clearTimeout(v.current);else try{c?.(e)}catch(e){console.error(e)}},content:(0,o.jsx)("div",{ref:f,className:(0,i.xWm)(d),onClick:n=>{e&&f.current?.contains(n.target)&&g(!1)},children:h}),...A})}},79705:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(96540),i=t(43024);const a=function(e){const[n,t]=(0,o.useState)(i.default.getValue(e));return(0,o.useEffect)(()=>{const n=i.default.addChangeKeyListener(e,(e,n)=>t(n));return()=>n.remove()},[e]),[n,n=>{i.default.setValue(e,n)}]}},83558:(e,n,t)=>{t.d(n,{A:()=>s});var o=t(74848),i=t(39107),a=t(44511);const s=({getRootRef:e,className:n,...t})=>(0,o.jsx)("div",{role:"separator",className:(0,i.xWm)(a.A.ActionsMenuActionSeparator,n),ref:e,...t})},87675:(e,n,t)=>{t.a(e,async(e,o)=>{try{t.d(n,{A:()=>a});var i=t(93819);const e=await i.A,a=()=>e;o()}catch(e){o(e)}},1)},90275:(e,n,t)=>{t.d(n,{AS:()=>i.A,Ku:()=>a.A,vH:()=>o.A});t(7646);var o=t(62882),i=t(83558),a=t(22860)},90530:(e,n,t)=>{t.d(n,{A:()=>o});const o={ChangeThemePopover__actionsMenu:"SNh63ThpJ56Yr0RC"}},90666:(e,n,t)=>{t.d(n,{s:()=>o});var o=(0,t(78414).mT)("Icon28SunOutline","sun_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="sun_outline_28"><g fill="currentColor"><path d="M15 2a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM15 23a1 1 0 1 0-2 0v3a1 1 0 1 0 2 0zM23.892 20.866a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 1 0-1 1.732zM5.706 10.366a1 1 0 1 0 1-1.732l-2.598-1.5a1 1 0 0 0-1 1.732zM2.742 20.5a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5a1 1 0 0 1-1.366-.366M20.928 10a1 1 0 0 1 .366-1.366l2.598-1.5a1 1 0 1 1 1 1.732l-2.598 1.5A1 1 0 0 1 20.928 10" /><path fill-rule="evenodd" d="M14 8.031a5.969 5.969 0 1 0 0 11.938A5.969 5.969 0 0 0 14 8.03M9.992 14c0-2.355 1.653-4.008 4.008-4.008s4.016 1.653 4.016 4.008-1.661 4-4.016 4-4.008-1.645-4.008-4" clip-rule="evenodd" /></g></symbol>',28,28,!1,void 0)}}]);