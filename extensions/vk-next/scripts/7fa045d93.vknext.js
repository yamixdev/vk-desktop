"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3386,5633],{4280:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>h});var s=n(74848),o=n(90275),r=n(11617),c=n(96540),i=n(87675),l=n(79705),d=e([i]);i=(d.then?(await d)():d)[0];const h=()=>{const e=(0,i.A)(),[t,n]=(0,l.A)("currentTheme"),a=(0,c.useCallback)(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches,[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.vH,{onClick:()=>n("light"),rightIcon:(0,s.jsx)(r.$,{visibility:["light",null].includes(t)?"visible":"hidden"}),children:(0,c.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_light"),[])},"light"),(0,s.jsx)(o.vH,{onClick:()=>n("vkcom_dark"),rightIcon:(0,s.jsx)(r.$,{visibility:"vkcom_dark"===t?"visible":"hidden"}),children:(0,c.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_dark"),[])},"vkcom_dark"),a()&&(0,s.jsx)(o.vH,{onClick:()=>n("auto"),rightIcon:(0,s.jsx)(r.$,{visibility:"auto"===t?"visible":"hidden"}),children:(0,c.useMemo)(()=>window.getLang("settings_appearance_color_scheme_mode_auto"),[])}),(0,s.jsx)(o.AS,{}),(0,s.jsx)(o.vH,{subtitle:"@vknext",onClick:()=>n("vknext_gray"),rightIcon:(0,s.jsx)(r.$,{visibility:"vknext_gray"===t?"visible":"hidden"}),children:e.use("global_theme_gray")},"vknext_gray"),(0,s.jsx)(o.vH,{subtitle:"@vknext",onClick:()=>n("vknext_dark"),rightIcon:(0,s.jsx)(r.$,{visibility:"vknext_dark"===t?"visible":"hidden"}),children:e.use("global_theme_dark")},"vknext_dark")]})};a()}catch(e){a(e)}})},11617:(e,t,n)=>{n.d(t,{$:()=>a});var a=(0,n(78414).mT)("Icon16Done","done_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="done_16"><path fill="currentColor" d="M13.743 3.756a.87.87 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.87.87 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0" /></symbol>',16,16,!1,void 0)},12578:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>m});var s=n(74848),o=n(90275),r=n(11617),c=n(96540),i=n(87675),l=n(79705),d=n(45633),h=e([i]);i=(h.then?(await h)():h)[0];const m=({hasTopSeparator:e=!0})=>{const t=(0,i.A)(),[n,a]=(0,l.A)("currentTheme"),[h,m]=(0,c.useState)(d.default.getThemes());(0,c.useEffect)(()=>{d.default.addListener((e,t)=>{m(t)})},[]);const u=(0,c.useMemo)(()=>Object.entries(h),[h]);return u.length?(0,s.jsxs)(s.Fragment,{children:[e&&(0,s.jsx)(o.AS,{}),u.map(([e,c])=>(0,s.jsx)(o.vH,{subtitle:c.author,onClick:()=>a(e),rightIcon:(0,s.jsx)(r.$,{visibility:n===e?"visible":"hidden"}),children:c.lang?t.use(c.lang):c.name},e))]}):null};a()}catch(e){a(e)}})},14893:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(74848),s=n(54689),o=n(39107),r=n(67078);const c=()=>(0,a.jsxs)(o.YJl,{header:(0,a.jsx)(o.Y9Y,{children:"Очистки"}),children:[(0,a.jsx)(o.iau,{children:(0,a.jsx)(o.lZ$,{title:"Внимание! Очистка может привести к нежелательным последствиям",subtitle:"Пожалуйста, не производите эту операцию без предварительных инструкций от разработчиков VK Next"})}),(0,a.jsx)(o.eIh,{children:(0,a.jsxs)(o.e2v,{mode:"horizontal",children:[(0,a.jsx)(o.$nd,{onClick:()=>{sessionStorage.clear(),(0,r.A)({type:"done",text:"Кеш sessionStorage очищен"})},children:"Очистить sessionStorage"}),(0,a.jsx)(o.$nd,{onClick:()=>{localStorage.clear(),(0,r.A)({type:"done",text:"Кеш localStorage очищен"})},children:"Очистить localStorage"})]})}),(0,a.jsx)(o.eIh,{children:(0,a.jsxs)(o.e2v,{mode:"horizontal",children:[(0,a.jsx)(o.$nd,{onClick:async()=>{const e=new s.A("stickers-v1"),t=new s.A("stickers-list-v1"),n=new s.A("stickers-ugc-v1");try{await Promise.all([e.clearDatabase(),t.clearDatabase(),n.clearDatabase()]),(0,r.A)({type:"done",text:"Кеш стикеров очищен"})}catch(e){console.error(e),(0,r.A)({type:"error",text:"Произошла ошибка при очистке кеша стикеров"})}},children:"Очистить кеш стикеров"}),(0,a.jsx)(o.$nd,{onClick:async()=>{const e=new s.A("reforged-storage-db-v1"),t=new s.A("reforged-db-v1");try{await Promise.all([e.clearDatabase(),t.clearDatabase()]),(0,r.A)({type:"done",text:"Кеш мессенджера очищен"})}catch(e){console.error(e),(0,r.A)({type:"error",text:"Произошла ошибка при очистке кеша мессенджера"})}},children:"Очистить кеш мессенджера"})]})}),(0,a.jsx)(o.eIh,{children:(0,a.jsx)(o.e2v,{mode:"horizontal",children:(0,a.jsx)(o.$nd,{onClick:async()=>{const e=new s.A("st");try{await e.clearDatabase()}catch(e){console.error(e)}for(const e of["_st","st_","st_is","st_ch","st_h","st_hс","cp"])localStorage.removeItem(e),sessionStorage.removeItem(e);for(const e of["cpw","st0","st1","st2"]){const t=document.getElementById(e);t&&t.remove()}window.st&&window.st.ss();const t=document.getElementById("cp_s");t&&t.parentElement&&t.parentElement.remove(),await(0,r.A)({type:"done",text:"Мусор очищен"})},children:"Очистить мусор"})})}),(0,a.jsx)(o.eIh,{children:(0,a.jsxs)(o.e2v,{mode:"horizontal",children:[(0,a.jsx)(o.$nd,{onClick:async()=>{try{const{default:e}=await n.e(6289).then(n.bind(n,96289)),t=await e.getTokens(window.vk.id);delete t[2685278],await e.setTokens(window.vk.id,t),await(0,r.A)({type:"done",text:"Токен сброшен"})}catch(e){console.error(e),await(0,r.A)({type:"error",text:"Произошла ошибка при сбросе токена"})}},children:"Сбросить токен VK Admin/Kate Mobile"}),(0,a.jsx)(o.$nd,{onClick:async()=>{const e=new s.A("vknext-verified");try{await e.clearDatabase(),(0,r.A)({type:"done",text:"Кеш галочек очищен"})}catch(e){console.error(e),(0,r.A)({type:"error",text:"Произошла ошибка при очистке кеша галочек"})}},children:"Очистить кеш галочек"})]})})]})},31599:(e,t,n)=>{n.d(t,{Y:()=>a});var a=(0,n(78414).mT)("Icon12OnlineMobile","online_mobile_12","0 0 8 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 12" id="online_mobile_12"><path fill="currentColor" d="M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0zm.008 3H2.003a.5.5 0 0 0-.503.502v4.996c0 .277.225.502.503.502h3.995a.5.5 0 0 0 .502-.502V3.503A.5.5 0 0 0 5.997 3" /></symbol>',8,12,!1,void 0)},37180:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>d});var s=n(74848),o=n(33258),r=n(39107),c=n(67078),i=n(87675),l=e([i]);i=(l.then?(await l)():l)[0];const d=()=>{const e=(0,i.A)();return(0,s.jsxs)(r.YJl,{header:(0,s.jsx)(r.Y9Y,{children:"Снэкбар"}),children:[(0,s.jsx)(r.eIh,{children:(0,s.jsxs)(r.e2v,{mode:"horizontal",children:[(0,s.jsx)(r.$nd,{onClick:async()=>{await(0,c.A)({type:"done",text:e.use("global_done")})},children:"type: успешно"}),(0,s.jsx)(r.$nd,{onClick:async()=>{await(0,c.A)({type:"error",text:e.use("global_error")})},children:"type: ошибка"})]})}),(0,s.jsx)(r.eIh,{children:(0,s.jsxs)(r.e2v,{mode:"horizontal",children:[(0,s.jsx)(r.$nd,{onClick:async()=>{await(0,c.A)({text:e.use("global_chat_stats_notification_chat_started_message",{peerName:"VK Next Dev"}),before:(0,s.jsx)(o.A,{size:32,isNFT:!0,src:"https://static.vknext.net/logos/VKNextDev.png"}),duration:5e3})},children:"Начали собирать стату"}),(0,s.jsx)(r.$nd,{onClick:async()=>{await(0,c.A)({text:e.use("vkcom_chat_stats_notification_error_title"),subtitle:e.use("vkcom_chat_stats_notification_already_working_on_current_peer"),duration:5e3})},children:"Уже собираем стату"}),(0,s.jsx)(r.$nd,{onClick:async()=>{await(0,c.A)({text:e.use("vkcom_chat_stats_notification_user_already_started_message"),duration:8e3,action:"Отменить",onActionClick:async()=>{alert("Не нужно нажимать.")}})},children:"Стата собирается в другом чате"})]})})]})};a()}catch(e){a(e)}})},40779:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>m});var s=n(74848),o=n(22860),r=n(96540),c=n(90530),i=n(12578),l=n(4280),d=e([i,l]);[i,l]=d.then?(await d)():d;const h=({children:e,trigger:t="hover",placement:n="bottom-end",hideOnClick:a=!0,disabled:r=!1})=>(0,s.jsx)(o.A,{trigger:t,placement:n,hideOnClick:a,disabled:r,actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{}),(0,s.jsx)(i.A,{})]}),actionsMenuClassName:c.A.ChangeThemePopover__actionsMenu,usePortal:document.body,useScrollView:!0,children:e}),m=(0,r.memo)(h);a()}catch(e){a(e)}})},42694:(e,t,n)=>{n.d(t,{A:()=>a});const a={DebugPage__root:"ROzCcUisf9jNC2DP"}},43853:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>l});var s=n(96540),o=n(87675),r=n(79705),c=n(45633),i=e([o]);o=(i.then?(await i)():i)[0];const l=()=>{const e=(0,o.A)(),[t]=(0,r.A)("currentTheme");return(0,s.useMemo)(()=>{if(["light",null].includes(t))return window.getLang("settings_appearance_color_scheme_mode_light");if("vkcom_dark"===t)return window.getLang("settings_appearance_color_scheme_mode_dark");if("auto"===t)return window.getLang("settings_appearance_color_scheme_mode_auto");if("vknext_gray"===t)return`${e.use("global_theme_gray")} (@vknext)`;if("vknext_dark"===t)return`${e.use("global_theme_dark")} (@vknext)`;const n=c.default.getTheme(t);if(n){const t=n.lang?e.use(n.lang):n.name;return n.author?`${t} (${n.author})`:t}return t},[t,e])};a()}catch(e){a(e)}})},45117:(e,t,n)=>{n.d(t,{p:()=>a});var a=(0,n(78414).mT)("Icon12Circle","circle_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="circle_12"><path fill="currentColor" d="M10 6a4 4 0 1 1-8 0 4 4 0 0 1 8 0" /></symbol>',12,12,!1,void 0)},45633:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(44181);class s extends a.A{constructor(){super("Themes")}getTheme(e){return this.getStorage()[e]}setTheme(e,t){const n=this.getStorage();n[e]=t,this.saveStorage(n)}getThemes(){return this.getStorage()}setThemes(e){this.saveStorage(e)}removeTheme(e){const t=this.getStorage();delete t[e],this.saveStorage(t)}}const o=new s},67078:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(74848),s=n(3068),o=n(75511);const r=document.createElement("div");r.className=o.A.Snackbars;const c=async e=>{const t=(await Promise.all([n.e(961),n.e(7397),n.e(1649),n.e(8414),n.e(5812)]).then(n.bind(n,25812))).default;document.body.contains(r)||document.body.appendChild(r);const o=document.createElement("div");r.appendChild(o);const{unmount:c}=await(0,s.A)({root:o,content:(0,a.jsx)(t,{onClose:()=>{c(),o.remove(),0===r.children.length&&r.remove()},...e}),disableParentTransformForPositionFixedElements:!0,noStyling:!0})}},68680:(e,t,n)=>{n.d(t,{A:()=>a});const a={CustomColorSchemeDropdown__value:"zZSKgYEfMBQelfP0"}},75511:(e,t,n)=>{n.d(t,{A:()=>a});const a={Snackbars:"fuEF5ymRhcBAxInE",BaseSnackbar:"Fu47p889xWCKEooV"}},76647:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{default:()=>d});var s=n(74848),o=n(42694),r=n(14893),c=n(37180),i=n(89454),l=e([c,i]);[c,i]=l.then?(await l)():l;const d=()=>(0,s.jsxs)("div",{className:o.A.DebugPage__root,children:[(0,s.jsx)(r.A,{}),(0,s.jsx)(i.A,{}),(0,s.jsx)(c.A,{})]});a()}catch(e){a(e)}})},79705:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(96540),s=n(43024);const o=function(e){const[t,n]=(0,a.useState)(s.default.getValue(e));return(0,a.useEffect)(()=>{const t=s.default.addChangeKeyListener(e,(e,t)=>n(t));return()=>t.remove()},[e]),[t,t=>{s.default.setValue(e,t)}]}},87675:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>o});var s=n(93819);const e=await s.A,o=()=>e;a()}catch(e){a(e)}},1)},89454:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>i});var s=n(74848),o=n(39107),r=n(94109),c=e([r]);r=(c.then?(await c)():c)[0];const i=()=>(0,s.jsx)(o.YJl,{header:(0,s.jsx)(o.Y9Y,{children:"Темы"}),children:(0,s.jsxs)(o.T6P,{children:["Текущая тема: ",(0,s.jsx)(r.default,{placement:"top-start"})]})});a()}catch(e){a(e)}})},90530:(e,t,n)=>{n.d(t,{A:()=>a});const a={ChangeThemePopover__actionsMenu:"SNh63ThpJ56Yr0RC"}},94109:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{default:()=>d});var s=n(74848),o=n(39107),r=n(40779),c=n(68680),i=n(43853),l=e([r,i]);[r,i]=l.then?(await l)():l;const d=({isEcoPlate:e,...t})=>{const n=(0,i.A)();return(0,s.jsx)(r.A,{...t,children:e?(0,s.jsxs)(o.EYj,{children:[e?`${window.getLang("global_head_color_scheme")} `:null,(0,s.jsx)(o.N_E,{className:c.A.CustomColorSchemeDropdown__value,title:n,children:n})]}):(0,s.jsx)(o.N_E,{className:c.A.CustomColorSchemeDropdown__value,title:n,children:n})})};a()}catch(e){a(e)}})}}]);