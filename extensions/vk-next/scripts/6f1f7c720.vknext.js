"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[2130,5560],{9453:(e,t,n)=>{n.d(t,{A:()=>s});const s={VidPopover__content:"_HSvZOAY5tIpoGx1",VidBlock__preview:"AkNPPF1XvnhMn36O"}},15609:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(74848),o=n(75623),a=n(39107);const i="j5noyirksU4hOAMT",r="FT_f_JIawX_phtyc",c=({children:e})=>(0,s.jsx)(o.A,{trigger:"click",placement:"top-start",usePortal:document.body,shown:!0,defaultShown:!0,disableCloseOnClickOutside:!0,disableCloseOnEscKey:!0,content:e,className:i,children:(0,s.jsx)(a.s6o,{className:r})})},39804:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(96540),o=n(74225),a=n.n(o),i=n(88908),r=n(36008);const c=["ru","en","uk","kk","be"],l={0:"ru",1:"uk",2:"en",97:"kk",114:"be"},u=e=>{const[t,n]=(0,s.useState)(!0),[o,u]=(0,s.useState)(null);return a()(async t=>{if(!t())return;n(!0),u(null);let s=(0,i.A)(e).trim();const o=s.split(" ");let a;if(c.includes(o[0])){if(a=o[0],s=o.slice(1).join(" ").trim(),!s)return}else a=l[window.vk.lang]||"ru";const d=`https://${a}.wikipedia.org/w/api.php?${new URLSearchParams({gsrsearch:s,action:"query",generator:"search",prop:"description|pageimages|info",format:"json",inprop:"url"}).toString()}`;await r.default.sendMessage("vkn-b-aath",new URL(d).origin+"/*");const h=await fetch(d).then(e=>e.text()),f=JSON.parse(h).query?.pages;t()&&(f&&u(Object.values(f)),n(!1))},[e]),{isLoading:t,items:o}}},43170:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(85560),o=n(93819),a=n(43024),i=n(43139),r=n(92046);const c=async e=>{const t=await o.A,n=a.default.getValue("inlineRemoveWatermark"),c=(0,i.Mf)();if(c){(0,i.t$)();const o=document.querySelector(".ConvoComposer__input");o&&(o.textContent=await(0,s.default)()&&n?"":`via [club207165415|${t.use("global_app_name")}]<br/>${e}`),await(0,r.c)(500),c&&c.click()}const l=document.getElementsByClassName("im_editable")[0];if(l){const s=n?e:`via [club207165415|${t.use("global_app_name")}]<br/>${e}`;l.setValue(s),window.Emoji.editableFocus(l,!1,!0)}const u=(0,i.Ay)();u&&(u.classList.add("im-send-btn_audio"),u.classList.remove("im-send-btn_send"),u.classList.remove("im-send-btn_loading"),u.style.pointerEvents=""),u&&u.click()}},61166:(e,t,n)=>{n.d(t,{A:()=>s});const s={PopoverReforged:"V5vFILKwsuTAoDXp","reforged-anim-fade-in":"aKnVnnmt_OsWj600","reforged-anim-fade-out":"uvPWUxQQgpV6cgFC","PopoverReforged--noBackground":"h4DVtB6f3FyJCExI"}},62654:(e,t,n)=>{n.d(t,{A:()=>i});var s=n(74848),o=n(39107);const a=({item:e,onClick:t})=>(0,s.jsx)(o.T6P,{onClick:t,subtitle:e.description,multiline:!0,before:e.thumbnail?(0,s.jsx)(o._V3,{src:e.thumbnail.source}):(0,s.jsx)(o.euF,{style:{borderRadius:10},initials:e.title[0].toLowerCase(),gradientColor:(0,o.NTc)(e.pageid)}),children:e.title});a.Skeleton=()=>(0,s.jsx)(o.T6P,{subtitle:(0,s.jsx)(o.EAD,{width:150}),before:(0,s.jsx)(o._V3,{}),disabled:!0,children:(0,s.jsx)(o.EAD,{width:200})});const i=a},74225:(e,t,n)=>{var s=n(96540);function o(e,t,n){var o="function"==typeof t;s.useEffect(function(){var n,s=!0,a=e(function(){return s});return Promise.resolve(a).then(function(e){n=e}),function(){s=!1,o&&t(n)}},o?n:t)}e.exports=o,e.exports.useAsyncEffect=o},75623:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(74848),o=n(39107),a=n(96540),i=n(61166);const r=({hideOnClick:e=!1,noBackground:t=!1,mode:n,onClick:r,onShownChange:c,className:l,contentWrapperClassName:u,shown:d,content:h,...f})=>{const[m,p]=(0,a.useState)(!1),g=(0,a.useRef)(null),k=(0,a.useRef)(null),v=(0,a.useCallback)(e=>{e?p(!0):g.current=setTimeout(()=>{p(!1)},100),c?.(e)},[n,c,p]);return(0,a.useEffect)(()=>{"boolean"==typeof d&&v(d)},[d,v]),(0,s.jsx)(o.AMh,{shown:m,className:(0,o.xWm)(i.A.PopoverReforged,t&&i.A["PopoverReforged--noBackground"],l),onShownChange:v,onClick:e=>{if("side"===n&&g.current)clearTimeout(g.current);else try{r?.(e)}catch(e){console.error(e)}},content:(0,s.jsx)("div",{ref:k,className:(0,o.xWm)(u),onClick:t=>{e&&k.current?.contains(t.target)&&p(!1)},children:h}),...f})}},85560:(e,t,n)=>{n.d(t,{default:()=>a});var s=n(79384),o=n(52815);const a=async()=>{const e=await(0,o.A)(),t=(0,s.A)(e[0][1]),n=(0,s.A)(e[1][1]);return!!(107<=t&&t<=110&&107<=n&&n<=110)}},87675:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.d(t,{A:()=>a});var o=n(93819);const e=await o.A,a=()=>e;s()}catch(e){s(e)}},1)},88908:(e,t,n)=>{n.d(t,{A:()=>o});const s=document.createElement("textarea"),o=e=>(s.innerHTML=e,s.innerText)},92130:(e,t,n)=>{n.a(e,async(e,s)=>{try{n.r(t),n.d(t,{default:()=>A});var o=n(74848),a=n(39107),i=n(96540),r=n(87675),c=n(15609),l=n(9453),u=n(43170),d=n(9349),h=n(62654),f=n(39804),m=e([r]);r=(m.then?(await m)():m)[0];const p=400,g=450,k=({children:e})=>(0,o.jsx)(a.guY,{className:l.A.VidPopover__content,style:{maxHeight:g,width:p},children:e}),v=({query:e})=>{const t=(0,r.A)(),{isLoading:n,items:s}=(0,f.A)(e),[c,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{null!==!s&&l(!1)},[s]);if(c)return(0,o.jsx)(a.OrA,{style:{width:p,height:g},children:t.use("vkcom_inline_sent")});if(n)return(0,o.jsx)(k,{children:new Array(9).fill(1).map((e,t)=>(0,o.jsx)(h.A.Skeleton,{},t))});return!(null===s)&&s.length>0?(0,o.jsx)(k,{children:s.map(e=>(0,o.jsx)(h.A,{item:e,onClick:()=>(async e=>{l(!0),await(0,u.A)(e.fullurl),l(!1),(0,d.e8)()})(e)},e.pageid))}):(0,o.jsx)(a.OrA,{style:{width:p,height:g},children:t.use("global_not_found")})},A=({query:e})=>(0,o.jsx)(c.A,{children:(0,o.jsx)(v,{query:e})});s()}catch(e){s(e)}})}}]);