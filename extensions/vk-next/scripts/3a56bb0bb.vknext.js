"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[159],{1003:(e,t,o)=>{o.d(t,{A:()=>n});const n=(e=window.location.pathname)=>{const t=e.match(/^\/?gim(\d+)/);return t&&t[1]?-parseInt(t[1]):window.vk.id}},3154:(e,t,o)=>{o.d(t,{A:()=>g});var n=o(37445);var i=o(43061);var r=o(32488),c=o(22924),a=o(93819),l=o(52968),s=o(65879),d=o(43024),u=o(74848),_=o(89307);const m=async e=>{const{default:t}=await Promise.all([o.e(8414),o.e(9418),o.e(2295),o.e(8238),o.e(7887),o.e(8510),o.e(3506),o.e(9988),o.e(4199)]).then(o.bind(o,48336));return(0,_.A)((0,u.jsx)(t,{messageId:e}))},g=async(e,t)=>{const u=e.querySelector(".ActionsMenu");if(!u)return!1;const _=await a.A,g=(await(0,s.A)()).store.getState().convos.get(t.peerId),{updatedAt:p,cmid:v}=t,{peerId:h}=g,f=!!g.unreadReactions&&g.unreadReactions.has(t.cmid),A=t.authorId!==window.vk.id&&(k=g,(w=t).peerId===k.peerId&&("Queued"===w.kind||(w.isOut?w.cmid>k.outReadBy:w.cmid>k.inReadBy)));var k,w;const C=d.default.getValue("showAttachDownloadButtons")&&(Object.keys(t.attaches).length>0||(t.forwardedMessages?.length??0)>0),b=p&&await(async()=>!(!d.default.getValue("showMessageHistory")||!await(0,r.default)()))();return(b||A||f||C)&&u.append((0,c.y)({})),b&&u.append((0,c.h)({title:_.use("vkcom_message_action_editing_history"),leftIcon:i.A,rightIcon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="-10" x2="10" y1="10" y2="30"><stop offset="0" stop-color="#ffb73d"/><stop offset="1" stop-color="#ffa000"/></linearGradient><path d="m0 10c0-5.52285 4.47715-10 10-10 5.5228 0 10 4.47715 10 10 0 5.5228-4.4772 10-10 10-5.52285 0-10-4.4772-10-10z" fill="url(#a)"/><path d="m11.8049 7.56621 2.3897.23458c.8315.08162 1.0865.91267.4444 1.45865l-1.8709 1.59086.6946 2.5917c.2281.8511-.4796 1.3664-1.1884.8541l-2.2732-1.6428-2.27325 1.6428c-.70591.5102-1.41644-.0029-1.18832-.8541l.69453-2.5917-1.87088-1.59086c-.64478-.54828-.39077-1.37666.44431-1.45865l2.38928-.23458 1.05266-2.48315c.32965-.77762 1.17387-.77723 1.50327.00008z" fill="#fff"/></svg>',onClick:async()=>{const{items:e}=await window.vkApi.api("messages.getByConversationMessageId",{conversation_message_ids:v,peer_id:h,group_id:(0,l.A)()});let t=e[0]?.id;if(!t){const{default:e}=await o.e(1691).then(o.bind(o,31691)),n=Object.values(await e.getStorage()).flat().find(e=>e.peer_id===h&&("NewMessage"===e.kind?e.conversation_message_id===v:e.conversationMessageId===v));t=n?.id}await m(t)}})),(A||f)&&u.append((0,c.h)({title:_.use("vkcom_message_action_mark_read"),leftIcon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m13.7803 7.71967c.2929.29289.2929.76777 0 1.06066l-3.99997 3.99997c-.29289.2929-.76777.2929-1.06066 0l-2-2c-.29289-.2929-.29289-.7677 0-1.06063.29289-.29289.76777-.29289 1.06066 0l1.46967 1.46963 3.4697-3.46963c.2929-.29289.7677-.29289 1.0606 0z"/><path clip-rule="evenodd" d="m3.24205 18.5003c-.20879.0064-.41564-.0417-.60025-.1395-.58789-.3112-.81212-1.0402-.50085-1.628.6439-1.2162 1.01604-2.14 1.12122-2.7294-.81883-1.1846-1.26217-2.5635-1.26217-4.0034 0-4.17011 3.681-7.5 8.25-7.5s8.25 3.32989 8.25 7.5c0 4.1701-3.681 7.5-8.25 7.5-.91801 0-1.81315-.1339-2.65971-.3932-.99677.8816-2.45591 1.3359-4.34824 1.3935zm3.5864-2.7488c.20481-.2316.53074-.3137.82087-.207.81314.2993 1.69151.4555 2.60068.4555 3.7722 0 6.75-2.6937 6.75-6 0-3.30628-2.9778-6-6.75-6-3.77224 0-6.75 2.69372-6.75 6 0 1.2108.39926 2.3669 1.13941 3.349.10607.1408.15919.3144.15003.4904-.0393.7557-.40247 1.7849-1.08427 3.1344 1.48321-.1154 2.51409-.5335 3.12328-1.2223z" fill-rule="evenodd"/></g></svg>\n',onClick:async()=>{await window.vkApi.api("messages.markAsRead",{peer_id:h,up_to_cmid:t.cmid,mark_conversation_as_read:1,group_id:(0,l.A)()})}})),C&&u.append((0,c.h)({title:_.use("vkcom_message_action_download_attaches"),leftIcon:n.A,onClick:async()=>{const{default:e}=await Promise.all([o.e(1142),o.e(8192),o.e(6091)]).then(o.bind(o,76091));await e(t)}})),!0}},17100:(e,t,o)=>{o.d(t,{Ay:()=>s,Fs:()=>l,Hb:()=>a});var n=o(74848),i=o(96540);const r=(0,i.createContext)(null),c=()=>{const e=(0,i.useContext)(r);if(!e)throw new Error("CustomModalPageContext has not been passed in provider");return e},a=()=>{const e=c();return{closeModal:()=>e.setOpen(!1)}},l=()=>{const{onClose:e,onClosed:t,onOpen:o,onOpened:n,open:i,setOpen:r}=c();return{open:i,setOpen:r,onClose:e,onClosed:t,onOpen:o,onOpened:n}},s=({onClose:e,onClosed:t,onOpen:o,onOpened:c,...a})=>{const[l,s]=(0,i.useState)(!0);return(0,n.jsx)(r.Provider,{value:{open:l,setOpen:s,onClose:e,onClosed:t,onOpen:o,onOpened:c},...a})}},22924:(e,t,o)=>{o.d(t,{h:()=>l,y:()=>d});var n=o(39107),i=o(53339),r=o(53644);const c={large:i.A["ActionsMenuAction--size-large"],regular:i.A["ActionsMenuAction--size-regular"],max:i.A["ActionsMenuAction--size-max"]},a={primary:i.A["ActionsMenuAction--primary"],secondary:i.A["ActionsMenuAction--secondary"],danger:i.A["ActionsMenuAction--danger"],warning:i.A["ActionsMenuAction--warning"]},l=({leftIcon:e,rightIcon:t,title:o,subtitle:l,type:s="secondary",size:d="regular",isActive:u=!1,isLoading:_,titleClassName:m,onClick:g,href:p,target:v})=>{const h=document.createElement(p?"a":"button");if(p&&h.setAttribute("href",p),v&&h.setAttribute("target",v),h.className=(0,n.xWm)(i.A.ActionsMenuAction,i.A["ActionsMenuAction--hover"],(g||p)&&i.A["ActionsMenuAction--clickable"],a[s],_&&i.A["ActionsMenuAction--loading"],u&&i.A["ActionsMenuAction--active"],c[d]),g&&h.addEventListener("click",g),e){const t=document.createElement("i");t.className=i.A.ActionsMenuAction__icon,t.append((0,r.A)(e)),h.appendChild(t)}const f=document.createElement("span");if(f.className=(0,n.xWm)(i.A.ActionsMenuAction__title,m),f.textContent=o,l){const e=document.createElement("span");e.className=i.A.ActionsMenuAction__subtitle,e.textContent=l,f.appendChild(e)}if(h.appendChild(f),t){const e=document.createElement("i");e.className=i.A.ActionsMenuAction__icon,e.append((0,r.A)(t)),h.appendChild(e)}return h};var s=o(44511);const d=({className:e})=>{const t=document.createElement("div");return t.role="separator",t.className=(0,n.xWm)(s.A.ActionsMenuActionSeparator,e),t}},23016:(e,t,o)=>{o.a(e,async(e,n)=>{try{o.r(t);var i=o(57580),r=o(95728),c=o(22707),a=o(38729),l=o(92128),s=o(45939),d=o(43024),u=o(72853),_=o(43263),m=o(97833),g=o(25804),p=o(3154),v=e([i]);i=(v.then?(await v)():v)[0];const h=(0,a.NS)(),f=e=>{const t=e.closest("#fastchat-reforged-modals,#reforged-modal-root,.VKCOMMessenger__reforgedModalRoot");return!!t&&t.querySelector(".MessageActionsContent__wrapper,.MessageActionsContent__wrapper--with-reactions")},A=async e=>{for(const t of e)for(const e of t.addedNodes){if(1!==e.nodeType)continue;await(0,c.t)();const t=e.querySelector(".DropdownReforged__contentWrapper,.ContextMenu__contentWrapper,.RE_ContextMenu__contentWrapper");if(!t)continue;const o=(0,r.A)(t);if(!o.props)continue;const n=(o.props.children?.[0]||o.props.children)?.props,i=n?.className||"";if(i.startsWith("Clip__ActionsMenu"))return void(0,u.A)(t).catch(console.error);if(i.startsWith("BurgerMenu__actionsMenu"))return void(0,g.A)(t).catch(console.error);if(t.querySelector(".ConvoMainActionsMenu"))return void 0;if(i.startsWith("ConvoListItem__actionsMenu"))return void(0,_.A)(t,n?.convo).catch(console.error);const a=f(t);if(i.includes("ActionsMenu--dropdown")&&a){return void(a.querySelector(".ActionsMenuAction--active .vkuiIcon--message_cross_outline_20,.ActionsMenuAction:hover .vkuiIcon--message_cross_outline_20")&&(0,m.A)(t,a).catch(console.error))}const l=n?.message,s=n?.convo;if(s&&!l)return void(0,_.A)(t,n.convo).catch(console.error);if(l)return void(0,p.A)(t,n.message).catch(console.error)}},k=e=>{e[h]||(e[h]=new MutationObserver(A),e[h].observe(e,{childList:!0}),e.parentElement!==document.body&&s.A.add(e))};let w=null;const C=()=>{w&&(w(),w=null),w=(0,l.A)(k)};0,d.default.onInited(C),n()}catch(e){n(e)}})},24560:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(89307);const i=async()=>{const{default:e}=await Promise.all([o.e(961),o.e(7397),o.e(1649),o.e(8414),o.e(8726)]).then(o.bind(o,88726));return(0,n.A)(e,{zIndex:501})}},25620:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(52968),i=o(43024),r=o(37573);const c=e=>{"string"==typeof e&&(e=parseInt(e));const t=Math.abs((0,n.A)()),o=i.default.getValue("silentwriteinclgim"),c=i.default.getValue("silentwriteexclgim");let a=o[t]||[],l=c[t]||[],s=!1;return t||(a=i.default.getValue("silentwriteincl"),l=i.default.getValue("silentwriteexcl")),(0,r.A)(e,t)?(a.includes(e)&&a.splice(a.indexOf(e),1),l.includes(e)||l.push(e),s=!1):(l.includes(e)&&l.splice(l.indexOf(e),1),a.includes(e)||a.push(e),s=!0),t?(o[t]=a,c[t]=l,i.default.setValue("silentwriteinclgim",o),i.default.setValue("silentwriteexclgim",c)):(i.default.setValue("silentwriteincl",a),i.default.setValue("silentwriteexcl",l)),s}},25804:(e,t,o)=>{o.d(t,{A:()=>s});const n=()=>'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.08 3.5C5.42 3.5 5.06 3.67 4.72 3.85C4.34 4.05 4.05 4.35 3.85 4.72C3.67 5.06 3.5 5.42 3.5 7.08V12.92C3.5 14.58 3.67 14.94 3.85 15.28C4.05 15.66 4.35 15.95 4.72 16.15C5.06 16.33 5.42 16.5 7.08 16.5H12.92C14.58 16.5 14.94 16.33 15.28 16.15C15.66 15.95 15.95 15.65 16.15 15.28C16.33 14.94 16.5 14.58 16.5 12.92V7.08C16.5 5.42 16.33 5.06 16.15 4.72C15.95 4.34 15.65 4.05 15.28 3.85C14.94 3.67 14.58 3.5 12.92 3.5H7.08ZM4.01 2.53C4.66 2.18 5.31 2 7.08 2H12.92C14.69 2 15.34 2.18 15.99 2.53C16.63 2.87 17.13 3.37 17.47 4.01C17.82 4.66 18 5.31 18 7.08V12.92C18 14.69 17.82 15.34 17.47 15.99C17.1383 16.6187 16.6264 17.134 16 17.47C15.35 17.82 14.7 18 12.93 18H7.08C5.31 18 4.66 17.82 4.01 17.47C3.38132 17.1383 2.86598 16.6264 2.53 16C2.18 15.35 2 14.7 2 12.93V7.08C2 5.31 2.18 4.66 2.53 4.01C2.87 3.37 3.37 2.87 4.01 2.53Z" fill="currentColor"/><path d="M13.5 11.55C13.5139 11.8963 13.4439 12.2409 13.2959 12.5543C13.1479 12.8677 12.9263 13.1407 12.65 13.35C12.35 13.58 12.01 13.75 11.65 13.85C11.28 13.95 10.82 14 10.25 14H7V6H9.87C10.47 6 10.92 6.02 11.22 6.07C11.53 6.11 11.82 6.21 12.09 6.35C12.39 6.5 12.6 6.71 12.74 6.97C12.89 7.22 12.96 7.52 12.96 7.86C12.96 8.25 12.86 8.6 12.66 8.9C12.46 9.2 12.19 9.43 11.84 9.57V9.62C12.34 9.72 12.74 9.93 13.04 10.26C13.34 10.57 13.5 11.01 13.5 11.55ZM10.89 8.26C10.8888 8.12063 10.8545 7.98353 10.79 7.86C10.725 7.7232 10.6107 7.61603 10.47 7.56C10.34 7.51 10.17 7.48 9.99 7.48L9.17 7.47H9.03V9.16H9.29L10.02 9.15C10.16 9.15 10.31 9.1 10.45 9.04C10.5991 8.97912 10.7202 8.86509 10.79 8.72C10.85 8.59 10.89 8.44 10.89 8.26ZM11.39 11.51C11.4054 11.3068 11.3564 11.1038 11.25 10.93C11.1318 10.7823 10.9713 10.6741 10.79 10.62C10.66 10.57 10.49 10.54 10.27 10.54L9.41 10.53H9.03V12.53H10.24C10.44 12.52 10.65 12.47 10.86 12.38C11.0293 12.3123 11.1705 12.1888 11.26 12.03C11.36 11.88 11.4 11.71 11.4 11.51H11.39Z" fill="currentColor"/></svg>',i=()=>'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.01 2.53C4.66 2.18 5.31 2 7.08 2H12.92C14.69 2 15.34 2.18 15.99 2.53C16.63 2.87 17.13 3.37 17.47 4.01C17.82 4.66 18 5.31 18 7.08V12.92C18 14.69 17.82 15.34 17.47 15.99C17.1383 16.6187 16.6264 17.134 16 17.47C15.35 17.82 14.7 18 12.93 18H7.08C5.31 18 4.66 17.82 4.01 17.47C3.38132 17.1383 2.86598 16.6264 2.53 16C2.18 15.35 2 14.7 2 12.93V7.08C2 5.31 2.18 4.66 2.53 4.01C2.87 3.37 3.37 2.87 4.01 2.53ZM15.28 16.15C14.94 16.33 14.58 16.5 12.92 16.5H9V3.5H12.92C14.58 3.5 14.94 3.67 15.28 3.85C15.66 4.05 15.95 4.35 16.15 4.72C16.33 5.06 16.5 5.42 16.5 7.08V12.92C16.5 14.58 16.33 14.94 16.15 15.28C15.95 15.66 15.65 15.95 15.28 16.15ZM7.08 3.5C5.42 3.5 5.06 3.67 4.72 3.85C4.34 4.05 4.05 4.35 3.85 4.72C3.67 5.06 3.5 5.42 3.5 7.08V12.92C3.5 14.58 3.67 14.94 3.85 15.28C4.05 15.66 4.35 15.95 4.72 16.15C5.06 16.33 5.42 16.5 7.08 16.5H7.5V3.5H7.08Z" fill="currentColor"/></svg>';var r=o(22924),c=o(93819),a=o(67078),l=o(65879);const s=async e=>{const t=e.querySelector(".vkuiIcon--gear_outline_20");if(!t)return!1;const o=t.closest(".ActionsMenuAction");if(!o)return!1;const s=o.parentElement,d=await c.A,{store:u,browserEnv:_}=await(0,l.A)(),m=!u.getState().VKCOMRightColumnConvos.isVisible;return s.append((0,r.h)({title:d.use(m?"vkcom_change_ui_new":"vkcom_change_ui_classic"),leftIcon:m?i():n(),onClick:async()=>{try{await window.vkApi.api("messages.setConfig",{config:JSON.stringify({reforged_enabled:m?"disabled":"enabled"})}),window.location.replace("/im")}catch{(0,a.A)({type:"error",text:_.lang.use("me_switch_interface_modal_error")})}}})),!0}},37445:(e,t,o)=>{o.d(t,{A:()=>n});const n='<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="m4 17.75c0-.4142.33579-.75.75-.75h10.5c.4142 0 .75.3358.75.75s-.3358.75-.75.75h-10.5c-.41421 0-.75-.3358-.75-.75z" fill-rule="evenodd"/><path d="m10.7493 2.72581c0-.40086-.3355-.72581-.74931-.72581-.41385 0-.74933.32495-.74933.72581l-.00001 9.72199-3.97032-3.97029c-.29289-.29289-.76777-.29289-1.06066 0s-.29289.76777 0 1.06066l5.24532 5.24533c.2929.2929.76781.2929 1.06071 0l5.2558-5.25585c.2929-.2929.2929-.76777 0-1.06067-.2929-.29289-.7678-.29289-1.0606 0l-3.9716 3.97152z"/></g></svg>\n'},43061:(e,t,o)=>{o.d(t,{A:()=>n});const n='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 5.75a.75.75 0 0 1 .75.75v2.837c0 .129 0 .2.003.255a.238.238 0 0 0 .067.164c.037.04.088.09.18.182l1.533 1.531a.75.75 0 1 1-1.06 1.062c-.523-.522-1.044-1.045-1.568-1.566a2.569 2.569 0 0 1-.397-.464 1.75 1.75 0 0 1-.21-.507c-.049-.204-.048-.414-.048-.61.002-.96 0-1.922 0-2.884a.75.75 0 0 1 .75-.75Z M8.106 3.261a7 7 0 1 1-2.847 11.89.75.75 0 0 0-1.015 1.103A8.5 8.5 0 1 0 4 3.98v-.976a.75.75 0 0 0-1.5 0v2.36c0 .058 0 .139.006.212.007.088.027.229.103.379a1 1 0 0 0 .437.437c.15.076.29.096.379.103.073.006.154.006.212.006H6A.75.75 0 0 0 6 5h-.899a7 7 0 0 1 3.005-1.739Z"/></svg>\n'},43263:(e,t,o)=>{o.d(t,{A:()=>p});var n=o(43027),i=o(7618);var r=o(22924),c=o(93819),a=o(52968),l=o(11860),s=o(37573),d=o(65123),u=o(25620);const _=(e,t)=>{const o=(0,l.A)(e,Math.abs((0,a.A)())),i=(0,r.h)({title:o?t.use("vkcom_action_item_off_unreads"):t.use("vkcom_action_item_on_unreads"),leftIcon:o?'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="m13 10c0 1.6569-1.3431 3-3 3-1.65685 0-3-1.3431-3-3 0-1.65685 1.34315-3 3-3 1.6569 0 3 1.34315 3 3zm-1.5 0c0 .8284-.6716 1.5-1.5 1.5-.82843 0-1.5-.6716-1.5-1.5 0-.82843.67157-1.5 1.5-1.5.8284 0 1.5.67157 1.5 1.5z"/><path d="m19 10c0 3.5-5 6-9 6s-9-2.5-9-6 5-6 9-6 9 2.5 9 6zm-1.5 0c0 .9827-.7194 2.0838-2.2785 3.0303-1.5161.9205-3.497 1.4697-5.2215 1.4697-1.72451 0-3.70538-.5492-5.22153-1.4697-1.55903-.9465-2.27847-2.0476-2.27847-3.0303 0-.98269.71944-2.08377 2.27847-3.03032 1.51615-.92052 3.49702-1.46968 5.22153-1.46968 1.7245 0 3.7054.54916 5.2215 1.46968 1.5591.94655 2.2785 2.04763 2.2785 3.03032z"/></g></svg>\n':'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="m9.96409 5.50008c-.41421.00175-.75141-.33262-.75316-.74683s.33261-.75141.74682-.75316c2.04625-.00433 4.14705.55107 5.91835 1.57757 1.6904.9797 3.1239 2.49008 3.1239 4.42234 0 1.003-.3931 1.9011-.9987 2.6586-.2586.3235-.7306.3761-1.0541.1175-.3235-.2587-.3761-.7307-.1174-1.0542.4423-.5533.6702-1.1308.6702-1.7219 0-1.13024-.8582-2.24486-2.3761-3.12454-1.5415-.89336-3.379-1.37914-5.15981-1.37538z"/><path d="m4.12393 14.4223c1.71949.9966 3.91189 1.5777 5.87607 1.5777 1.6051 0 3.3554-.3877 4.8731-1.0662l.8466.8465c.2929.2929.7677.2929 1.0606 0s.2929-.7677 0-1.0606l-11.49997-11.50003c-.29289-.29289-.76777-.29289-1.06066 0s-.29289.76777 0 1.06066l.82368.82368c-.97432.44497-1.86993 1.01989-2.57015 1.71188-.86677.85657-1.4732 1.93578-1.4732 3.18411 0 1.9323 1.43347 3.4426 3.12393 4.4223zm4.37607-4.4223c0 .8284.67157 1.5 1.5 1.5.3988 0 .7612-.1556 1.0299-.4094l-2.12046-2.1205c-.25382.26868-.40944.63112-.40944 1.0299zm-1.5 0c0 1.6569 1.34315 3 3 3 .813 0 1.5505-.3234 2.0908-.8486l1.6344 1.6345c-1.2016.4584-2.5235.7141-3.7252.7141-1.70249 0-3.63509-.5126-5.12393-1.3755-1.51787-.8796-2.37607-1.9943-2.37607-3.1245 0-.73107.35091-1.4485 1.02757-2.1172.66034-.65257 1.59343-1.21729 2.6597-1.63487l1.6613 1.6613c-.52517.5403-.84857 1.27777-.84857 2.09077z"/></g></svg>\n',onClick:o=>{(0,d.A)(e),(0,n.A)(o),i.replaceWith(_(e,t))}});return i},m=(e,t)=>{const o=(0,s.A)(e,Math.abs((0,a.A)())),i=(0,r.h)({title:o?t.use("vkcom_action_item_off_unwriters"):t.use("vkcom_action_item_on_unwriters"),leftIcon:o?'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.076 2.649A2.215 2.215 0 0114.645 2c.566 0 1.135.216 1.568.649l1.137 1.136a2.21 2.21 0 010 3.133l-.941.94-9.17 9.179a3.296 3.296 0 01-2.33.963H3a1 1 0 01-1-1v-1.893a3.288 3.288 0 01.965-2.34l8.123-8.132 1.988-1.986zm2.286 4.135l.927-.926a.711.711 0 000-1.013l-1.137-1.136a.713.713 0 00-.507-.21.713.713 0 00-.507.21l-.927.926 2.15 2.149zM12.135 5.71l-8.109 8.118a1.79 1.79 0 00-.525 1.266V16.2a.3.3 0 00.3.3H4.91c.475 0 .931-.189 1.267-.525l8.11-8.118-2.152-2.148z" fill="currentColor"/></svg>\n':'<svg xmlns="http://www.w3.org/2000/svg" fill="none" height="20" viewBox="0 0 20 20" width="20"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="M 13.269531 2.707031 C 12.722656 3.066406 9.417969 6.386719 9.417969 6.574219 C 9.417969 6.644531 9.503906 6.847656 9.589844 7.039062 C 9.863281 7.535156 10.445312 7.429688 11.164062 6.730469 L 11.816406 6.097656 L 12.875 7.140625 L 13.9375 8.203125 L 13.304688 8.886719 C 12.601562 9.675781 12.601562 9.65625 12.84375 10.121094 C 13.21875 10.804688 13.75 10.515625 15.617188 8.597656 C 18.132812 6.042969 18.21875 5.445312 16.371094 3.613281 C 15.429688 2.6875 15.171875 2.515625 14.539062 2.449219 C 13.988281 2.398438 13.648438 2.464844 13.269531 2.707031 Z M 15.359375 4.65625 C 16.234375 5.515625 16.285156 5.925781 15.582031 6.59375 L 15.050781 7.089844 L 14.007812 6.027344 L 12.945312 4.984375 L 13.441406 4.453125 C 13.714844 4.179688 14.09375 3.9375 14.28125 3.9375 C 14.46875 3.9375 14.964844 4.265625 15.359375 4.65625 Z M 15.359375 4.65625"></path><path d="M 3.902344 3.542969 C 3.734375 3.597656 3.542969 3.820312 3.492188 4.058594 C 3.390625 4.433594 3.613281 4.726562 5.359375 6.472656 L 7.363281 8.476562 L 4.898438 10.957031 C 2.226562 13.648438 2.054688 13.9375 2.054688 15.71875 C 2.054688 17.363281 2.707031 17.980469 4.453125 17.980469 C 6.042969 17.980469 6.59375 17.652344 9.160156 15.070312 L 11.558594 12.671875 L 13.457031 14.570312 C 15.121094 16.234375 15.429688 16.472656 15.804688 16.371094 C 16.042969 16.320312 16.265625 16.113281 16.335938 15.890625 C 16.421875 15.546875 15.566406 14.640625 10.566406 9.625 C 7.347656 6.386719 4.589844 3.679688 4.453125 3.613281 C 4.316406 3.542969 4.058594 3.511719 3.902344 3.542969 Z M 9.503906 10.617188 L 10.53125 11.644531 L 8.390625 13.800781 C 7.207031 14.984375 6.042969 16.0625 5.789062 16.199219 C 5.53125 16.335938 4.929688 16.4375 4.453125 16.4375 L 3.597656 16.4375 L 3.597656 15.566406 C 3.597656 15.085938 3.679688 14.539062 3.785156 14.332031 C 3.972656 13.957031 8.21875 9.589844 8.390625 9.589844 C 8.441406 9.589844 8.9375 10.050781 9.503906 10.617188 Z M 9.503906 10.617188"></path></g></svg>',onClick:o=>{(0,u.A)(e),(0,n.A)(o),i.replaceWith(m(e,t))}});return i},g=(e,t)=>(0,r.h)({leftIcon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g stroke="currentColor" stroke-width="1.5"><path clip-rule="evenodd" d="m7.12777 2.75c-1.57064 0-2.15073.13703-2.72776.44563-.51922.27768-.9267.68516-1.20438 1.20438-.3086.57703-.44563 1.15712-.44563 2.72776v5.74443c0 1.5707.13703 2.1508.44563 2.7278.27768.5192.68516.9267 1.20438 1.2044.57703.3086 1.15712.4456 2.72776.4456h5.74443c1.5707 0 2.1508-.137 2.7278-.4456.5192-.2777.9267-.6852 1.2044-1.2044.3086-.577.4456-1.1571.4456-2.7278v-5.74443c0-1.57064-.137-2.15073-.4456-2.72776-.2777-.51922-.6852-.9267-1.2044-1.20438-.577-.3086-1.1571-.44563-2.7278-.44563z" fill-rule="evenodd"/><circle cx="10" cy="9" r="2.25"/><path d="m15.7547 16.75c-1.266-1.8135-3.3693-3-5.75-3-2.38069 0-4.48402 1.1865-5.75 3"/></g><path clip-rule="evenodd" d="m10 7.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5c.8284 0 1.5-.67157 1.5-1.5s-.6716-1.5-1.5-1.5zm-3 1.5c0-1.65685 1.34315-3 3-3 1.6569 0 3 1.34315 3 3 0 1.6569-1.3431 3-3 3-1.65685 0-3-1.3431-3-3z" fill="currentColor" fill-rule="evenodd"/><path clip-rule="evenodd" d="m7.12777 2c-1.61028 0-2.34014.1378-3.08146.53427-.64992.34758-1.16446.86212-1.51204 1.51204-.39647.74132-.53427 1.47118-.53427 3.08146v5.74443c0 1.6103.1378 2.3402.53427 3.0815.34758.6499.86212 1.1645 1.51204 1.512.74132.3965 1.47118.5343 3.08146.5343h5.74443c1.6103 0 2.3402-.1378 3.0815-.5343.6499-.3475 1.1645-.8621 1.512-1.512.3965-.7413.5343-1.4712.5343-3.0815v-5.74443c0-1.61028-.1378-2.34014-.5343-3.08146-.3475-.64992-.8621-1.16446-1.512-1.51204-.7413-.39647-1.4712-.53427-3.0815-.53427zm5.74443 14.5c.7794 0 1.2735-.0353 1.6253-.0991-1.1377-1.173-2.7301-1.9009-4.4928-1.9009-1.76339 0-3.35642.7285-4.49422 1.9023.35127.0629.84381.0977 1.61729.0977zm-8.11849-12.64301c.41273-.22074.84306-.35699 2.37406-.35699h5.74443c1.531 0 1.9614.13625 2.3741.35699.3885.20778.6889.5082.8967.89672.2207.41273.357.84306.357 2.37406v5.74443c0 1.531-.1363 1.9614-.357 2.3741-.0816.1525-.1774.2915-.2872.4165-1.4211-1.6306-3.5155-2.6628-5.8511-2.6628-2.33814 0-4.43456 1.0345-5.85573 2.6682-.11183-.1265-.20925-.2672-.29198-.4219-.22074-.4127-.35699-.8431-.35699-2.3741v-5.74443c0-1.531.13625-1.96133.35699-2.37406.20778-.38852.5082-.68894.89672-.89672zm2.24629 5.14301c0-1.65685 1.34315-3 3-3 1.6569 0 3 1.34315 3 3 0 1.6569-1.3431 3-3 3-1.65685 0-3-1.3431-3-3zm3-1.5c-.82843 0-1.5.67157-1.5 1.5s.67157 1.5 1.5 1.5c.8284 0 1.5-.67157 1.5-1.5s-.6716-1.5-1.5-1.5z" fill="currentColor" fill-rule="evenodd"/></svg>\n',title:t.use("vkcom_convo_action_open_convo_profile"),onClick:()=>{const t=new URL(window.location.href);t.searchParams.set("rp",`peer${e}`),nav.go(t.pathname+t.search)}}),p=async(e,t)=>{const o=e.querySelector(".ActionsMenu");if(!o)return!1;const{peerId:n}=t,a=await c.A,l=[g(n,a)];if(i.z.isUserId(n)){const e=`https://vk.ru/id${n}`;l.push((0,r.h)({leftIcon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m5.83516 15.6268c1.16385.8628 2.60474 1.3732 4.16484 1.3732s3.001-.5104 4.1648-1.3732c-1.222-.7162-2.6445-1.1268-4.1648-1.1268-1.52026 0-2.94281.4106-4.16484 1.1268zm-1.13951-1.0589c-1.05673-1.226-1.69565-2.8223-1.69565-4.5679 0-3.86599 3.13401-7 7-7 3.866 0 7 3.13401 7 7 0 1.7456-.6389 3.3419-1.6957 4.5679-1.5269-.9918-3.3494-1.5679-5.3043-1.5679-1.95487 0-3.77736.5761-5.30435 1.5679zm5.30435-13.0679c-4.69442 0-8.5 3.80558-8.5 8.5 0 4.6944 3.80558 8.5 8.5 8.5 4.6944 0 8.5-3.8056 8.5-8.5 0-4.69442-3.8056-8.5-8.5-8.5zm-1.5 7c0 .82843.67157 1.5 1.5 1.5.8284 0 1.5-.67157 1.5-1.5s-.6716-1.5-1.5-1.5c-.82843 0-1.5.67157-1.5 1.5zm1.5-3c-1.65685 0-3 1.34315-3 3 0 1.6569 1.34315 3 3 3 1.6569 0 3-1.3431 3-3 0-1.65685-1.3431-3-3-3z" fill="currentColor" fill-rule="evenodd"/></svg>\n',title:a.use("vkcom_convo_action_open_profile"),href:e,target:"_blank",onClick:()=>{window.open(e,"_blank")}}))}else if(i.z.isGroupId(n)){const e=`https://vk.ru/club${Math.abs(n)}`;l.push((0,r.h)({leftIcon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m10 7.75c-.69035 0-1.25-.55964-1.25-1.25s.55965-1.25 1.25-1.25c.6904 0 1.25.55964 1.25 1.25s-.5596 1.25-1.25 1.25zm-2.75-1.25c0-1.51878 1.23122-2.75 2.75-2.75 1.5188 0 2.75 1.23122 2.75 2.75s-1.2312 2.75-2.75 2.75c-1.51878 0-2.75-1.23122-2.75-2.75zm-.5 7.25c0-.416.23146-.8281.79622-1.1719.57279-.3486 1.42871-.5781 2.45378-.5781 1.0251 0 1.881.2295 2.4538.5781.5648.3438.7962.7559.7962 1.1719 0 .2928-.0995.4441-.2185.5393-.1416.1133-.3959.2107-.7815.2107h-4.5c-.3856 0-.63988-.0974-.78147-.2107-.11907-.0952-.21853-.2465-.21853-.5393zm3.25-3.25c-1.22492 0-2.369.2705-3.23371.7969-.87274.5312-1.51629 1.3691-1.51629 2.4531 0 .7072.27555 1.3059.78148 1.7107.48341.3867 1.10413.5393 1.71852.5393h4.5c.6144 0 1.2351-.1526 1.7185-.5393.506-.4048.7815-1.0035.7815-1.7107 0-1.084-.6435-1.9219-1.5163-2.4531-.8647-.5264-2.0088-.7969-3.2337-.7969zm4.0059-5.58802c.0583-.41009.438-.69529.8481-.637 1.2133.17245 2.146 1.21418 2.146 2.47503 0 1.38072-1.1193 2.5-2.5 2.5-.4142 0-.75-.33578-.75-.75 0-.41421.3358-.75.75-.75.5523 0 1-.44771 1-1 0-.50344-.3727-.92112-.8571-.98996-.4101-.05828-.6953-.43798-.637-.84807zm1.7429 5.08802c-.4142 0-.75.3358-.75.75s.3358.75.75.75c1.1585 0 1.7511.6726 1.7511 1.25 0 .2164-.0737.415-.1855.5474-.1.1184-.243.2026-.4644.2026-.4142 0-.75.3358-.75.75s.3358.75.75.75c1.4281 0 2.1499-1.2097 2.1499-2.25 0-1.7116-1.6072-2.75-3.2511-2.75zm-10.7488.75c0-.4142-.33578-.75-.75-.75-1.64389 0-3.251099 1.0384-3.251099 2.75 0 1.0403.721739 2.25 2.149879 2.25.41422 0 .75-.3358.75-.75s-.33578-.75-.75-.75c-.22142 0-.36439-.0842-.46438-.2026-.11184-.1324-.1855-.331-.1855-.5474 0-.5774.59256-1.25 1.7511-1.25.41422 0 .75-.3358.75-.75zm.14232-6.4745c.41-.05889.79012.22573.84902.63574.0589.41-.22573.79012-.63573.84902-.48363.06948-.85561.48682-.85561.98975 0 .55229.44772 1 1 1 .41422 0 .75.33579.75.75 0 .41422-.33578.75-.75.75-1.38071 0-2.5-1.11929-2.5-2.5 0-1.25958.93081-2.30047 2.14232-2.47451z" fill="currentColor" fill-rule="evenodd"/></svg>\n',title:a.use("vkcom_convo_action_open_group"),href:e,target:"_blank",onClick:()=>{window.open(e,"_blank")}}))}return o.prepend(...l,(0,r.y)({}),m(n,a),_(n,a),(0,r.y)({})),!0}},44511:(e,t,o)=>{o.d(t,{A:()=>n});const n={ActionsMenuActionSeparator:"JUUAV9aJuLWPapUx"}},45939:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(49032),i=(o(98570),o(91570)),r=o(73737);class c extends r.A{async initClear(){if(this.isClearInit)return;this.isClearInit=!0;const e=(await(0,i.R)()).onLocationChange(t=>{t.startsWith("im")||t.startsWith("/im")||n.lz.test(t)||(this.clear(),e(),this.isClearInit=!1)})}}const a=new c},47648:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(49032),i=o(7417),r=o(51018),c=o(22707),a=o(91570);const l=(0,o(38729).sr)(),s=new r.e,d=()=>{if(document.querySelector(".im-page:not(.im-page_group)"))return void setTimeout(d,1e3);const e=document.querySelector("#reforged-root,.VKCOMMessenger__reforgedRoot");e?e.querySelector(".VKCOMMessenger__skeletonWrapper")?setTimeout(d,500):(e=>{if(!e[l]){e[l]=!0;for(const t of s.listeners)t(e)}})(e):0===document.getElementById("wrap3")?.children.length&&setTimeout(d,500)},u=async e=>{if(document.getElementsByClassName("im-page")[0]&&!e)return void(0,i.n)(()=>u(!0));const t=await(0,a.R)();d(),t.onLocationChange(async e=>{await(0,c.t)(),n.lz.test(e)&&d()})};let _=!1;const m=e=>{const t=s.addListener(e);return(0,i.n)(d),_||(_=!0,u()),t}},49032:(e,t,o)=>{o.d(t,{Fl:()=>c,XZ:()=>r,hj:()=>i,lz:()=>n,pz:()=>l});const n=/(^|\/)al_im\.php|(^|\/)im(\?|$)|(^|\/)gim\d+|\/write-?\d+/,i=/(^|\/)al_im\.php|(^|\/)im(\?|$)|\/write-?\d+|\/im\/.*/,r={"--accent":"--vkui--color_icon_accent","--background_content":"--vkui--color_background_content","--background_highlighted":"--vkui--color_transparent--active","--background_hover":"--vkui--color_transparent--hover","--background_light":"--vkui--color_background_tertiary","--background_page":"--vkui--color_background","--background_suggestions":"--vkui--color_background_modal","--button_commerce_background":"--vkui--color_text_positive","--button_secondary_background":"--vkui--color_background_secondary_alpha","--button_secondary_destructive_foreground":"--vkui--color_background_negative","--content_tint_background":"--vkui--color_background_secondary","--content_warning_background":"--vkui--color_background_warning","--counter_prominent_text":"--vkui--color_text_contrast","--destructive":"--vkui--color_text_negative","--dynamic_gray":"--vkui--color_accent_gray","--dynamic_green":"--vkui--color_accent_green","--dynamic_orange":"--vkui--color_accent_orange","--dynamic_purple":"--vkui--color_accent_purple","--dynamic_red":"--vkui--color_accent_red","--dynamic_violet":"--vkui--color_accent_violet","--dynamic_blue":"--vkui--color_accent_blue","--dynamic_raspberry_pink":"--vkui--color_accent_raspberry_pink","--field_background":"--vkui--color_field_background","--field_border":"--vkui--color_field_border_alpha","--field_error_background":"--vkui--color_background_negative_tint","--field_error_border":"--vkui--color_stroke_negative","--field_valid_border":"--vkui--color_stroke_positive","--header_background":"--vkui--color_header_background","--header_tint_alternate":"--vkui--color_icon_accent_themed","--icon_alpha_placeholder":"--vkui--color_icon_contrast","--icon_medium_alpha":"--vkui--color_icon_medium_alpha","--icon_medium":"--vkui--color_icon_medium","--icon_secondary_alpha":"--vkui--color_icon_secondary_alpha","--icon_secondary":"--vkui--color_icon_secondary","--icon_tertiary_alpha":"--vkui--color_icon_tertiary_alpha","--icon_tertiary":"--vkui--color_icon_tertiary","--image_border":"--vkui--color_image_border_alpha","--input_background":"--vkui--color_write_bar_input_background","--input_border":"--vkui--color_write_bar_input_border_alpha","--link_alternate":"--vkui--color_text_link_themed","--loader_track_fill":"--vkui--color_track_background","--loader_track_value_fill":"--vkui--color_track_buffer","--placeholder_icon_background_opaque":"--vkui--color_image_placeholder_alpha","--placeholder_icon_background":"--vkui--color_image_placeholder","--search_bar_field_background":"--vkui--color_search_field_background","--segmented_control_bar_background":"--vkui--color_segmented_control","--separator_alpha":"--vkui--color_separator_primary_alpha","--separator_alternate":"--vkui--color_separator_secondary","--separator_common":"--vkui--color_separator_primary","--skeleton_foreground_from":"--vkui--color_skeleton_from","--skeleton_foreground_to":"--vkui--color_skeleton_to","--text_link":"--vkui--color_text_link","--text_muted":"--vkui--color_text_muted","--text_primary":"--vkui--color_text_primary","--text_secondary":"--vkui--color_text_secondary","--text_subhead":"--vkui--color_text_subhead","--text_tertiary":"--vkui--color_text_tertiary","--writebar_icon":"--vkui--color_write_bar_icon","--gray_400":"--vkui--color_text_secondary","--gray_500":"--vkui--color_text_subhead","--gray_600":"--vkui--color_text_subhead","--gray_900":"--vkui--color_text_muted","--im_forward_line_tint":"--vkui--vkontakte_color_im_forward_line_alpha","--im_bubble_incoming":"--vkui--vkontakte_color_im_bubble_incoming","--im_bubble_incoming_alternate":"--vkui--vkontakte_color_im_bubble_incoming_alternate","--im_bubble_incoming_expiring":"--vkui--vkontakte_color_im_bubble_incoming_expiring","--im_bubble_border_alternate_highlighted":"--vkui--vkontakte_color_im_bubble_border_alternate_highlighted_alpha","--modal_card_background":"--vkui--color_background_modal","--im_bubble_outgoing":"--vkui--vkontakte_color_im_bubble_outgoing"},c=1e3,a=globalThis.navigator.hardwareConcurrency||1,l=Math.max(1,Math.floor(a/2))},52968:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(7618),i=o(1003);const r=()=>{if(window.cur.gid&&n.z.isGroupId(window.cur.gid))return window.cur.gid;const e=(0,i.A)();return n.z.isGroupId(e)?e:0}},53339:(e,t,o)=>{o.d(t,{A:()=>n});const n={ActionsMenuAction:"Qz12flm1ckhwWMRi","ActionsMenuAction--clickable":"zqSAHhp0mZkpJyJv","ActionsMenuAction--loading":"maWKomPpZn38CGdY",ActionsMenuAction__title:"f5DiFbY0HMzfonGH","ActionsMenuAction--hover":"eArigbMXC9scSDcE","ActionsMenuAction--active":"dKO8yhdsvq5OQaLB","ActionsMenuAction--size-mini":"_RpwxXrwB9cHW9y9","ActionsMenuAction--size-regular":"JSPJNQnfc0rmrUKc","ActionsMenuAction--size-large":"Kz6XOr7wirTW6rZ_","ActionsMenuAction--size-max":"I5pyzjxjokMaCjf_",ActionsMenuAction__icon:"CIshpRBaU1ScuMSN","ActionsMenuAction--primary":"shY5I45XLLb2peEz","ActionsMenuAction--secondary":"CHnF5e3RJGJOddfX","ActionsMenuAction--danger":"bdbcNwBFv_xx4hSf","ActionsMenuAction--warning":"dIPqyT74MfEGnvhg",ActionsMenuAction__subtitle:"Z9G_cg7qHFwNychh","ActionsMenuAction--multiline":"rdni9aRD2DN3OfDv"}},53644:(e,t,o)=>{o.d(t,{A:()=>i});let n=0;const i=e=>{const t=!!document.importNode;let o=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;t&&(o=document.importNode(o,!0));for(const e of o.querySelectorAll("title,desc"))e.remove();for(const e of o.querySelectorAll("[id]")){if(!e.id)continue;const t="vknext_icon-"+n++;let i=!1;for(const n of o.querySelectorAll(`[fill="url(#${e.id})"]`))n.setAttribute("fill",`url(#${t})`),i=!0;i&&(e.id=t)}return o}},65123:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(52968),i=o(43024),r=o(11860);const c=e=>{"string"==typeof e&&(e=parseInt(e));const t=Math.abs((0,n.A)()),o=i.default.getValue("silentreadinclgim"),c=i.default.getValue("silentreadexclgim");let a=o[t]||[],l=c[t]||[],s=!1;return t||(a=i.default.getValue("silentreadincl"),l=i.default.getValue("silentreadexcl")),(0,r.A)(e,t)?(a.includes(e)&&a.splice(a.indexOf(e),1),l.includes(e)||l.push(e),s=!1):(l.includes(e)&&l.splice(l.indexOf(e),1),a.includes(e)||a.push(e),s=!0),t?(o[t]=a,c[t]=l,i.default.setValue("silentreadinclgim",o),i.default.setValue("silentreadexclgim",c)):(i.default.setValue("silentreadincl",a),i.default.setValue("silentreadexcl",l)),s}},67078:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(74848),i=o(3068),r=o(75511);const c=document.createElement("div");c.className=r.A.Snackbars;const a=async e=>{const t=(await Promise.all([o.e(961),o.e(7397),o.e(1649),o.e(8414),o.e(5812)]).then(o.bind(o,25812))).default;document.body.contains(c)||document.body.appendChild(c);const r=document.createElement("div");c.appendChild(r);const{unmount:a}=await(0,i.A)({root:r,content:(0,n.jsx)(t,{onClose:()=>{a(),r.remove(),0===c.children.length&&c.remove()},...e}),disableParentTransformForPositionFixedElements:!0,noStyling:!0})}},68331:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(89307);const i=async()=>{const{default:e}=await Promise.all([o.e(961),o.e(7397),o.e(1649),o.e(8414),o.e(5539)]).then(o.bind(o,65539));return(0,n.A)(e,{zIndex:501})}},72853:(e,t,o)=>{o.d(t,{A:()=>p});var n=o(92046),i=o(7417),r=o(84436),c=o(22924),a=o(93819),l=o(43024),s=o(24560),d=o(91797),u=o(68331);const _=new r.A,m=e=>{e>0?(_.innerContent=`#reforged-modal-root .MEPopper .ActionsMenu.Clip__ActionsMenu{width:auto;min-width:150px}#reforged-modal-root .MEPopper .ActionsMenu.Clip__ActionsMenu:not(.vknextInternalComposer--injected){padding-bottom:calc(${e} * 32px + 9px + 4px)!important}`,_.use(!0)):_.use(!1)},g=()=>{let e=0;l.default.getValue("enableBtnGraffiti")&&(e+=1),l.default.getValue("enableBtnAudio")&&(e+=1),l.default.getValue("enableBtnVideoMessage")&&(e+=1),m(e),_.use(!0),l.default.addListener((e,t={})=>{let o=0;t.enableBtnGraffiti&&(o+=1),t.enableBtnAudio&&(o+=1),t.enableBtnVideoMessage&&(o+=1),m(o)})};l.default.onInited(()=>(0,i.n)(g));const p=async e=>{await(0,n.c)(0);const t=e.querySelector(".ActionsMenu");if(!t)return!1;t.classList.add("vknextInternalComposer--injected");const i=l.default.getValue("enableBtnGraffiti"),r=l.default.getValue("enableBtnAudio"),_=l.default.getValue("enableBtnVideoMessage");(i||r||_)&&t.append((0,c.y)({}));const m=await a.A;if(i){const{default:e}=await o.e(7539).then(o.bind(o,97539));t.append((0,c.h)({title:m.use("vkcom_graffiti"),leftIcon:e,onClick:d.A}))}if(r){const{default:e}=await o.e(4980).then(o.bind(o,74980));t.append((0,c.h)({title:m.use("vkcom_audio_message"),leftIcon:e,onClick:s.A}))}if(_){const{default:e}=await o.e(9009).then(o.bind(o,89009));t.append((0,c.h)({title:m.use("vkcom_video_message"),leftIcon:e,onClick:u.A}))}return!0}},75511:(e,t,o)=>{o.d(t,{A:()=>n});const n={Snackbars:"fuEF5ymRhcBAxInE",BaseSnackbar:"Fu47p889xWCKEooV"}},89307:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(74848),i=o(17100),r=o(3068);const c="d32BOj2kmVxWOEmy";let a=null,l=!1;const s=()=>{l||(l=!0,a=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden")},d="--vknext--z_index_modal",u=async(e,{zIndex:t}={})=>{const o=document.createElement("div"),u=document.createElement("div");t&&(o.className=c,u.className=c,u.style.setProperty(d,t.toString()),o.style.setProperty(d,t.toString())),document.body.appendChild(o),document.body.appendChild(u);const{unmount:_}=await(0,r.A)({root:o,portal:u,content:(0,n.jsx)(i.Ay,{onOpen:s,onClosed:()=>{setTimeout(()=>{l&&(l=!1,null!==a&&(document.body.style.overflow=a,a=null))},100),setTimeout(()=>{_(),o.remove(),u.remove()},1e3)},children:"function"==typeof e?(0,n.jsx)(e,{}):e}),disableParentTransformForPositionFixedElements:!0,disableAnchorTextDecoration:!0})}},91797:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(89307);const i=async()=>{const{default:e}=await Promise.all([o.e(961),o.e(7397),o.e(1649),o.e(8414),o.e(5109)]).then(o.bind(o,5109));return(0,n.A)(e,{zIndex:501})}},92128:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(7417),i=o(51018),r=o(38729),c=o(47648);const a=["#reforged-modal-root",".VKCOMMessenger__reforgedModalRoot","#fastchat-reforged-modals"].join(","),l=new i.e,s=(0,r.sr)(),d=e=>{if(!e[s]){e[s]=!0;for(const t of l.listeners)t(e)}},u=()=>{for(const e of document.querySelectorAll(a))d(e)};let _=!1;const m=e=>{const t=l.addListener(e);return(0,n.n)(u),_||(_=!0,(0,c.A)(e=>{const t=e.closest(".vkui__root");if(t)for(const e of t.querySelectorAll(a))d(e)})),t}},97833:(e,t,o)=>{o.d(t,{A:()=>s});var n=o(95728),i=o(22924),r=o(93819),c=o(74848),a=o(89307);const l=async e=>{const{default:t}=await o.e(2031).then(o.bind(o,2031));return(0,a.A)((0,c.jsx)(t,{...e}))},s=async(e,t)=>{const{fiber:o}=(0,n.A)(t),c=o?.return?.memoizedProps?.message,a=c?.peerId,s=c?.authorId;if(!a||!s)return!1;const d=e.querySelector(".ActionsMenu");if(!d)return!1;const u=await r.A;return d.append((0,i.y)({}),(0,i.h)({title:u.use("vkcom_convo_member_action_ban_custom"),onClick:async()=>{await l({peerId:a,authorId:s})}})),!0}}}]);