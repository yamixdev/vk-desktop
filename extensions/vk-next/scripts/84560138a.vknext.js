"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[5868],{38444:(e,t,o)=>{o.d(t,{A:()=>h});var r=o(22440),n=o(7417),i=o(22707),s=o(37400),l=o(38729),a=o(91570),c=o(2006);const d=(0,r.A)(),u=(0,l.NS)(),f=(0,l.NS)(),p=[],m=async(e,t)=>{if(!(e[`_${t}`]>1)){e[`_${t}`]=(e[`_${t}`]||0)+1;for(const o of p){const r=o[t];r&&(await(0,s.G)(),r(e))}}},_=(e,t)=>{t[u]||(t[u]=new MutationObserver(async o=>{for(const r of o)if("attributes"===r.type&&"style"===r.attributeName&&(await(0,s.G)(),"none"===t.style.display)){const t=e.querySelector(".Profile");t&&m(t,"onProfileLoadComplited")}}),t[u].observe(t,{attributes:!0}),c.A.add(t))},v=e=>{const t=e.querySelector(".Profile");return!!t&&(m(t,"onProfileLoadComplited"),!0)},y=()=>{for(const e of document.querySelectorAll(".ProfileWrapper,.ProfileWrapper__root")){m(e,"onProfileLoad");const t=e.querySelector("#profile_skeleton");let o=e.querySelector(".ProfileWrapper__root,#react_rootprofile")||e;o?v(o)||o&&!o[f]&&(o[f]=new MutationObserver((e,t)=>{v(o)&&t.disconnect()}),o[f].observe(o,{childList:!0,subtree:!0}),c.A.add(o)):t?_(e,t):m(e,"onErrorFindSkeleton")}};let b=!1;const h=async e=>{if(p.push(e),(0,n.n)(y),b)return;b=!0;(await(0,a.R)()).subscribeOnModuleEvaluated(async()=>{await(0,i.t)(),d.cur?.module&&"profile"!==d.cur?.module||requestIdleCallback(y)})}},67717:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t);var n=o(74848),i=o(57580),s=o(7417),l=(o(98570),o(38444)),a=o(43171),c=o(90603),d=o(3068),u=e([i]);i=(u.then?(await u)():u)[0];const f=document.createElement("div");f.className="ProfileHeaderButton";const p=async()=>{const{state:e,profileRedesigned:t}=(0,c.A)();if(!t)return;let r=t.querySelector(".ProfileHeaderActions");if(!r){const e=t.querySelector(".ProfileHeader__main");if(!e)return;r=document.createElement("div"),r.className="ProfileHeaderActions",e.appendChild(r);const o=document.createElement("div");o.className="vkuiFlex__host vkuiFlex__directionColumn vkuiFlex__alignEnd vkuiRootComponent__host",r.appendChild(o);const n=document.createElement("div");n.className="vkuiFlex__host vkuiRootComponent__host",o.appendChild(n)}const i=r.querySelector(".vkuiFlex__host > .vkuiFlex__host")||r.querySelector(".vkuiFlex__host");if(!i)return;if(i.contains(f))return;const s=i.querySelector('[class*="Spacing__root"]');if(s)s.insertAdjacentElement("beforebegin",f);else{const e=t.querySelector(".ProfileHeaderActions__moreButtonContainer");e?e.insertAdjacentElement("beforebegin",f):i.appendChild(f)}const l=await Promise.all([o.e(961),o.e(7397),o.e(1649),o.e(8414),o.e(913),o.e(6537)]).then(o.bind(o,86537)),{unmount:u}=await(0,d.A)({root:f,content:(0,n.jsx)(l.default,{state:e}),disableParentTransformForPositionFixedElements:!0});(0,a.A)(u)};0,(()=>{(0,s.n)(p),(0,l.A)({onProfileLoadComplited:()=>p()})})(),r()}catch(e){r(e)}})},90603:(e,t,o)=>{o.d(t,{A:()=>n});var r=o(95728);const n=()=>{const e=document.getElementById("profile_redesigned");if(!e)return{state:void 0,profileRedesigned:void 0,store:void 0};const t=document.getElementById("react_rootprofile"),{container:o,fiber:n}=(0,r.A)(t);let{env:i,store:s}=o?.memoizedState?.element?.props||n?.memoizedProps?.children?.[0]?.props?.children?.props||{};if(!s){const{fiber:t}=(0,r.A)(e);s=t?.return?.return?.memoizedProps?.value?.store||t?.return?.return?.return?.return?.return?.memoizedProps?.value}const l=s?.getState?.();return l||console.warn("profile state not found"),{state:l||void 0,profileRedesigned:e,store:s,env:i}}}}]);