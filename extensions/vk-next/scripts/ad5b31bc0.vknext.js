"use strict";(globalThis.webpackChunkvknext=globalThis.webpackChunkvknext||[]).push([[3265],{11060:(e,n,s)=>{s.d(n,{A:()=>o});const o=e=>e.split(" ").slice(0,2).map(e=>(e[0]||"").toUpperCase()).join("")},25606:(e,n,s)=>{s.d(n,{f:()=>o});var o=(0,s(78414).mT)("Icon56MessagesOutline","messages_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="messages_outline_56"><path fill="currentColor" fill-rule="evenodd" d="M22.029 10c-8.474 0-14.971 5.925-14.971 12.806 0 2.468.817 4.782 2.253 6.738a1.5 1.5 0 0 1 .291.888c0 1.638-.425 3.23-.953 4.674-.351.962-.772 1.919-1.17 2.803 3.314-.334 5.494-1.392 6.807-2.955a1.5 1.5 0 0 1 1.68-.437 17.1 17.1 0 0 0 6.063 1.095c8.474 0 14.97-5.925 14.97-12.806C37 15.925 30.504 10 22.03 10zM4.058 22.806C4.058 13.886 12.309 7 22.028 7 31.749 7 40 13.885 40 22.806s-8.251 15.806-17.971 15.806c-2.165 0-4.244-.337-6.172-.956-2.254 2.144-5.545 3.181-9.592 3.342-1.618.065-2.726-1.62-2.077-3.08q.21-.477.423-.946c.434-.963.861-1.911 1.22-2.895.41-1.12.689-2.184.756-3.19-1.6-2.346-2.53-5.115-2.53-8.081z" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M43.012 18.768a1.5 1.5 0 0 0 .377 2.088c3.437 2.385 5.553 5.988 5.553 9.95 0 2.469-.817 4.782-2.253 6.738a1.5 1.5 0 0 0-.291.888c0 1.638.425 3.23.952 4.674.352.962.773 1.919 1.17 2.803-3.314-.334-5.493-1.392-6.806-2.955a1.5 1.5 0 0 0-1.68-.437 17.1 17.1 0 0 1-6.063 1.095c-2.986 0-5.755-.748-8.078-2.026a1.5 1.5 0 0 0-1.446 2.63c2.77 1.523 6.037 2.396 9.524 2.396 2.164 0 4.244-.337 6.172-.956 2.254 2.144 5.545 3.181 9.592 3.342 1.618.065 2.726-1.62 2.077-3.08q-.21-.477-.423-.946c-.434-.962-.861-1.911-1.22-2.895-.41-1.12-.69-2.184-.756-3.19 1.6-2.346 2.53-5.115 2.53-8.081 0-5.09-2.725-9.557-6.843-12.415a1.5 1.5 0 0 0-2.088.377" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},35218:(e,n,s)=>{s.a(e,async(e,o)=>{try{s.d(n,{A:()=>x});var t=s(74848),r=s(25606),c=s(39107),a=s(96540),l=s(74225),i=s.n(l),d=s(11060),h=s(87675),u=s(92938),p=e([h]);h=(p.then?(await p)():p)[0];const v=e=>`https://${window.location?.host||"vk.ru"}/im?sel=${e}`,f=()=>{const e=[...Array(12).keys()].map(e=>(0,t.jsx)(c.T6P,{before:(0,t.jsx)(c.euF,{}),children:(0,t.jsx)(c.EAD,{width:150})},`convoSkeleton_${e}`));return(0,t.jsx)(t.Fragment,{children:e})},x=({ownerId:e})=>{const n=(0,h.A)(),[s,o]=(0,a.useState)(!0),[l,p]=(0,a.useState)([]);i()(async n=>{const s=await window.vkApi.api("messages.getSharedConversations",{peer_id:e||window.cur.peer||window.cur.oid});n&&(s?.items?.length?(p(s.items),o(!1)):o(!1))},[e]);const x=!l||0===l.length,w={maxHeight:400};let m;return x&&(w.height=w.maxHeight),s&&(w.overflow="hidden"),m=s?(0,t.jsx)(f,{}):l.map(e=>{let n=null;const s=e?.chat_settings?.photo?.photo_50;n=s?(0,t.jsx)(c.euF,{src:s}):(0,t.jsx)(c.euF,{gradientColor:(0,c.NTc)(e.peer.id),children:(0,d.A)(e?.chat_settings?.title||"")});const o=v(e.peer.id);return(0,t.jsx)(c.T6P,{chevron:"auto",borderRadiusMode:"inherit",before:n,href:o,target:"_blank",children:e?.chat_settings?.title},e.peer.id)}),(0,t.jsxs)(c.guY,{style:w,children:[m,!s&&x?(0,t.jsx)(c.OrA,{className:u.A.SharedConvosPlaceholder,icon:(0,t.jsx)(r.f,{}),children:n.use("vkcom_shared_convos_empty")}):(0,t.jsx)(c.wi6,{children:n.use("vkcom_chats_plurals",l.length)},"footer")]})};o()}catch(e){o(e)}})},63265:(e,n,s)=>{s.a(e,async(e,o)=>{try{s.d(n,{default:()=>d});var t=s(74848),r=s(39107),c=s(84833),a=s(87675),l=s(35218),i=e([a,l]);[a,l]=i.then?(await i)():i;const d=({ownerId:e})=>{const n=(0,a.A)();return(0,t.jsx)(c.A,{size:500,header:(0,t.jsx)(r.aO9,{noSeparator:!0,children:n.use("vkcom_shared_convos")}),children:(0,t.jsx)(l.A,{ownerId:e})})};o()}catch(e){o(e)}})},74225:(e,n,s)=>{var o=s(96540);function t(e,n,s){var t="function"==typeof n;o.useEffect(function(){var s,o=!0,r=e(function(){return o});return Promise.resolve(r).then(function(e){s=e}),function(){o=!1,t&&n(s)}},t?s:n)}e.exports=t,e.exports.useAsyncEffect=t},84833:(e,n,s)=>{s.d(n,{A:()=>a});var o=s(74848),t=s(39107),r=s(96540),c=s(17100);const a=({children:e,noClose:n=!1,...s})=>{const{open:a,setOpen:l,onClose:i,onClosed:d,onOpen:h,onOpened:u}=(0,c.Fs)(),p=(0,r.useId)();return(0,o.jsx)(t.VWm,{nav:p,open:a,onClose:(e,s)=>{n||(l(!1),i?.(e,s))},onClosed:d,onOpen:h,onOpened:u,...s,children:(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)(t.qBl,{}),children:e})})}},92938:(e,n,s)=>{s.d(n,{A:()=>o});const o={SharedConvosPlaceholder:"nfnhy9u46vn23tF8"}}}]);